<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>[Git] æˆ‘è¦æ•´é½Šçš„Commitï¼ç”¨git-czçµ±ä¸€æ ¼å¼ï¼</title>
    <link href="/posts/20240527-git-cz/"/>
    <url>/posts/20240527-git-cz/</url>
    
    <content type="html"><![CDATA[<h2 id="ä»‹ç´¹"><a href="#ä»‹ç´¹" class="headerlink" title="ä»‹ç´¹"></a>ä»‹ç´¹</h2><h3 id="ç°¡è¿°"><a href="#ç°¡è¿°" class="headerlink" title="ç°¡è¿°"></a>ç°¡è¿°</h3><p>åœ¨è»Ÿé«”é–‹ç™¼ä¸­ï¼ŒGitæ˜¯ç›®å‰æœ€ä¸»æµçš„ç‰ˆæœ¬æ§åˆ¶ç³»çµ±ï¼Œç”¨ä¾†è¿½è¹¤å’Œç®¡ç†ç¨‹å¼ç¢¼çš„è®Šæ›´ã€‚éš¨è‘—å°ˆæ¡ˆè¦æ¨¡çš„æ“´å¤§ï¼Œæäº¤ï¼ˆcommitï¼‰è¨Šæ¯çš„ç®¡ç†è®Šå¾—æ›´åŠ é‡è¦ã€‚<br>é€™æ™‚å€™ï¼Œä¸€å€‹èƒ½å¹«åŠ©é–‹ç™¼è€…è¦ç¯„æäº¤è¨Šæ¯çš„å·¥å…·å°±é¡¯å¾—ç‰¹åˆ¥é‡è¦ã€‚git-czå°±æ˜¯ç”¨ä¾†ç”¢ç”Ÿç°¡æ½”æ˜ç­æäº¤è¨Šæ¯çš„å·¥å…·ã€‚  </p><h3 id="ä½¿ç”¨git-czçš„å„ªé»"><a href="#ä½¿ç”¨git-czçš„å„ªé»" class="headerlink" title="ä½¿ç”¨git-czçš„å„ªé»"></a>ä½¿ç”¨git-czçš„å„ªé»</h3><ol><li>è¦ç¯„æäº¤è¨Šæ¯ï¼šç¢ºä¿æ¯å€‹æäº¤çš„è¨Šæ¯ç¬¦åˆé å®šçš„æ ¼å¼ï¼Œä¾¿æ–¼æ—¥å¾Œçš„ç¨‹å¼ç¢¼ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶ã€‚</li><li>æé«˜å¯è®€æ€§ï¼šæ¨™æº–åŒ–çš„æäº¤è¨Šæ¯è®“ç¨‹å¼ç¢¼æ­·å²æ›´æ˜“è®€ï¼Œæ–¹ä¾¿é–‹ç™¼è€…å¿«é€Ÿç†è§£æ¯å€‹è®Šæ›´çš„ç›®çš„ã€‚</li><li>å¿«é€Ÿç”Ÿæˆæäº¤è¨Šæ¯ï¼šä½¿ç”¨å‘½ä»¤åˆ—äº¤äº’å·¥å…·å¯ä»¥å¿«é€Ÿçš„ç”¢ç”Ÿè¨Šæ¯ï¼Œåªéœ€è¦è¼¸å…¥æœ€é‡è¦çš„å…§å®¹ï¼Œå…¶é¤˜çš„éƒ¨åˆ†å°‡ç”±å·¥å…·ç”Ÿæˆï¼Œç¯€çœæ™‚é–“</li></ol><h3 id="å‘ˆç¾æ•ˆæœ"><a href="#å‘ˆç¾æ•ˆæœ" class="headerlink" title="å‘ˆç¾æ•ˆæœ"></a>å‘ˆç¾æ•ˆæœ</h3><p><img src="https://i.imgur.com/0GlNvb5.png" alt="git-czçš„commitç¯„ä¾‹"></p><h3 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h3><p>æ¡ç”¨git-czçš„Commitæ ¼å¼å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">type</span>&gt;</span>(<span class="hljs-tag">&lt;<span class="hljs-name">scope</span>&gt;</span>): <span class="hljs-tag">&lt;<span class="hljs-name">gitmoji</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">description</span>&gt;</span></code></pre></div><p>ä¾‹å¦‚ï¼š</p><div class="code-wrapper"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">feat</span><span class="hljs-params">(controller)</span></span>: âœ¨ æ–°å¢ç®¡ç†è¨‚å–®é é¢ä¸­çš„æ‰¹æ¬¡ä¿®æ”¹åŠŸèƒ½</code></pre></div><h4 id=""><a href="#" class="headerlink" title="&lt;Type&gt;"></a><code>&lt;Type&gt;</code></h4><p>é¡å‹å¦‚ä¸‹ï¼š</p><ul><li>testï¼šå¢åŠ æ¸¬è©¦åŠŸèƒ½</li><li>featï¼šæ–°å¢&#x2F;ä¿®æ”¹åŠŸèƒ½</li><li>fixï¼šä¿®æ­£ Bug</li><li>choreï¼šå¢åŠ æˆ–ä¿®æ”¹ç¬¬ä¸‰æ–¹å¥—ä»¶(è¼”åŠ©å·¥å…·)ç­‰</li><li>docsï¼šä¿®æ”¹&#x2F;æ–°å¢æ–‡ä»¶</li><li>refactorï¼šé‡æ§‹ or å„ªåŒ–ï¼Œä¸å±¬æ–¼ bug ä¹Ÿä¸å±¬æ–¼æ–°å¢åŠŸèƒ½ç­‰</li><li>styleï¼šä¿®æ”¹ç¨‹å¼ç¢¼æ ¼å¼æˆ–é¢¨æ ¼ï¼Œä¸å½±éŸ¿åŸæœ‰é‹ä½œï¼Œä¾‹å¦‚ ESLintã€PHP-CS-Fixer</li><li>ciï¼šCI ç›¸é—œæ›´å‹•</li><li>perfï¼šæé«˜æ•ˆèƒ½çš„ç¨‹å¼ç¢¼ä¿®æ­£</li></ul><h4 id="-1"><a href="#-1" class="headerlink" title="&lt;scope&gt;"></a><code>&lt;scope&gt;</code></h4><p>ä¿®æ”¹çš„ç¯„åœï¼Œå¯ä»¥æŒ‰ç…§éœ€æ±‚åˆ†é¡ã€‚<br>ä»¥æˆ‘è‡ªå·±é–‹ç™¼Laravelç‚ºä¾‹ï¼šæœƒæŒ‰ç…§åŠŸèƒ½çµ„ä»¶æ‹†æˆcontroller, service, request, commandï¼Œè¼¸å…¥çš„å…§å®¹é€šå¸¸ç‚ºè©²æª”æ¡ˆæ‰€å±¬çš„è³‡æ–™å¤¾åç¨±ï¼Œä¸”ç‚ºâ€å–®æ•¸â€ï¼Œå…¨éƒ¨å°å¯«ã€‚</p><h4 id="-2"><a href="#-2" class="headerlink" title="&lt;gitmoji&gt;"></a><code>&lt;gitmoji&gt;</code></h4><p>ä¹Ÿè¨±ä½ æœƒæ³¨æ„åˆ°ï¼ŒCommitèªªæ˜æ–‡å­—å‰é¢å¤šäº†ä¸€å€‹emojiï¼Œé€™å…¶å¯¦æ˜¯ç‚ºäº†æé«˜commitçš„å¯è®€æ€§ï¼Œåœ¨ä¸€å †æ–‡å­—ç•¶ä¸­ï¼Œå¦‚æœå­˜åœ¨ç°¡æ½”æ˜ç­çš„åœ–ç¤ºï¼Œå°±å¯ä»¥å¿«é€Ÿåˆ†è¾¨fixã€featç­‰ç­‰çš„ä¸åŒï¼Œè€Œé€™ç¨®ç”¨é€”çš„emojiåˆç¨±ç‚ºgitmojiã€‚<br>ä½ ä¹Ÿå¯ä»¥åœ¨<a href="https://gitmoji.dev/">é€™è£¡</a>æ‰¾åˆ°ä¸åŒç‹€æ³ä¸‹å»ºè­°ä½¿ç”¨çš„gitmojiã€‚<br><img src="https://i.imgur.com/9Xu2enV.png" alt="git-czé…åˆgitmojiä½¿ç”¨æ•ˆæœåŠ å€!"></p><h4 id="-3"><a href="#-3" class="headerlink" title="&lt;description&gt;"></a><code>&lt;description&gt;</code></h4><p>ç°¡çŸ­çš„æäº¤å…§å®¹æè¿°ï¼Œå­—æ•¸é™åˆ¶çš„ç›®çš„æ˜¯å¼·è¿«æ¨™é¡Œç°¡çŸ­ï¼Œè©³ç´°çš„å…§å®¹æœƒæ”¾åœ¨commitçš„å…§æ–‡ä¸­ã€‚</p><h2 id="å®‰è£"><a href="#å®‰è£" class="headerlink" title="å®‰è£"></a>å®‰è£</h2><h3 id="æŒ‡ä»¤"><a href="#æŒ‡ä»¤" class="headerlink" title="æŒ‡ä»¤"></a>æŒ‡ä»¤</h3><p>ä½¿ç”¨npmæŒ‡ä»¤é€²è¡Œå®‰è£<a href="https://github.com/stanlindsey/git-cz">æ­¤å·¥å…·</a><br>(æ­¤å·¥å…·ç‚º<a href="https://github.com/streamich/git-cz">streamich&#x2F;git-cz</a>çš„forkedï¼Œä¸ä½¿ç”¨åŸç‰ˆå·¥å…·çš„åŸå› æ˜¯åŸç‰ˆç„¡æ³•æäº¤æ™‚æ‰‹å‹•è¼¸å…¥<code>&lt;scope&gt;</code>æ–‡å­—å…§å®¹)</p><div class="code-wrapper"><pre><code class="hljs bash">npm install -g @stanlindsey/git-cz</code></pre></div><h3 id="é…ç½®è¨­å®šæª”"><a href="#é…ç½®è¨­å®šæª”" class="headerlink" title="é…ç½®è¨­å®šæª”"></a>é…ç½®è¨­å®šæª”</h3><p>æ­¤å·¥å…·é è¨­æœƒæ‰¾åŸ·è¡ŒæŒ‡ä»¤ä½ç½®çš„è¨­å®šæª”(é€šå¸¸æ˜¯å°ˆæ¡ˆæ ¹ç›®éŒ„)ï¼Œå¦‚æœæ‰¾ä¸åˆ°å°±å¾€ä¸Šä¸€å€‹å±¤ç´šçš„è³‡æ–™å¤¾æ‰¾ï¼Œç›´åˆ°æ ¹ç›®éŒ„ç‚ºæ­¢ã€‚ä¸¦ä¸”æª”æ¡ˆåç¨±å›ºå®šç‚º<code>changelog.config.js</code> </p><p>æ‰€ä»¥æˆ‘å€‘åœ¨å°ˆæ¡ˆçš„æ ¹ç›®éŒ„æˆ–ä¹‹ä¸Šçš„è·¯å¾‘å»ºç«‹ä¸€å€‹åç‚º<code>changelog.config.js</code> çš„æª”æ¡ˆï¼Œä¸¦åœ¨æª”æ¡ˆä¸­å¯«å…¥ä»¥ä¸‹å…§å®¹å¾Œå„²å­˜ï¼š  </p><div class="code-wrapper"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><span class="hljs-comment"> * source: https://gist.github.com/hankz1108/b0862d481c714e99067b06c2ca401510</span><span class="hljs-comment"> * package: https://github.com/stanlindsey/git-cz</span><span class="hljs-comment"> * gitmoji: https://github.com/carloscuesta/gitmoji/?tab=readme-ov-file</span><span class="hljs-comment"> * translate by: https://israynotarray.com/git/20221115/721294310/</span><span class="hljs-comment"> */</span><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;  <span class="hljs-attr">disableEmoji</span>: <span class="hljs-literal">false</span>, <span class="hljs-comment">// æ˜¯å¦ç¦ç”¨ emoji</span>  <span class="hljs-attr">format</span>: <span class="hljs-string">&#x27;&#123;type&#125;&#123;scope&#125;: &#123;emoji&#125; &#123;subject&#125;&#x27;</span>, <span class="hljs-comment">// Commit è¨Šæ¯çš„æ ¼å¼</span>  <span class="hljs-attr">list</span>: [<span class="hljs-string">&#x27;test&#x27;</span>, <span class="hljs-string">&#x27;feat&#x27;</span>, <span class="hljs-string">&#x27;fix&#x27;</span>, <span class="hljs-string">&#x27;chore&#x27;</span>, <span class="hljs-string">&#x27;docs&#x27;</span>, <span class="hljs-string">&#x27;refactor&#x27;</span>, <span class="hljs-string">&#x27;style&#x27;</span>, <span class="hljs-string">&#x27;ci&#x27;</span>, <span class="hljs-string">&#x27;perf&#x27;</span>], <span class="hljs-comment">// Commit é¡å‹çš„æ¸…å–®</span>  <span class="hljs-attr">maxMessageLength</span>: <span class="hljs-number">64</span>, <span class="hljs-comment">// Commit è¨Šæ¯çš„æœ€å¤§é•·åº¦</span>  <span class="hljs-attr">minMessageLength</span>: <span class="hljs-number">3</span>, <span class="hljs-comment">// Commit è¨Šæ¯çš„æœ€å°é•·åº¦</span>  <span class="hljs-attr">questions</span>: [<span class="hljs-string">&#x27;type&#x27;</span>, <span class="hljs-string">&#x27;scope&#x27;</span>, <span class="hljs-string">&#x27;subject&#x27;</span>, <span class="hljs-string">&#x27;body&#x27;</span>, <span class="hljs-string">&#x27;breaking&#x27;</span>, <span class="hljs-string">&#x27;issues&#x27;</span>, <span class="hljs-string">&#x27;lerna&#x27;</span>], <span class="hljs-comment">// å•é¡Œçš„æ¸…å–®</span>  <span class="hljs-attr">enableWritingScopes</span>: <span class="hljs-literal">true</span>, <span class="hljs-comment">// æ˜¯å¦å¯è‡ªè¨‚scopeå…§å®¹</span>  <span class="hljs-comment">// scopes: [], // Commit ç¯„åœçš„æ¸…å–®</span>  <span class="hljs-attr">types</span>: &#123; <span class="hljs-comment">// Commit é¡å‹çš„æ¸…å–®</span>    <span class="hljs-attr">chore</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;å¢åŠ æˆ–ä¿®æ”¹ç¬¬ä¸‰æ–¹å¥—ä»¶(è¼”åŠ©å·¥å…·)ç­‰ (maintain)&#x27;</span>, <span class="hljs-comment">// Commit é¡å‹çš„æè¿°</span>      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;ğŸ“¦&#x27;</span>, <span class="hljs-comment">// Commit é¡å‹çš„ emoji</span>      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;chore&#x27;</span> <span class="hljs-comment">// Commit é¡å‹çš„å€¼</span>    &#125;,    <span class="hljs-attr">ci</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;CI ç›¸é—œæ›´å‹•(Continuous Integration)&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;ğŸ’š&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;ci&#x27;</span>    &#125;,    <span class="hljs-attr">docs</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;ä¿®æ”¹/æ–°å¢æ–‡ä»¶ (documentation)&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;ğŸ“&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;docs&#x27;</span>    &#125;,    <span class="hljs-attr">feat</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;æ–°å¢/ä¿®æ”¹åŠŸèƒ½ (Feature)&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;âœ¨&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;feat&#x27;</span>    &#125;,    <span class="hljs-attr">fix</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;ä¿®æ­£ Bug (bug fix)&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;ğŸ›&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;fix&#x27;</span>    &#125;,    <span class="hljs-attr">perf</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;æé«˜æ•ˆèƒ½çš„ç¨‹å¼ç¢¼ä¿®æ­£&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;âš¡ï¸&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;perf&#x27;</span>    &#125;,    <span class="hljs-attr">refactor</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;é‡æ§‹ or å„ªåŒ–ï¼Œä¸å±¬æ–¼ bug ä¹Ÿä¸å±¬æ–¼æ–°å¢åŠŸèƒ½ç­‰&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;â™»ï¸&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;refactor&#x27;</span>    &#125;,    <span class="hljs-attr">release</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;æ–°å¢æ­£å¼é‡‹å‡ºçš„ release commit è¨Šæ¯&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;ğŸ”–&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;release&#x27;</span>    &#125;,    <span class="hljs-attr">style</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;ä¿®æ”¹ç¨‹å¼ç¢¼æ ¼å¼æˆ–é¢¨æ ¼ï¼Œä¸å½±éŸ¿åŸæœ‰é‹ä½œï¼Œä¾‹å¦‚ ESLintã€PHP-CS-Fixer (formatting, missing semi colons, â€¦)&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;ğŸ’„&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;style&#x27;</span>    &#125;,    <span class="hljs-attr">test</span>: &#123;      <span class="hljs-attr">description</span>: <span class="hljs-string">&#x27;å¢åŠ æ¸¬è©¦åŠŸèƒ½ (when adding missing tests)&#x27;</span>,      <span class="hljs-attr">emoji</span>: <span class="hljs-string">&#x27;âœ…&#x27;</span>,      <span class="hljs-attr">value</span>: <span class="hljs-string">&#x27;test&#x27;</span>    &#125;,  &#125;,  <span class="hljs-attr">messages</span>: &#123;  <span class="hljs-comment">// Commit çš„æç¤ºè¨Šæ¯æè¿°</span>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;è«‹é¸æ“‡æ‚¨è¦ Commit çš„é¡å‹(å¿…é¸):&#x27;</span>,    <span class="hljs-attr">customScope</span>: <span class="hljs-string">&#x27;é¸æ“‡æ­¤æ¬¡ Commit å½±éŸ¿çš„ç¯„åœ(å¯é¸ï¼Œè‹¥ç„¡ï¼Œè«‹æŒ‰ Enter ç•¥é):&#x27;</span>,    <span class="hljs-attr">subject</span>: <span class="hljs-string">&#x27;ç°¡çŸ­æè¿° Commit çš„ä¿®æ­£ç¯„åœ(å¿…å¡«):\n&#x27;</span>,    <span class="hljs-attr">body</span>: <span class="hljs-string">&#x27;æ›´è©³ç´°çš„ Commit èªªæ˜(å¯é¸ï¼Œè‹¥ç„¡ï¼Œè«‹æŒ‰ Enter ç•¥é):\n &#x27;</span>,    <span class="hljs-attr">breaking</span>: <span class="hljs-string">&#x27;åˆ—å‡ºæ‰€æœ‰é‡å¤§æ›´æ”¹(å¯é¸ï¼Œè‹¥ç„¡ï¼Œè«‹æŒ‰ Enter ç•¥é):\n&#x27;</span>,    <span class="hljs-attr">footer</span>: <span class="hljs-string">&#x27;æ­¤æ¬¡ Commit æœƒé—œé–‰çš„ Issues, e.g #123(å¯é¸ï¼Œè‹¥ç„¡ï¼Œè«‹æŒ‰ Enter ç•¥é):&#x27;</span>,    <span class="hljs-attr">confirmCommit</span>: <span class="hljs-string">&#x27;è«‹ç¢ºèªæœ¬æ¬¡ Commit æè¿°ã€‚\n&#x27;</span>,  &#125;,&#125;;</code></pre></div><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>å®‰è£è©²å¥—ä»¶å¾Œæœƒæ–°å¢ä¸€å€‹æ–°çš„æŒ‡ä»¤<code>git cz</code>ï¼Œç”¨ä¾†å–ä»£åŸæœ‰çš„<code>git commit</code> ï¼ŒæŒ‡ä»¤ä½¿ç”¨æ–¹å¼å¦‚ä¸‹ï¼š</p><ol><li>åŸ·è¡Œ<code>git cz</code>æŒ‡ä»¤å¾Œæœƒé–‹å•Ÿä¸€å€‹äº¤äº’å¼è¦–çª—ï¼Œä½¿ç”¨æ–¹å‘éµé¸æ“‡éœ€è¦çš„commit typeï¼Œé¸å¥½å¾ŒæŒ‰ä¸‹Enter<br><img src="https://i.imgur.com/mJUUMFl.png" alt="git-czå·¥å…·é–‹å•Ÿç•«é¢"></li><li>è¼¸å…¥ä¿®æ”¹çš„ç¯„åœ<code>&lt;scope&gt;</code></li><li>è¼¸å…¥ç°¡çŸ­èªªæ˜æ­¤æ¬¡commitçš„å…§å®¹(æœ‰å­—æ•¸é™åˆ¶ï¼Œå¿…å¡«)</li><li>è©³ç´°èªªæ˜commitå…§å®¹</li><li>é‡å¤§æ›´æ”¹èªªæ˜</li><li>Issueï¼Œä¸å¸¸ç”¨åˆ°</li></ol><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul><li><a href="https://github.com/stanlindsey/git-cz">https://github.com/stanlindsey/git-cz</a></li><li><a href="https://github.com/streamich/git-cz">https://github.com/streamich/git-cz</a></li><li><a href="https://gitmoji.dev/">https://gitmoji.dev/</a></li><li><a href="https://github.com/hankz1108">https://github.com/hankz1108</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Git</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[GCP] å¦‚ä½•ç”¢ç”Ÿå¸³æˆ¶é‡‘é‘°ä¸¦è®“DBeaveré€£æ¥BigQueryæœå‹™</title>
    <link href="/posts/20240410-gcp-bigquery-connect-with-dbeaver/"/>
    <url>/posts/20240410-gcp-bigquery-connect-with-dbeaver/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘å€‘åœ¨ä½¿ç”¨Google Cloud Platform(GCP)çš„BigQueryæœå‹™çš„æ™‚å€™ï¼Œå¦‚æœç¸½æ˜¯é€éç¶²é ä¾†æ“ä½œé›£å…ä¸æ–¹ä¾¿ï¼Œæœ¬ç¯‡æ–‡ç« å°‡æè¿°å¦‚ä½•ç”¢ç”ŸGCPçš„æœå‹™å¸³æˆ¶é‡‘é‘°ï¼Œä¸¦åˆ©ç”¨è©²é‡‘é‘°åœ¨DBeaveræˆ–æ˜¯å…¶ä»–é€éæ”¯æ´JDBCçš„è»Ÿé«”é€£æ¥åˆ°BigQueryæœå‹™ã€‚</p><h2 id="ä¸€ã€ç”¢ç”Ÿæœå‹™å¸³æˆ¶é‡‘é‘°"><a href="#ä¸€ã€ç”¢ç”Ÿæœå‹™å¸³æˆ¶é‡‘é‘°" class="headerlink" title="ä¸€ã€ç”¢ç”Ÿæœå‹™å¸³æˆ¶é‡‘é‘°"></a>ä¸€ã€ç”¢ç”Ÿæœå‹™å¸³æˆ¶é‡‘é‘°</h2><p>åƒè€ƒ<a href="https://m2msupport.net/m2msupport/generate-service-account-key-in-google-cloud-platform-gcp/">é€™ç¯‡æ–‡ç« </a>å–å¾—æœå‹™å¸³æˆ¶é‡‘é‘°çš„jsonæª”æ¡ˆï¼Œéç¨‹ä¸­è«‹æ³¨æ„ä»¥ä¸‹äº‹é …ï¼š</p><ul><li>æŒ‰ç…§éœ€è¦çµ¦äºˆæœ‰æ¬Šé™å­˜å–BigQueryçš„è§’è‰²</li><li>å°‡æœå‹™å¸³æˆ¶çš„å­˜å–æ¬Šæˆäºˆè‡ªå·±çš„googleå¸³è™Ÿ</li><li>ä¸‹è¼‰çš„æª”æ¡ˆè«‹å‹™å¿…ä¿ç®¡å¥½ï¼Œä¹‹å¾Œçš„é€£ç·šéƒ½æœƒéœ€è¦ä¾é é€™å€‹æª”æ¡ˆã€‚</li></ul><h2 id="äºŒã€è¨­ç½®DBeaverçš„é€£ç·š"><a href="#äºŒã€è¨­ç½®DBeaverçš„é€£ç·š" class="headerlink" title="äºŒã€è¨­ç½®DBeaverçš„é€£ç·š"></a>äºŒã€è¨­ç½®DBeaverçš„é€£ç·š</h2><ol><li><p>åˆ°GCPçš„BigQueryæœå‹™ç•Œé¢ï¼Œä¸¦åœ¨å·¦å´çš„Explorerä¸­æ‰¾åˆ°ä½ æƒ³è¦é€£æ¥çš„æœå‹™ï¼Œä¸¦é»æ“ŠæŸ¥è©¢ï¼Œå°±å¯ä»¥åœ¨å³æ–¹åˆ†é å…§å®¹ä¸­è¤‡è£½å‡ºProject ID</p><p> <img src="https://i.imgur.com/GZOinKF.png" alt="20240410224716"></p></li><li><p>å›åˆ°DBeaverä¸­ï¼Œå°‡è¤‡è£½éä¾†çš„Project IDè²¼åˆ°Projectçš„æ¬„ä½ä¸­(ä¸‹åœ–ç´…æ¡†è™•)<br> <img src="https://i.imgur.com/0wDjC7a.png" alt="20240410224953"></p></li><li><p>å°‡OAuth typeæ”¹ç‚ºUser-based<br> <img src="https://i.imgur.com/a1nwMmv.png" alt="20240410225001"></p></li><li><p>åœ¨Key Pathçš„æ¬„ä½é¸æ“‡å‰›å‰›ä¸‹è¼‰çš„jsonæª”æ¡ˆ<br> <img src="https://i.imgur.com/0DA25zS.png" alt="20240410225009"></p></li><li><p>å¡«å¯«å®Œç•¢å¾Œï¼Œå°±å¯ä»¥ä½¿ç”¨å·¦ä¸‹è§’çš„Test ConnectionæŒ‰éˆ•æ¸¬è©¦é€£ç·šï¼Œé€£ç·šæ™‚æœƒé€éç€è¦½å™¨ç¢ºèªå¸³è™Ÿæˆæ¬Šï¼Œå¦‚æœé †åˆ©å°±å¯ä»¥æˆåŠŸé€£æ¥åˆ°BigQueryçš„æœå‹™äº†ã€‚(å¦‚æœæ²’æœ‰å®‰è£Driverï¼Œå°±æœƒè·³å‡ºä¸‹è¼‰JDBC Driverçš„è¦–çª—)</p></li></ol><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>elementary OS 7.1 (based on Ubuntu 22.04)</li><li>DBeaver 24.0.2</li><li>Simba JDBC Driver for Google BigQuery 42_1.5.0.1001</li></ul><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul><li><a href="https://dbeaver.com/docs/dbeaver/Database-driver-BigQuery/24.0/">https://dbeaver.com/docs/dbeaver/Database-driver-BigQuery/24.0/</a></li><li><a href="https://m2msupport.net/m2msupport/generate-service-account-key-in-google-cloud-platform-gcp/">https://m2msupport.net/m2msupport/generate-service-account-key-in-google-cloud-platform-gcp/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>GCP</category>
      
    </categories>
    
    
    <tags>
      
      <tag>GCP</tag>
      
      <tag>BigQuery</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[PHP] $thisã€selfèˆ‡staticçš„å·®åˆ¥</title>
    <link href="/posts/20240310-php-self-and-static/"/>
    <url>/posts/20240310-php-self-and-static/</url>
    
    <content type="html"><![CDATA[<p>åœ¨PHPä¸­å¯ä»¥ç”¨<code>$this</code>ã€<code>self</code>ã€èˆ‡<code>static</code>ä»£è¡¨è‡ªå·±é€™å€‹é¡åˆ¥<br>æœ‰äº›äººå¯èƒ½æä¸æ¸…æ¥šä»–å€‘çš„å€åˆ¥ï¼Œå°¤å…¶æ˜¯<code>self</code>ã€èˆ‡<code>static</code><br>ä½†æ˜¯ä»–å€‘å„åˆ¥æœ‰è‡ªå·±çš„æ„ç¾©å’Œç”¨æ³•<br>åœ¨å¯¦æˆ°ä¸­é€™äº›äº›å¾®çš„å·®åˆ¥å¯èƒ½å°±æœƒé€ æˆä¸å¯é æœŸçš„å•é¡Œ<br>ä»Šå¤©æˆ‘å€‘å°±ä¾†ä»”ç´°èªªæ˜ä¸€ä¸‹ä»–å€‘ä¹‹é–“çš„å·®åˆ¥å§</p><h2 id="1-this"><a href="#1-this" class="headerlink" title="1. $this"></a>1. $this</h2><h3 id="èªªæ˜ï¼š"><a href="#èªªæ˜ï¼š" class="headerlink" title="èªªæ˜ï¼š"></a>èªªæ˜ï¼š</h3><ul><li><code>$this</code> æ˜¯ä¸€å€‹ç‰¹æ®Šçš„è®Šæ•¸ï¼Œç”¨æ–¼åœ¨ç‰©ä»¶æ–¹æ³•ä¸­å¼•ç”¨ç•¶å‰ç‰©ä»¶çš„å¯¦ä¾‹</li><li>å®ƒåªèƒ½åœ¨é¡åˆ¥çš„ééœæ…‹æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œä¸”ç”¨æ–¼å¼•ç”¨è©²æ–¹æ³•æ‰€å±¬çš„ç‰©ä»¶</li><li>é€šå¸¸ç”¨æ–¼å­˜å–ç‰©ä»¶çš„å±¬æ€§å’Œå‘¼å«ç‰©ä»¶çš„æ–¹æ³•</li></ul><h3 id="ç¯„ä¾‹ï¼š"><a href="#ç¯„ä¾‹ï¼š" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h3><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>&#123;    <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> <span class="hljs-variable">$bar</span> = <span class="hljs-string">&#x27;bar&#x27;</span>;    <span class="hljs-comment">// å­˜å–å±¬æ€§</span>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBar</span>(<span class="hljs-params"></span>): <span class="hljs-title">string</span></span><span class="hljs-function">    </span>&#123;        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>-&gt;bar;    &#125;    <span class="hljs-comment">// å‘¼å«æ–¹æ³•</span>    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printBar</span>(<span class="hljs-params"></span>): <span class="hljs-title">void</span></span><span class="hljs-function">    </span>&#123;        <span class="hljs-keyword">echo</span> <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">getBar</span>();    &#125;&#125;<span class="hljs-variable">$foo</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>();<span class="hljs-variable">$foo</span>-&gt;bar = <span class="hljs-string">&#x27;my_bar&#x27;</span>;<span class="hljs-variable">$foo</span>-&gt;<span class="hljs-title function_ invoke__">printBar</span>(); <span class="hljs-comment">// å°å‡ºmy_bar</span></code></pre></div><h2 id="2-self"><a href="#2-self" class="headerlink" title="2. self"></a>2. self</h2><h3 id="èªªæ˜ï¼š-1"><a href="#èªªæ˜ï¼š-1" class="headerlink" title="èªªæ˜ï¼š"></a>èªªæ˜ï¼š</h3><ul><li><code>self</code> æ˜¯ç”¨æ–¼åœ¨é¡åˆ¥å…§éƒ¨å¼•ç”¨è‡ªèº«çš„é—œéµå­—</li><li>å®ƒå¯ä»¥åœ¨éœæ…‹æ–¹æ³•å’Œééœæ…‹æ–¹æ³•ä¸­å¼•ç”¨æœªå¯¦ä¾‹åŒ–çš„é¡åˆ¥æœ¬èº«</li><li>ä½¿ç”¨ <code>self</code> æ™‚ï¼Œå¼•ç”¨çš„æ˜¯å®šç¾©è©²é—œéµå­—çš„é¡åˆ¥ï¼Œè€Œä¸æ˜¯å¯¦ä¾‹åŒ–å¾Œçš„ç‰©ä»¶ï¼Œæ‰€ä»¥è¢«ç¹¼æ‰¿ä¹‹å¾Œï¼Œ<code>self</code>æŒ‡çš„é‚„æ˜¯ç•¶åˆçš„çˆ¶é¡åˆ¥</li></ul><h3 id="ç¯„ä¾‹ï¼š-1"><a href="#ç¯„ä¾‹ï¼š-1" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h3><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>&#123;    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BAR</span> = <span class="hljs-string">&#x27;bar&#x27;</span>;    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printBar</span>(<span class="hljs-params"></span>): <span class="hljs-title">void</span></span><span class="hljs-function">    </span>&#123;        <span class="hljs-keyword">echo</span> <span class="hljs-built_in">self</span>::<span class="hljs-variable constant_">BAR</span>;    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Foo</span></span><span class="hljs-class"></span>&#123;    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BAR</span> = <span class="hljs-string">&#x27;bar2&#x27;</span>;&#125;<span class="hljs-variable">$foo2</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo2</span>();<span class="hljs-variable">$foo2</span>-&gt;<span class="hljs-title function_ invoke__">printBar</span>(); <span class="hljs-comment">// å°å‡ºbar</span></code></pre></div><h2 id="3-static"><a href="#3-static" class="headerlink" title="3. static"></a>3. static</h2><h3 id="èªªæ˜ï¼š-2"><a href="#èªªæ˜ï¼š-2" class="headerlink" title="èªªæ˜ï¼š"></a>èªªæ˜ï¼š</h3><ul><li><code>static</code> ä¹Ÿæ˜¯ç”¨æ–¼åœ¨é¡åˆ¥å…§éƒ¨å¼•ç”¨è‡ªèº«çš„é—œéµå­—</li><li>å®ƒå¯ä»¥åœ¨éœæ…‹æ–¹æ³•å’Œééœæ…‹æ–¹æ³•ä¸­å¼•ç”¨æœªå¯¦ä¾‹åŒ–çš„é¡åˆ¥æœ¬èº«</li><li>ä¸åŒæ–¼ <code>self</code>ï¼Œ<code>static</code> åœ¨é‹è¡Œæ™‚ç¹«çµï¼Œå› æ­¤å¯ä»¥å¯¦ç¾å¾ŒæœŸç¹«çµï¼ˆ<a href="https://www.php.net/manual/en/language.oop5.late-static-bindings.php">Late Static Binding</a>ï¼‰ï¼Œå¼•ç”¨è©²æ–¹æ³•å¯¦éš›è¢«èª¿ç”¨çš„é¡åˆ¥<div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo</span> </span>&#123;    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BAR</span> = <span class="hljs-string">&#x27;bar&#x27;</span>;    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">printBar</span>(<span class="hljs-params"></span>): <span class="hljs-title">void</span></span><span class="hljs-function">    </span>&#123;        <span class="hljs-keyword">echo</span> <span class="hljs-built_in">static</span>::<span class="hljs-variable constant_">BAR</span>;    &#125;&#125;<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Foo2</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Foo</span></span><span class="hljs-class"></span>&#123;    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">BAR</span> = <span class="hljs-string">&#x27;bar2&#x27;</span>;&#125;<span class="hljs-variable">$foo2</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo2</span>();<span class="hljs-variable">$foo2</span>-&gt;<span class="hljs-title function_ invoke__">printBar</span>(); <span class="hljs-comment">// å°å‡ºbar2</span></code></pre></div></li></ul><h2 id="æ¯”å°è¡¨"><a href="#æ¯”å°è¡¨" class="headerlink" title="æ¯”å°è¡¨"></a>æ¯”å°è¡¨</h2><table><thead><tr><th><strong>ç‰¹æ€§</strong></th><th><strong>$this</strong></th><th><strong>self</strong></th><th><strong>static</strong></th></tr></thead><tbody><tr><td><strong>æ˜¯å¦å¯¦ä¾‹åŒ–</strong></td><td>æ˜¯</td><td>å¦</td><td>å¦</td></tr><tr><td><strong>è¯ç¹«å°è±¡</strong></td><td>èª¿ç”¨æ™‚çš„å¯¦ä¾‹åŒ–ç‰©ä»¶å…§å®¹</td><td>ç·¨è­¯æ™‚çš„é¡åˆ¥</td><td>å¯¦éš›è¢«èª¿ç”¨çš„é¡åˆ¥</td></tr><tr><td><strong>æ˜¯å¦èƒ½åœ¨éœæ…‹æ–¹æ³•ä¸­ä½¿ç”¨</strong></td><td>å¦</td><td>æ˜¯</td><td>æ˜¯</td></tr><tr><td><strong>ç¹¼æ‰¿å¾Œé€ æˆå·®ç•°</strong></td><td>æ˜¯</td><td>å¦</td><td>æ˜¯</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>PHP</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PHP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Documents] Laravel System Settingså¥—ä»¶</title>
    <link href="/posts/20240119-documents-laravel-system-settings/"/>
    <url>/posts/20240119-documents-laravel-system-settings/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åœ¨å¾Œç«¯ç³»çµ±ä¸­ï¼Œå¸¸å¸¸æœƒéœ€è¦é•·æœŸå„²å­˜ä¸€äº›ç‰¹å®šè³‡æ–™ï¼Œé€™äº›ç‰¹å®šè³‡æ–™å¯èƒ½åªæœƒæœ‰å°‘æ•¸å¹¾ç­†ï¼Œä½†ä»ç„¶æœ‰å­˜æ”¾è³‡æ–™åº«çš„éœ€æ±‚ã€‚</p><p>ä¾‹å¦‚ï¼šå‰å°ç‡ˆç®±å…¬å‘Šå…§å®¹ã€è·‘é¦¬ç‡ˆå…§å®¹ã€å•†å“è³‡æ–™æœ€å¾ŒåŒæ­¥æ™‚é–“ç­‰ï¼Œåªè¦æ˜¯å–®ç´”éœ€è¦å„²å­˜é•·æœŸè³‡æ–™(écache)ï¼Œä½†åˆä¸æƒ³è¦ç‰¹åœ°ç‚ºæ¯å€‹éœ€æ±‚é–‹è³‡æ–™è¡¨ï¼Œå°±å¯ä»¥çµ±ä¸€ä½¿ç”¨é€™å€‹å¥—ä»¶åœ¨ä¸€å€‹è³‡æ–™è¡¨ä¸­ç”¨key-valueçš„æ–¹å¼é€²è¡Œç®¡ç†ï¼Œå¦å¤–é‚„æ”¯æ´groupåŠŸèƒ½ã€‚</p><h2 id="å®‰è£"><a href="#å®‰è£" class="headerlink" title="å®‰è£"></a>å®‰è£</h2><h3 id="1-ä½¿ç”¨-Composer-å®‰è£"><a href="#1-ä½¿ç”¨-Composer-å®‰è£" class="headerlink" title="1. ä½¿ç”¨ Composer å®‰è£"></a>1. ä½¿ç”¨ Composer å®‰è£</h3><p>åœ¨çµ‚ç«¯æ©Ÿä¸­åŸ·è¡Œ Composer require æŒ‡ä»¤ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">composer require hankz/laravel-system-settings</code></pre></div><h3 id="2-è¨­å®š"><a href="#2-è¨­å®š" class="headerlink" title="2. è¨­å®š"></a>2. è¨­å®š</h3><p>æ­¤å¥—ä»¶æ”¯æ´ Laravel çš„è‡ªå‹•ç™¼ç¾åŠŸèƒ½ï¼Œå®‰è£å®Œæˆå¾Œå³å¯ä½¿ç”¨ã€‚</p><h3 id="3-ç™¼ä½ˆé…ç½®æª”"><a href="#3-ç™¼ä½ˆé…ç½®æª”" class="headerlink" title="3. ç™¼ä½ˆé…ç½®æª”"></a>3. ç™¼ä½ˆé…ç½®æª”</h3><p>æ‚¨éœ€è¦ç™¼ä½ˆé…ç½®æª”ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">php artisan vendor:publish --provider=<span class="hljs-string">&quot;Hankz\LaravelSystemSettings\SystemSettingProvider&quot;</span></code></pre></div><h3 id="4-é…ç½®"><a href="#4-é…ç½®" class="headerlink" title="4. é…ç½®"></a>4. é…ç½®</h3><p>æ‚¨å¯ä»¥åœ¨ <code>config\system-settings.php</code> ä¸­é…ç½®æ­¤å¥—ä»¶ï¼š</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><span class="hljs-keyword">return</span> [    <span class="hljs-comment">/**</span><span class="hljs-comment">     * ä½¿ç”¨çš„è³‡æ–™è¡¨åç¨±ã€‚</span><span class="hljs-comment">     */</span>    <span class="hljs-string">&#x27;table_name&#x27;</span> =&gt; <span class="hljs-string">&#x27;system_settings&#x27;</span>,    <span class="hljs-comment">/**</span><span class="hljs-comment">     * é è¨­å€¼ã€‚</span><span class="hljs-comment">     */</span>    <span class="hljs-string">&#x27;default&#x27;</span> =&gt; [        <span class="hljs-string">&#x27;group&#x27;</span> =&gt; <span class="hljs-string">&#x27;default&#x27;</span>,    ],];</code></pre></div><ul><li>table_name - å°‡ç³»çµ±è¨­å®šè³‡æ–™è¡¨åç¨±ä¿å­˜åœ¨è³‡æ–™åº«ä¸­ã€‚</li><li>default.group - åœ¨ç¼ºå°‘ group åƒæ•¸æ™‚çš„é è¨­ç¾¤çµ„åç¨±ã€‚</li></ul><h3 id="5-é·ç§»"><a href="#5-é·ç§»" class="headerlink" title="5. é·ç§»"></a>5. é·ç§»</h3><p>æ‚¨é‚„æ‡‰è©²é‹è¡Œé·ç§»å‘½ä»¤ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">php artisan migrate</code></pre></div><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p>æ­¤å¥—ä»¶éå¸¸ç°¡å–®ï¼Œç‚ºæ‚¨æä¾›ä»¥ä¸‹æ–¹æ³•ã€‚</p><h3 id="new-string-key-string-value-string-group-null-string-description-null-bool"><a href="#new-string-key-string-value-string-group-null-string-description-null-bool" class="headerlink" title="new(string $key, string $value, string $group = null, string $description = null): bool"></a><code>new(string $key, string $value, string $group = null, string $description = null): bool</code></h3><p>å‰µå»ºä¸€å€‹æ–°çš„ç³»çµ±è¨­å®šã€‚</p><h4 id="åƒæ•¸ï¼š"><a href="#åƒæ•¸ï¼š" class="headerlink" title="åƒæ•¸ï¼š"></a>åƒæ•¸ï¼š</h4><ul><li><code>$key</code>ï¼ˆstringï¼‰ï¼šç³»çµ±è¨­å®šçš„å”¯ä¸€æ¨™è­˜ç¬¦ã€‚</li><li><code>$value</code>ï¼ˆstringï¼‰ï¼šèˆ‡ç³»çµ±è¨­å®šç›¸é—œè¯çš„å€¼ã€‚</li><li><code>$group</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰ç³»çµ±è¨­å®šæ‰€å±¬çš„ç¾¤çµ„ã€‚é»˜èªç‚º <code>null</code>ã€‚</li><li><code>$description</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰æä¾›æœ‰é—œç³»çµ±è¨­å®šçš„é™„åŠ ä¿¡æ¯çš„æè¿°ã€‚é»˜èªç‚º <code>null</code>ã€‚</li></ul><h4 id="ç¯„ä¾‹ï¼š"><a href="#ç¯„ä¾‹ï¼š" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-keyword">new</span>(<span class="hljs-string">&#x27;keyName&#x27;</span>, <span class="hljs-string">&#x27;value&#x27;</span>, <span class="hljs-string">&#x27;groupName&#x27;</span>, <span class="hljs-string">&#x27;description&#x27;</span>);</code></pre></div><h4 id="è¿”å›ï¼š"><a href="#è¿”å›ï¼š" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>bool</code>ï¼šå¦‚æœæˆåŠŸå‰µå»ºç³»çµ±è¨­å®šï¼Œå‰‡è¿”å› <code>true</code>ï¼Œå¦‚æœè¨­å®šå·²å­˜åœ¨ï¼Œå‰‡æ‹‹å‡º <code>SystemSettingAlreadyExistsException</code>ã€‚</li></ul><hr><h3 id="has-string-key-string-group-null-bool"><a href="#has-string-key-string-group-null-bool" class="headerlink" title="has(string $key, string $group = null): bool"></a><code>has(string $key, string $group = null): bool</code></h3><p><code>has()</code> æ–¹æ³•æª¢æŸ¥æ˜¯å¦å­˜åœ¨å…·æœ‰çµ¦å®šéµå’Œå¯é¸ç¾¤çµ„çš„ç³»çµ±è¨­å®šã€‚</p><h4 id="åƒæ•¸ï¼š-1"><a href="#åƒæ•¸ï¼š-1" class="headerlink" title="åƒæ•¸ï¼š"></a>åƒæ•¸ï¼š</h4><ul><li><code>$key</code>ï¼ˆstringï¼‰ï¼šç³»çµ±è¨­å®šçš„å”¯ä¸€æ¨™è­˜ç¬¦ã€‚</li><li><code>$group</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰ç³»çµ±è¨­å®šæ‰€å±¬çš„ç¾¤çµ„ã€‚é»˜èªç‚º <code>null</code>ã€‚</li></ul><h4 id="ç¯„ä¾‹ï¼š-1"><a href="#ç¯„ä¾‹ï¼š-1" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-title function_ invoke__">has</span>(<span class="hljs-string">&#x27;keyName&#x27;</span>, <span class="hljs-string">&#x27;groupName&#x27;</span>);</code></pre></div><h4 id="è¿”å›ï¼š-1"><a href="#è¿”å›ï¼š-1" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>bool</code>ï¼šå¦‚æœç³»çµ±è¨­å®šå­˜åœ¨ï¼Œå‰‡è¿”å› <code>true</code>ï¼Œå¦å‰‡è¿”å› <code>false</code>ã€‚</li></ul><hr><h3 id="all-array"><a href="#all-array" class="headerlink" title="all(): array"></a><code>all(): array</code></h3><p>ä»¥éµå€¼å°æ ¼å¼è¿”å›æ‰€æœ‰ç³»çµ±è¨­å®šçš„æ‰€æœ‰éµå’Œå€¼ã€‚</p><h4 id="ç¯„ä¾‹ï¼š-2"><a href="#ç¯„ä¾‹ï¼š-2" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-title function_ invoke__">all</span>();</code></pre></div><h4 id="è¿”å›ï¼š-2"><a href="#è¿”å›ï¼š-2" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>array</code>ï¼šåŒ…å«æ‰€æœ‰ç³»çµ±è¨­å®šçš„é—œè¯é™£åˆ—ï¼Œæ ¼å¼ç‚º <code>[&#39;key&#39; =&gt; &#39;value&#39;]</code>ã€‚</li></ul><hr><h3 id="get-string-key-string-group-null-string-default-null-null-string"><a href="#get-string-key-string-group-null-string-default-null-null-string" class="headerlink" title="get(string $key, string $group = null, string $default = null): null|string"></a><code>get(string $key, string $group = null, string $default = null): null|string</code></h3><p><code>get()</code> æ–¹æ³•å…è¨±æ‚¨ä½¿ç”¨éµåå’Œç¾¤çµ„åæª¢ç´¢å€¼ï¼Œä¸¦ä¸”é‚„æ¥å—é»˜èªå€¼ã€‚</p><h4 id="åƒæ•¸ï¼š-2"><a href="#åƒæ•¸ï¼š-2" class="headerlink" title="åƒæ•¸ï¼š"></a>åƒæ•¸ï¼š</h4><ul><li><code>$key</code>ï¼ˆstringï¼‰ï¼šç³»çµ±è¨­å®šçš„å”¯ä¸€æ¨™è­˜ç¬¦ã€‚</li><li><code>$group</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰ç³»çµ±è¨­å®šæ‰€å±¬çš„ç¾¤çµ„ã€‚é»˜èªç‚º <code>null</code>ã€‚</li><li><code>$default</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰å¦‚æœæ‰¾ä¸åˆ°ç³»çµ±è¨­å®šï¼Œå‰‡è¿”å›çš„é»˜èªå€¼ã€‚é»˜èªç‚º <code>null</code>ã€‚</li></ul><h4 id="ç¯„ä¾‹ï¼š-3"><a href="#ç¯„ä¾‹ï¼š-3" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-title function_ invoke__">get</span>(<span class="hljs-string">&#x27;keyName&#x27;</span>, <span class="hljs-string">&#x27;groupName&#x27;</span>, <span class="hljs-string">&#x27;defaultValue&#x27;</span>);</code></pre></div><h4 id="è¿”å›ï¼š-3"><a href="#è¿”å›ï¼š-3" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>string|null</code>ï¼šå¦‚æœæ‰¾åˆ°ç³»çµ±è¨­å®šçš„å€¼ï¼Œå‰‡è¿”å›å…¶å€¼ï¼Œå¦å‰‡è¿”å›æŒ‡å®šçš„é»˜èªå€¼ï¼Œå¦‚æœæœªæä¾›é»˜èªå€¼ï¼Œå‰‡è¿”å› <code>null</code>ã€‚</li></ul><hr><h3 id="set-string-key-string-value-string-group-null-string-description-null-bool-createWhenNotExist-false-void"><a href="#set-string-key-string-value-string-group-null-string-description-null-bool-createWhenNotExist-false-void" class="headerlink" title="set(string $key, string $value, string $group = null, string $description = null, bool $createWhenNotExist = false): void"></a><code>set(string $key, string $value, string $group = null, string $description = null, bool $createWhenNotExist = false): void</code></h3><p><code>set()</code> æ–¹æ³•å…è¨±æ‚¨æ›´æ–°ç¾æœ‰ç³»çµ±è¨­å®šçš„å€¼å’Œæè¿°ï¼Œæˆ–è€…åœ¨ä¸å­˜åœ¨æ™‚å‰µå»ºä¸€å€‹æ–°çš„ç³»çµ±è¨­å®šã€‚</p><h4 id="åƒæ•¸ï¼š-3"><a href="#åƒæ•¸ï¼š-3" class="headerlink" title="åƒæ•¸ï¼š"></a>åƒæ•¸ï¼š</h4><ul><li><code>$key</code>ï¼ˆstringï¼‰ï¼šç³»çµ±è¨­å®šçš„å”¯ä¸€æ¨™è­˜ç¬¦ã€‚</li><li><code>$value</code>ï¼ˆstringï¼‰ï¼šè¦ç‚ºç³»çµ±è¨­å®šè¨­ç½®çš„æ–°å€¼ã€‚</li><li><code>$group</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰ç³»çµ±è¨­å®šæ‰€å±¬çš„ç¾¤çµ„ã€‚é»˜èªç‚º <code>null</code>ã€‚</li><li><code>$description</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰æä¾›æœ‰é—œç³»çµ±è¨­å®šçš„é™„åŠ ä¿¡æ¯çš„æè¿°ã€‚é»˜èªç‚º <code>null</code>ã€‚</li><li><code>$createWhenNotExist</code>ï¼ˆboolï¼‰ï¼šï¼ˆå¯é¸ï¼‰å¦‚æœè¨­ç½®ç‚º <code>true</code>ï¼Œå‰‡å¦‚æœæŒ‡å®šçš„éµä¸å­˜åœ¨ï¼Œå°‡å‰µå»ºæ–°çš„ç³»çµ±è¨­å®šã€‚é»˜èªç‚º <code>false</code>ã€‚</li></ul><h4 id="ç¯„ä¾‹ï¼š-4"><a href="#ç¯„ä¾‹ï¼š-4" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-title function_ invoke__">set</span>(<span class="hljs-string">&#x27;keyName&#x27;</span>, <span class="hljs-string">&#x27;newValue&#x27;</span>, <span class="hljs-string">&#x27;groupName&#x27;</span>, <span class="hljs-string">&#x27;newDescription&#x27;</span>, <span class="hljs-literal">true</span>);</code></pre></div><h4 id="è¿”å›ï¼š-4"><a href="#è¿”å›ï¼š-4" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>void</code></li></ul><hr><h3 id="getByGroup-string-group-array"><a href="#getByGroup-string-group-array" class="headerlink" title="getByGroup(string $group): array"></a><code>getByGroup(string $group): array</code></h3><p>æª¢ç´¢æŒ‡å®šç¾¤çµ„å…§çš„æ‰€æœ‰ç³»çµ±è¨­å®šã€‚</p><h4 id="åƒæ•¸ï¼š-4"><a href="#åƒæ•¸ï¼š-4" class="headerlink" title="åƒæ•¸ï¼š"></a>åƒæ•¸ï¼š</h4><ul><li><code>$group</code>ï¼ˆstringï¼‰ï¼šè¦æª¢ç´¢ç³»çµ±è¨­å®š</li></ul><p>çš„ç¾¤çµ„ã€‚</p><h4 id="ç¯„ä¾‹ï¼š-5"><a href="#ç¯„ä¾‹ï¼š-5" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-title function_ invoke__">getByGroup</span>(<span class="hljs-string">&#x27;groupName&#x27;</span>);</code></pre></div><h4 id="è¿”å›ï¼š-5"><a href="#è¿”å›ï¼š-5" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>array</code>ï¼šåŒ…å«æŒ‡å®šç¾¤çµ„å…§çš„ç³»çµ±è¨­å®šçš„é—œè¯é™£åˆ—ï¼Œæ ¼å¼ç‚º <code>[&#39;key&#39; =&gt; &#39;value&#39;]</code>ã€‚</li></ul><hr><h3 id="setByGroup-array-settings-string-group-null-bool-createWhenNotExist-false-void"><a href="#setByGroup-array-settings-string-group-null-bool-createWhenNotExist-false-void" class="headerlink" title="setByGroup(array $settings, string $group = null, bool $createWhenNotExist = false): void"></a><code>setByGroup(array $settings, string $group = null, bool $createWhenNotExist = false): void</code></h3><p>åœ¨æŒ‡å®šç¾¤çµ„å…§æ›´æ–°æˆ–å‰µå»ºå¤šå€‹ç³»çµ±è¨­å®šã€‚</p><h4 id="åƒæ•¸ï¼š-5"><a href="#åƒæ•¸ï¼š-5" class="headerlink" title="åƒæ•¸ï¼š"></a>åƒæ•¸ï¼š</h4><ul><li><code>$settings</code>ï¼ˆarrayï¼‰ï¼šåŒ…å«ç³»çµ±è¨­å®šçš„é—œè¯é™£åˆ—ï¼Œæ ¼å¼ç‚º <code>[&#39;key&#39; =&gt; [&#39;value&#39; =&gt; &#39;&#39;, &#39;description&#39; =&gt; &#39;&#39;]]</code>ã€‚</li><li><code>$group</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰è¦å°‡ç³»çµ±è¨­å®šæ‡‰ç”¨åˆ°çš„ç¾¤çµ„ã€‚é»˜èªç‚º <code>null</code>ã€‚</li><li><code>$createWhenNotExist</code>ï¼ˆboolï¼‰ï¼šï¼ˆå¯é¸ï¼‰å¦‚æœè¨­ç½®ç‚º <code>true</code>ï¼Œå‰‡å°‡åœ¨æŒ‡å®šç¾¤çµ„ä¸­ä¸å­˜åœ¨çš„éµä¸Šå‰µå»ºæ–°çš„ç³»çµ±è¨­å®šã€‚é»˜èªç‚º <code>false</code>ã€‚</li></ul><h4 id="ç¯„ä¾‹ï¼š-6"><a href="#ç¯„ä¾‹ï¼š-6" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-title function_ invoke__">setByGroup</span>([<span class="hljs-string">&#x27;key1&#x27;</span> =&gt; [<span class="hljs-string">&#x27;value&#x27;</span> =&gt; <span class="hljs-string">&#x27;value1&#x27;</span>, <span class="hljs-string">&#x27;description&#x27;</span> =&gt; <span class="hljs-string">&#x27;desc1&#x27;</span>]], <span class="hljs-string">&#x27;groupName&#x27;</span>, <span class="hljs-literal">true</span>);</code></pre></div><h4 id="è¿”å›ï¼š-6"><a href="#è¿”å›ï¼š-6" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>void</code></li></ul><hr><h3 id="delete-string-key-string-group-null-bool-null"><a href="#delete-string-key-string-group-null-bool-null" class="headerlink" title="delete(string $key, string $group = null): bool|null"></a><code>delete(string $key, string $group = null): bool|null</code></h3><p>åˆªé™¤å…·æœ‰æŒ‡å®šéµå’Œå¯é¸ç¾¤çµ„çš„ç³»çµ±è¨­å®šã€‚</p><h4 id="åƒæ•¸ï¼š-6"><a href="#åƒæ•¸ï¼š-6" class="headerlink" title="åƒæ•¸ï¼š"></a>åƒæ•¸ï¼š</h4><ul><li><code>$key</code>ï¼ˆstringï¼‰ï¼šç³»çµ±è¨­å®šçš„å”¯ä¸€æ¨™è­˜ç¬¦ã€‚</li><li><code>$group</code>ï¼ˆstring|nullï¼‰ï¼šï¼ˆå¯é¸ï¼‰ç³»çµ±è¨­å®šæ‰€å±¬çš„ç¾¤çµ„ã€‚é»˜èªç‚º <code>null</code>ã€‚</li></ul><h4 id="ç¯„ä¾‹ï¼š-7"><a href="#ç¯„ä¾‹ï¼š-7" class="headerlink" title="ç¯„ä¾‹ï¼š"></a>ç¯„ä¾‹ï¼š</h4><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">SystemSettingManager</span>::<span class="hljs-title function_ invoke__">delete</span>(<span class="hljs-string">&#x27;keyName&#x27;</span>, <span class="hljs-string">&#x27;groupName&#x27;</span>);</code></pre></div><h4 id="è¿”å›ï¼š-7"><a href="#è¿”å›ï¼š-7" class="headerlink" title="è¿”å›ï¼š"></a>è¿”å›ï¼š</h4><ul><li><code>bool|null</code>ï¼šå¦‚æœæˆåŠŸåˆªé™¤ç³»çµ±è¨­å®šï¼Œå‰‡è¿”å› <code>true</code>ï¼Œå¦‚æœè¨­å®šä¸å­˜åœ¨ï¼Œå‰‡è¿”å› <code>false</code>ï¼Œæˆ–è€…å¦‚æœç™¼ç”ŸéŒ¯èª¤ï¼Œå‰‡è¿”å› <code>null</code>ã€‚</li></ul>]]></content>
    
    
    <categories>
      
      <category>Documents</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Documents</tag>
      
      <tag>package</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Hexo] ä½¿ç”¨Docker Composeå¿«é€Ÿæ¶è¨­Hexoç’°å¢ƒ</title>
    <link href="/posts/20240116-hexo-docker-compose/"/>
    <url>/posts/20240116-hexo-docker-compose/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å› ç‚ºæˆ‘å¸Œæœ›å¯ä»¥åœ¨æˆ‘å¹³å¸¸æœƒä½¿ç”¨çš„ä¸åŒè¨­å‚™ä¸­ï¼Œè¼•é¬†çš„ä½¿ç”¨<a href="https://hexo.io/">Hexo</a>æ’°å¯«éƒ¨è½æ ¼ï¼Œè€Œä¸ç”¨æ“”å¿ƒç’°å¢ƒè¨­å®šçš„å•é¡Œã€‚</p><p>è‡ªç„¶è€Œç„¶çš„æˆ‘å°±æƒ³è¦åˆ©ç”¨Dockerä¾†å…å»ç’°å¢ƒå»ºç½®çš„ç…©æƒ±ï¼Œè€Œä¸”åªè¦åœ¨æˆ‘éœ€è¦çš„è¨­å‚™ä¸Šä¸‹è¼‰é€™å€‹Docker Composeä¸¦åŸ·è¡Œï¼Œå°±å¯ä»¥ç°¡å–®åœ°é–‹å§‹æ’°å¯«Hexo Blogï¼Œé€™æ¨£å‰›å¥½å‡ºç¾çš„éˆæ„Ÿå°±å¯ä»¥é¦¬ä¸Šè¨˜éŒ„ä¸‹ä¾†ï¼Œç›¸ç•¶æ–¹ä¾¿ã€‚</p><p>ä½¿ç”¨äº†ä¸€æ®µæ™‚é–“ä¹‹å¾Œï¼Œæ„Ÿè¦ºé€™å€‹Docker Composeä½¿ç”¨ä¸Šä¹Ÿé€æ¼¸ç©©å®šï¼Œå‰›å¥½æœ‹å‹ä¹Ÿæƒ³è¦ç©ç©çœ‹Hexoï¼Œæ–¼æ˜¯æˆ‘å°±å°‡é€™å€‹å¯«å¥½çš„Docker Composeçµ¦åˆ†äº«å‡ºä¾†ã€‚</p><p>å¦‚æœæœ‰éœ€è¦çš„äººç›¡é‡æ‹¿å»ä½¿ç”¨ï¼Œç•¶ç„¶å¦‚æœæœ‰ç™¼ç¾å•é¡Œï¼Œæˆ–æ˜¯æœ‰ç”šéº¼å¸Œæœ›æˆ‘æ”¹å–„çš„åœ°æ–¹ï¼Œä¹Ÿæ­¡è¿é€éæˆ‘çš„<a href="https://github.com/hankz1108/hexo-docker-compose">GitHub</a>ä¸­çš„IssuesåŠŸèƒ½æå‡ºã€‚</p><blockquote><p>è©²å°ˆæ¡ˆçš„éˆæ„Ÿä¾†è‡ª <a href="https://github.com/spurin/docker-hexo">spurin&#x2F;docker-hexo</a>ï¼Œä¸¦å°å…¶åŠŸèƒ½é€²è¡Œäº†èª¿æ•´ã€‚</p></blockquote><h2 id="ä¸€ã€å®‰è£"><a href="#ä¸€ã€å®‰è£" class="headerlink" title="ä¸€ã€å®‰è£"></a>ä¸€ã€å®‰è£</h2><p>åªè¦é›»è…¦æœ‰å®‰è£Docker Composeçš„ç’°å¢ƒä¸‹è¼‰å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ</p><h3 id="GitHubä¸‹è¼‰"><a href="#GitHubä¸‹è¼‰" class="headerlink" title="GitHubä¸‹è¼‰"></a>GitHubä¸‹è¼‰</h3><p>æ‚¨å¯ä»¥ç›´æ¥é€é<a href="https://github.com/hankz1108/hexo-docker-compose">GitHub</a>ä¸‹è¼‰æœ¬å°ˆæ¡ˆ<br><img src="https://github.com/hankz1108/hexo-docker-compose/raw/main/docs/images/installation-github-download-1.jpg" alt="image"></p><h3 id="git-cloneå–å¾—"><a href="#git-cloneå–å¾—" class="headerlink" title="git cloneå–å¾—"></a>git cloneå–å¾—</h3><p>ä¹Ÿå¯ä»¥é€é<code>git clone</code>å–å¾—</p><div class="code-wrapper"><pre><code class="hljs bash">git <span class="hljs-built_in">clone</span> https://github.com/hankz1108/hexo-docker-compose.git my-hexo<span class="hljs-built_in">cd</span> my-hexo</code></pre></div><h2 id="äºŒã€é…ç½®"><a href="#äºŒã€é…ç½®" class="headerlink" title="äºŒã€é…ç½®"></a>äºŒã€é…ç½®</h2><p>è¤‡è£½æ ¹ç›®éŒ„ä¸­çš„<code>.env.example</code>ä¸¦é‡æ–°å‘½åç‚º<code>.env</code>ï¼Œä¸¦å¡«å¯«å…¶ä¸­çš„é¸é …</p><div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-comment">#=========== å¿…é ˆçš„è¨­å®š ==========#</span><span class="hljs-comment"># hexoè¦å°åˆ°æœ¬åœ°ä¸»æ©Ÿçš„port</span>SITE_PORT=<span class="hljs-comment"># æ™‚å€(ex:Asia/Taipei)</span>TIME_ZONE=<span class="hljs-comment">#========= ç™¼å¸ƒéœ€è¦çš„è¨­å®š =========#</span><span class="hljs-comment"># gitä½¿ç”¨è€…åç¨±</span>GIT_USER=<span class="hljs-comment"># gitä½¿ç”¨è€…email</span>GIT_EMAIL=<span class="hljs-comment"># github token(ç™¼ä½ˆåˆ°github pageséœ€è¦)</span>GITHUB_TOKEN=</code></pre></div><h2 id="ä¸‰ã€å•Ÿå‹•"><a href="#ä¸‰ã€å•Ÿå‹•" class="headerlink" title="ä¸‰ã€å•Ÿå‹•"></a>ä¸‰ã€å•Ÿå‹•</h2><p>éœ€è¦åœ¨æ ¹ç›®éŒ„å»ºç«‹ä¸€å€‹ç©ºçš„<code>app</code>è³‡æ–™å¤¾ï¼Œæˆ–æ˜¯å°‡ç¾æœ‰çš„hexoç›®éŒ„æ”¾é€²ä¾†ï¼Œçµæ§‹æ‡‰è©²æ˜¯é€™æ¨£çš„</p><div class="code-wrapper"><pre><code class="hljs 1c">appâ”œâ”€â”€ _config.ymlâ”œâ”€â”€ package.jsonâ”œâ”€â”€ scaffoldsâ”œâ”€â”€ source<span class="hljs-string">|   â”œâ”€â”€ _drafts</span><span class="hljs-string">|   â””â”€â”€ _posts</span>â””â”€â”€ themes</code></pre></div><p>æ¥ä¸‹ä¾†æ‰“é–‹çµ‚ç«¯æ©Ÿï¼ŒåŸ·è¡Œ<code>docker compose</code>å»ºç«‹&amp;å•Ÿå‹•å®¹å™¨</p><div class="code-wrapper"><pre><code class="hljs bash">docker compose up -d</code></pre></div><p>å•Ÿå‹•æˆåŠŸå¾Œå°±å¯ä»¥åœ¨<code>http://localhost:&lt;your_prot&gt;</code>çœ‹åˆ°ä½ çš„hexoäº†</p><blockquote><p>å¦‚æœdockerå•Ÿå‹•å¤±æ•—ï¼Œä¸”å‡ºç¾ä»¥ä¸‹éŒ¯èª¤è¨Šæ¯ï¼š</p><div class="code-wrapper"><pre><code class="hljs stata">/init/init.<span class="hljs-keyword">sh</span>: 9: <span class="hljs-keyword">Syntax</span> <span class="hljs-keyword">error</span>: <span class="hljs-string">&quot;fi&quot;</span> unexpected (expecting <span class="hljs-string">&quot;then&quot;</span>)</code></pre></div><p>æœ‰å¯èƒ½æ˜¯windowsç³»çµ±èˆ‡Linuxæ›è¡Œç¬¦è™Ÿä¸åŒå°è‡´çš„<br>å˜—è©¦å°‡<code>hexo\init\init.sh</code>èˆ‡å…¶ä»–éœ€è¦åœ¨<code>container</code>åŸ·è¡Œçš„æ–‡å­—æª”å…¨éƒ¨æ”¹ç‚ºLFçµå°¾<br>å†åˆªé™¤<code>container</code>èˆ‡<code>image</code>å¾Œé‡æ–°åŸ·è¡Œ<code>docker compose up -d</code></p></blockquote><h2 id="å››ã€ç™¼å¸ƒè¨­å®š"><a href="#å››ã€ç™¼å¸ƒè¨­å®š" class="headerlink" title="å››ã€ç™¼å¸ƒè¨­å®š"></a>å››ã€ç™¼å¸ƒè¨­å®š</h2><p>å¦‚æœä½ è¦ä½¿ç”¨<code>hexo-deployer-git</code>é€²è¡Œç¶²ç«™ç™¼å¸ƒï¼Œä»¥ä¸‹æ˜¯<code>github pages</code>è¨­å®šç¯„ä¾‹ã€‚</p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span>  <span class="hljs-attr">type:</span> <span class="hljs-string">git</span>  <span class="hljs-attr">repo:</span>    <span class="hljs-attr">github:</span>    <span class="hljs-attr">url:</span> <span class="hljs-string">https://github.com/username/github_page.github.io.git</span>    <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span>    <span class="hljs-attr">token:</span> <span class="hljs-string">$GITHUB_TOKEN</span>  <span class="hljs-attr">name:</span> <span class="hljs-string">$GIT_USER</span>  <span class="hljs-attr">email:</span> <span class="hljs-string">$GIT_EMAIL</span></code></pre></div><h2 id="äº”ã€è‡ªè¨‚å•Ÿå‹•è…³æœ¬"><a href="#äº”ã€è‡ªè¨‚å•Ÿå‹•è…³æœ¬" class="headerlink" title="äº”ã€è‡ªè¨‚å•Ÿå‹•è…³æœ¬"></a>äº”ã€è‡ªè¨‚å•Ÿå‹•è…³æœ¬</h2><p>æ‚¨å¯ä»¥åœ¨<code>hexo\init\scripts</code>åº•ä¸‹å»ºç«‹ä»»æ„åç¨±çš„<code>*.sh</code>æª”æ¡ˆ<br>è…³æœ¬æœƒè‡ªå‹•åŸ·è¡Œè©²è³‡æ–™å¤¾åº•ä¸‹ä»¥<code>.sh</code>çµå°¾çš„æª”æ¡ˆ<br>è®“æ‚¨å¯ä»¥åœ¨hexoä¼ºæœå™¨åŸ·è¡Œå‰å…ˆåŸ·è¡Œæ‚¨æƒ³è¦çš„è…³æœ¬</p><h2 id="å»¶ä¼¸é–±è®€"><a href="#å»¶ä¼¸é–±è®€" class="headerlink" title="å»¶ä¼¸é–±è®€"></a>å»¶ä¼¸é–±è®€</h2><p>å»ºç½®å®Œç•¢å¾Œï¼Œä¹Ÿå¯ä»¥ä¾†çœ‹çœ‹æˆ‘<a href="/posts/20231220-hexo-plugin-recommend/" title="[Hexo] å¸¸ç”¨å¤–æ›(plugin)æ¨è–¦">æ¨è–¦çš„å¤–æ›(plugin)</a><br>è£¡é¢åŒ…å«æ–¹ä¾¿éƒ¨å±¬èˆ‡å„ç¨®å¼·åŒ–SEOçš„å¥—ä»¶</p>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
      <tag>Docker</tag>
      
      <tag>Docker Compose</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Hexo] å¸¸ç”¨å¤–æ›(plugin)æ¨è–¦</title>
    <link href="/posts/20231220-hexo-plugin-recommend/"/>
    <url>/posts/20231220-hexo-plugin-recommend/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬ç«™æ˜¯ä½¿ç”¨<a href="https://hexo.io/">Hexo</a>æ¶è¨­çš„ï¼Œé€™æ˜¯ä¸€å€‹éœæ…‹ç¶²ç«™&#x2F;éƒ¨è½æ ¼çš„ç”Ÿæˆå™¨ï¼Œä¸¦æ”¯æ´markdownèªæ³•ç”Ÿæˆç¶²é å…§å®¹ã€‚<br>é™¤æ­¤ä¹‹å¤–é‚„æ“æœ‰è¨±å¤šç¬¬ä¸‰æ–¹çš„ä¸»é¡Œèˆ‡å¤–æ›ï¼Œä½¿ç”¨äººæ•¸çœ¾å¤šã€è³‡æºä¹Ÿç›¸ç•¶å¥½æ‰¾ï¼Œé€™æ˜¯æˆ‘é¸æ“‡å®ƒçš„åŸå› ã€‚<br>æœ¬ç¯‡è¦ä»‹ç´¹çš„æ˜¯ç›®å‰æœ‰åœ¨ä½¿ç”¨ï¼Œä¸”ç›¸å°æ¯”è¼ƒæ¨è–¦çš„å¤–æ›(plugin)ã€‚</p><h2 id="ä¸€ã€æ¨è–¦å¥—ä»¶"><a href="#ä¸€ã€æ¨è–¦å¥—ä»¶" class="headerlink" title="ä¸€ã€æ¨è–¦å¥—ä»¶"></a>ä¸€ã€æ¨è–¦å¥—ä»¶</h2><h3 id="1-hexo-deployer-git"><a href="#1-hexo-deployer-git" class="headerlink" title="1. hexo-deployer-git"></a>1. <a href="https://github.com/hexojs/hexo-deployer-git">hexo-deployer-git</a></h3><p>é€™æ˜¯é€égitéƒ¨ç½²çš„å¿…å‚™pluginï¼Œå®‰è£å¾Œå¯ä»¥é€éåœ¨<code>_config.yml</code>è¨­å®š<code>deploy</code>çš„å…§å®¹<br>å…ˆåŸ·è¡ŒæŒ‡ä»¤å®‰è£å¥—ä»¶ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">npm install hexo-deployer-git --save</code></pre></div><p>ä¹‹å¾Œé–‹å•Ÿ<code>_config.yml</code>æ ¹æ“šéœ€æ±‚é€²è¡Œè¨­å®šï¼š</p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">deploy:</span><span class="hljs-attr">type:</span> <span class="hljs-string">git</span><span class="hljs-attr">repo:</span>    <span class="hljs-attr">github:</span>    <span class="hljs-attr">url:</span> <span class="hljs-string">https://github.com/&lt;USERNAME&gt;/&lt;REPOSITORY_NAME&gt;</span>    <span class="hljs-attr">branch:</span> <span class="hljs-string">master</span>    <span class="hljs-attr">token:</span> <span class="hljs-string">&lt;GITHUB_TOKEN&gt;</span><span class="hljs-attr">name:</span> <span class="hljs-string">&lt;GIT_USERNAME&gt;</span><span class="hljs-attr">email:</span> <span class="hljs-string">&lt;GIT_EMAIL&gt;</span></code></pre></div><p>è¨­å®šå®Œæˆå¾Œå°±å¯ä»¥åŸ·è¡ŒæŒ‡ä»¤é€égité€²è¡Œéƒ¨ç½²</p><div class="code-wrapper"><pre><code class="hljs bash">hexo clean &amp;&amp; hexo deploy</code></pre></div><h3 id="2-hexo-generator-sitemap"><a href="#2-hexo-generator-sitemap" class="headerlink" title="2. hexo-generator-sitemap"></a>2. <a href="https://github.com/hexojs/hexo-generator-sitemap">hexo-generator-sitemap</a></h3><p>é€™æ˜¯å¯ä»¥è‡ªå‹•ç”¢ç”Ÿç¶²ç«™Sitemapçš„pluginï¼Œå°æ–¼SEOæœƒæ¯”è¼ƒå‹å¥½ã€‚<br>å…ˆåŸ·è¡ŒæŒ‡ä»¤å®‰è£å¥—ä»¶ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">npm install hexo-generator-sitemap --save</code></pre></div><p>ä¹‹å¾Œé–‹å•Ÿ<code>_config.yml</code>æ ¹æ“šéœ€æ±‚é€²è¡Œè¨­å®šï¼š</p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">sitemap:</span>    <span class="hljs-attr">path:</span> <span class="hljs-string">sitemap.xml</span>    <span class="hljs-attr">template:</span>    <span class="hljs-attr">rel:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">tags:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">categories:</span> <span class="hljs-literal">true</span></code></pre></div><p>ä¹‹å¾Œéƒ¨ç½²å¾Œå°±æœƒè‡ªå‹•ç”Ÿæˆsitemap.xmlé€™å€‹æª”æ¡ˆäº†</p><h3 id="3-hexo-all-minifier"><a href="#3-hexo-all-minifier" class="headerlink" title="3. hexo-all-minifier"></a>3. <a href="https://github.com/chenzhutian/hexo-all-minifier">hexo-all-minifier</a></h3><p>é€™å€‹pluginæ•´åˆäº†å¤šå€‹pluginï¼Œç”¨é€”éƒ½æ˜¯ç¸®å°å„ç¨®æª”æ¡ˆé¡å‹ï¼Œä»¥åŠ å¿«ç¶²ç«™è¼‰å…¥é€Ÿåº¦ï¼Œè©²å¥—ä»¶åŒ…å«ï¼š</p><ul><li><a href="https://github.com/hexojs/hexo-html-minifier">hexo-html-minifier</a></li><li><a href="https://github.com/hexojs/hexo-clean-css">hexo-clean-css</a></li><li><a href="https://github.com/hexojs/hexo-uglify">hexo-uglify</a></li><li><a href="https://github.com/vseventer/hexo-imagemin">hexo-imagemin</a></li></ul><p>å…ˆåŸ·è¡ŒæŒ‡ä»¤å®‰è£å¥—ä»¶ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">npm install hexo-generator-sitemap --save</code></pre></div><p>å¦‚æœæ˜¯macçš„ä½¿ç”¨è€…éœ€è¦é¡å¤–å®‰è£å…¶ä»–æ±è¥¿</p><div class="code-wrapper"><pre><code class="hljs bash">brew install libtool automake autoconf nasm</code></pre></div><p>ä¹‹å¾Œé–‹å•Ÿ<code>_config.yml</code>é–‹å•Ÿè©²åŠŸèƒ½ï¼š</p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">all_minifier:</span> <span class="hljs-literal">true</span></code></pre></div><p>ä¹Ÿå¯ä»¥é‡å°æ¯å€‹å¥—ä»¶è©³ç´°è¨­å®š</p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">js_concator:</span>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">bundle_path:</span> <span class="hljs-string">&#x27;/js/bundle.js&#x27;</span>    <span class="hljs-attr">front:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">silent:</span> <span class="hljs-literal">false</span><span class="hljs-attr">html_minifier:</span>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">ignore_error:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">silent:</span> <span class="hljs-literal">false</span><span class="hljs-attr">css_minifier:</span>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">silent:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">exclude:</span>        <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;*.min.css&#x27;</span><span class="hljs-attr">js_minifier:</span>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">mangle:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">silent:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">output:</span>    <span class="hljs-attr">compress:</span>    <span class="hljs-attr">exclude:</span>        <span class="hljs-bullet">-</span> <span class="hljs-string">&#x27;*.min.js&#x27;</span><span class="hljs-attr">image_minifier:</span>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">interlaced:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">multipass:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">optimizationLevel:</span> <span class="hljs-number">2</span>    <span class="hljs-attr">pngquant:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">progressive:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">silent:</span> <span class="hljs-literal">false</span>    <span class="hljs-attr">exclude:</span></code></pre></div><h3 id="4-hexo-filter-nofollow"><a href="#4-hexo-filter-nofollow" class="headerlink" title="4. hexo-filter-nofollow"></a>4. <a href="https://github.com/hexojs/hexo-filter-nofollow">hexo-filter-nofollow</a></h3><p>åŠ å…¥<code>rel=&quot;noopener external nofollow noreferrer&quot;</code>åˆ°å¤–éƒ¨é€£çµä¸Šï¼Œå¯ä»¥å„ªåŒ–SEOï¼Œé¿å…æ¬Šé‡æµå¤±ã€‚<br>å…ˆåŸ·è¡ŒæŒ‡ä»¤å®‰è£å¥—ä»¶ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">npm i hexo-filter-nofollow --save</code></pre></div><p>ä¹‹å¾Œé–‹å•Ÿ<code>_config.yml</code>æ ¹æ“šéœ€æ±‚é€²è¡Œè¨­å®šï¼š</p><div class="code-wrapper"><pre><code class="hljs yaml"><span class="hljs-attr">nofollow:</span>    <span class="hljs-attr">enable:</span> <span class="hljs-literal">true</span>    <span class="hljs-attr">field:</span> <span class="hljs-string">site</span>    <span class="hljs-attr">exclude:</span></code></pre></div><h2 id="äºŒã€ä¸»é¡Œ-Theme"><a href="#äºŒã€ä¸»é¡Œ-Theme" class="headerlink" title="äºŒã€ä¸»é¡Œ(Theme)"></a>äºŒã€ä¸»é¡Œ(Theme)</h2><p>æˆ‘ä½¿ç”¨<a href="https://hexo.fluid-dev.com/">Fluid</a>ä½œç‚ºæˆ‘çš„Themeï¼Œè©³ç´°çš„ä½¿ç”¨æ–¹å¼å¯ä»¥åƒè€ƒ<a href="https://hexo.fluid-dev.com/docs/guide/">å®˜æ–¹æ–‡ä»¶</a>ï¼Œåœ¨æ­¤ä¸å¤šåšè´…è¿°ã€‚</p><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li><a href="https://github.com/hankz1108/hexo-docker-compose">hexo-docker-compose</a></li><li>Hexo 6.3.0</li></ul>]]></content>
    
    
    <categories>
      
      <category>Hexo</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[PHP] åœ¨Linuxä¸Šå®‰è£PHP CS Fixer</title>
    <link href="/posts/20231206-php-install-cs-fixer-on-ubuntu/"/>
    <url>/posts/20231206-php-install-cs-fixer-on-ubuntu/</url>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/PHP-CS-Fixer/PHP-CS-Fixer">PHP CS Fixer</a>ä½œç‚ºä¸€å€‹ç¨‹å¼ç¢¼æ¨™æº–ä¿®å¾©å™¨(PHP Coding Standards Fixer)ã€‚<br>åœ¨PHPçš„åœ˜éšŠé–‹ç™¼ä¸­ï¼Œå¯ä»¥ç¢ºä¿æ¯å€‹é–‹ç™¼äººå“¡çš„Coding Styleç›¸åŒï¼Œ<br>ä¸€ä¾†å¯ä»¥é¿å…æ’ç‰ˆéæ–¼å¥”æ”¾ï¼Œå°è‡´å¯è®€æ€§éä½çš„å•é¡Œï¼Œ<br>é‚„èƒ½æ¸›è¼•Code Reviewèˆ‡Debugçš„è² æ“”ï¼Œ<br>æœ¬ç¯‡æ–‡ç« å°‡æœƒè©³ç´°èªªæ˜PHP CS Fixeråœ¨Linuxç’°å¢ƒä¸‹çš„å®‰è£æ–¹å¼ã€‚</p><blockquote><p>æ³¨æ„: æœ¬æ–‡æ’°å¯«æ™‚ï¼ŒPHP CS Fixeræ”¯æ´çš„PHPæœ€ä½ç‰ˆæœ¬æ˜¯7.4</p></blockquote><h2 id="å®‰è£"><a href="#å®‰è£" class="headerlink" title="å®‰è£"></a>å®‰è£</h2><h3 id="ä¸€ã€ä¸‹è¼‰å®‰è£"><a href="#ä¸€ã€ä¸‹è¼‰å®‰è£" class="headerlink" title="ä¸€ã€ä¸‹è¼‰å®‰è£"></a>ä¸€ã€ä¸‹è¼‰å®‰è£</h3><ol><li><p>ä½¿ç”¨wgetæŒ‡ä»¤ä¸‹è¼‰</p> <div class="code-wrapper"><pre><code class="hljs bash">wget https://cs.symfony.com/download/php-cs-fixer-v3.phar -O php-cs-fixer</code></pre></div></li><li><p>ä¿®æ”¹æ¬Šé™</p> <div class="code-wrapper"><pre><code class="hljs bash">sudo <span class="hljs-built_in">chmod</span> a+x php-cs-fixer</code></pre></div></li><li><p>ç§»å‹•åˆ°Linuxç³»çµ±çš„PATHç’°å¢ƒè®Šæ•¸è³‡æ–™å¤¾(&#x2F;usr&#x2F;bin&#x2F;å¯ä»¥æ ¹æ“šéœ€è¦ä¿®æ”¹)</p> <div class="code-wrapper"><pre><code class="hljs bash">sudo <span class="hljs-built_in">mv</span> php-cs-fixer /usr/bin/php-cs-fixer</code></pre></div></li></ol><h3 id="äºŒã€Composerå®‰è£"><a href="#äºŒã€Composerå®‰è£" class="headerlink" title="äºŒã€Composerå®‰è£"></a>äºŒã€Composerå®‰è£</h3><ol><li><p>åœ¨Linuxä¸­å®‰è£Composer<a href="/posts/20231206-composer-install-on-ubuntu/" title="[PHP] åœ¨Linuxä¸­å®‰è£Composer">æ–‡ç« é€£çµ</a></p></li><li><p>åœ¨å°ˆæ¡ˆè³‡æ–™å¤¾ä¸­åŸ·è¡ŒcomposeræŒ‡ä»¤</p> <div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> -p tools/php-cs-fixercomposer require --working-dir=tools/php-cs-fixer friendsofphp/php-cs-fixer</code></pre></div></li><li><p>åŸ·è¡Œæª”è·¯å¾‘å¦‚ä¸‹</p> <div class="code-wrapper"><pre><code class="hljs bash">tools/php-cs-fixer/vendor/bin/php-cs-fixer fix src</code></pre></div></li></ol><h3 id="ä¸‰ã€é©—è­‰æ˜¯å¦å®‰è£æˆåŠŸ"><a href="#ä¸‰ã€é©—è­‰æ˜¯å¦å®‰è£æˆåŠŸ" class="headerlink" title="ä¸‰ã€é©—è­‰æ˜¯å¦å®‰è£æˆåŠŸ"></a>ä¸‰ã€é©—è­‰æ˜¯å¦å®‰è£æˆåŠŸ</h3><ol><li>åŸ·è¡Œ<code>php-cs-fixer</code>æŒ‡ä»¤ <div class="code-wrapper"><pre><code class="hljs bash">php-cs-fixer -V</code></pre></div> è‹¥å‡ºç¾PHP CS Fixerç‰ˆæœ¬è¨Šæ¯å‰‡ä»£è¡¨æˆåŠŸå®‰è£</li></ol><h3 id="å››ã€ç›´æ¥ä½¿ç”¨"><a href="#å››ã€ç›´æ¥ä½¿ç”¨" class="headerlink" title="å››ã€ç›´æ¥ä½¿ç”¨"></a>å››ã€ç›´æ¥ä½¿ç”¨</h3><ol><li><p>å¯ä»¥æŒ‡å®šæª”æ¡ˆæˆ–è³‡æ–™å¤¾é€²è¡Œä¿®æ­£(ä¸å«éš±è—æª”ã€vendorä¸­çš„æª”æ¡ˆ)ï¼Œé è¨­ä½¿ç”¨<code>@PSR12</code>çš„è¦å‰‡</p> <div class="code-wrapper"><pre><code class="hljs bash">php-cs-fixer fix /path/to/dirphp-cs-fixer fix /path/to/file</code></pre></div></li><li><p>å¯¦éš›ä¿®æ­£å‰å¯ä»¥å…ˆç”¨ä»¥ä¸‹æŒ‡ä»¤ï¼Œç¢ºèªæœ‰å“ªäº›æª”æ¡ˆæœƒè¢«æ”¹å‹•</p> <div class="code-wrapper"><pre><code class="hljs bash">php-cs-fixer list-files /path/to/dir</code></pre></div></li><li><p>ä¹Ÿå¯ä»¥æŒ‡å®šè¦å‰‡</p> <div class="code-wrapper"><pre><code class="hljs bash">php-cs-fixer fix /path/to/dir --rules=@PSR12</code></pre></div></li><li><p>ä½¿ç”¨è‡ªè¨‚çš„è¦å‰‡æª”æ¡ˆ(è‡ªè¨‚è¦å‰‡æª”æ¡ˆçš„<a href="https://github.com/PHP-CS-Fixer/PHP-CS-Fixer/blob/master/doc/config.rst">å®˜æ–¹æ–‡ä»¶</a>)</p> <div class="code-wrapper"><pre><code class="hljs bash">php php-cs-fixer.phar list-files --config=.php-cs-fixer.dist.php</code></pre></div></li></ol><h3 id="äº”ã€è¨­å®šæª”"><a href="#äº”ã€è¨­å®šæª”" class="headerlink" title="äº”ã€è¨­å®šæª”"></a>äº”ã€è¨­å®šæª”</h3><p>ä»¥ä¸‹æ˜¯ä¸€å€‹è¨­å®šæª”çš„ç¯„ä¾‹(å®˜æ–¹ç¯„ä¾‹)ï¼š</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><span class="hljs-keyword">return</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">PhpCsFixer\Config</span>())    -&gt;<span class="hljs-title function_ invoke__">setRules</span>([        <span class="hljs-string">&#x27;@PSR12&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;array_indentation&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;array_syntax&#x27;</span> =&gt; [<span class="hljs-string">&#x27;syntax&#x27;</span> =&gt; <span class="hljs-string">&#x27;short&#x27;</span>],        <span class="hljs-string">&#x27;combine_consecutive_unsets&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;class_attributes_separation&#x27;</span> =&gt; [<span class="hljs-string">&#x27;elements&#x27;</span> =&gt; [<span class="hljs-string">&#x27;method&#x27;</span> =&gt; <span class="hljs-string">&#x27;one&#x27;</span>,]],        <span class="hljs-string">&#x27;multiline_whitespace_before_semicolons&#x27;</span> =&gt; <span class="hljs-literal">false</span>,        <span class="hljs-string">&#x27;single_quote&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;binary_operator_spaces&#x27;</span> =&gt; [            <span class="hljs-string">&#x27;operators&#x27;</span> =&gt; [                // <span class="hljs-string">&#x27;=&gt;&#x27;</span> =&gt; <span class="hljs-string">&#x27;align&#x27;</span>,                // <span class="hljs-string">&#x27;=&#x27;</span> =&gt; <span class="hljs-string">&#x27;align&#x27;</span>            ]        ],        // <span class="hljs-string">&#x27;blank_line_after_opening_tag&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        // <span class="hljs-string">&#x27;blank_line_before_statement&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;braces&#x27;</span> =&gt; [            <span class="hljs-string">&#x27;allow_single_line_closure&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        ],        // <span class="hljs-string">&#x27;cast_spaces&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        // <span class="hljs-string">&#x27;class_definition&#x27;</span> =&gt; <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;singleLine&#x27;</span> =&gt; <span class="hljs-literal">true</span>),        <span class="hljs-string">&#x27;concat_space&#x27;</span> =&gt; [<span class="hljs-string">&#x27;spacing&#x27;</span> =&gt; <span class="hljs-string">&#x27;one&#x27;</span>],        <span class="hljs-string">&#x27;declare_equal_normalize&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;function_typehint_space&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;single_line_comment_style&#x27;</span> =&gt; [<span class="hljs-string">&#x27;comment_types&#x27;</span> =&gt; [<span class="hljs-string">&#x27;hash&#x27;</span>]],        <span class="hljs-string">&#x27;include&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;lowercase_cast&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;native_function_casing&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;new_with_braces&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_blank_lines_after_class_opening&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_blank_lines_after_phpdoc&#x27; =&gt; true,</span>        <span class="hljs-string">&#x27;no_blank_lines_before_namespace&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;no_empty_comment&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_empty_phpdoc&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_empty_statement&#x27; =&gt; true,</span>        <span class="hljs-string">&#x27;no_extra_blank_lines&#x27;</span> =&gt; [            <span class="hljs-string">&#x27;tokens&#x27;</span> =&gt; [                <span class="hljs-string">&#x27;curly_brace_block&#x27;</span>,                <span class="hljs-string">&#x27;extra&#x27;</span>,                <span class="hljs-comment">// &#x27;parenthesis_brace_block&#x27;,</span>                <span class="hljs-comment">// &#x27;square_brace_block&#x27;,</span>                <span class="hljs-string">&#x27;throw&#x27;</span>,                <span class="hljs-string">&#x27;use&#x27;</span>,            ]        ],        <span class="hljs-comment">// &#x27;no_leading_import_slash&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_leading_namespace_whitespace&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_mixed_echo_print&#x27; =&gt; array(&#x27;use&#x27; =&gt; &#x27;echo&#x27;),</span>        <span class="hljs-string">&#x27;no_multiline_whitespace_around_double_arrow&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;no_short_bool_cast&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_singleline_whitespace_before_semicolons&#x27; =&gt; true,</span>        <span class="hljs-string">&#x27;no_spaces_around_offset&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;no_trailing_comma_in_list_call&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_trailing_comma_in_singleline_array&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_unneeded_control_parentheses&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;no_unused_imports&#x27; =&gt; true,</span>        <span class="hljs-string">&#x27;no_whitespace_before_comma_in_array&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;no_whitespace_in_blank_line&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;normalize_index_brace&#x27; =&gt; true,</span>        <span class="hljs-string">&#x27;object_operator_without_whitespace&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;php_unit_fqcn_annotation&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_align&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_annotation_without_dot&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_indent&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_inline_tag&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_no_access&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_no_alias_tag&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_no_empty_return&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_no_package&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_no_useless_inheritdoc&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_return_self_reference&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_scalar&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_separation&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_single_line_var_spacing&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_summary&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_to_comment&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_trim&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_types&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;phpdoc_var_without_name&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;increment_style&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;return_type_declaration&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;self_accessor&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;short_scalar_cast&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;single_blank_line_before_namespace&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;single_class_element_per_statement&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;space_after_semicolon&#x27; =&gt; true,</span>        <span class="hljs-comment">// &#x27;standardize_not_equals&#x27; =&gt; true,</span>        <span class="hljs-string">&#x27;ternary_operator_spaces&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;trailing_comma_in_multiline&#x27; =&gt; [&#x27;elements&#x27; =&gt; [&#x27;arrays&#x27;]],</span>        <span class="hljs-string">&#x27;trim_array_spaces&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;unary_operator_spaces&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;whitespace_after_comma_in_array&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-string">&#x27;space_after_semicolon&#x27;</span> =&gt; <span class="hljs-literal">true</span>,        <span class="hljs-comment">// &#x27;single_blank_line_at_eof&#x27; =&gt; false</span>    ])    <span class="hljs-comment">// -&gt;setIndent(&quot;\t&quot;)</span>    -&gt;<span class="hljs-title function_ invoke__">setLineEnding</span>(<span class="hljs-string">&quot;\n&quot;</span>);</code></pre></div><p>å¦‚æœä½ ä½¿ç”¨çš„æ˜¯Laravelï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘çš„æ…£ç”¨è¨­å®šæª”</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-meta">&lt;?php</span><span class="hljs-variable">$rules</span> = [    <span class="hljs-string">&#x27;@Symfony&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;whitespace_after_comma_in_array&#x27;</span> =&gt; [<span class="hljs-string">&#x27;ensure_single_space&#x27;</span> =&gt; <span class="hljs-literal">true</span>],    <span class="hljs-string">&#x27;cast_spaces&#x27;</span> =&gt; [<span class="hljs-string">&#x27;space&#x27;</span> =&gt; <span class="hljs-string">&#x27;none&#x27;</span>],    <span class="hljs-string">&#x27;ordered_class_elements&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-comment">// &#x27;method_argument_space&#x27; =&gt; true,</span>    <span class="hljs-string">&#x27;list_syntax&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;no_useless_return&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;explicit_string_variable&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;yoda_style&#x27;</span> =&gt; <span class="hljs-literal">false</span>,    <span class="hljs-string">&#x27;no_useless_else&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;global_namespace_import&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;combine_consecutive_unsets&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;declare_equal_normalize&#x27;</span> =&gt; [<span class="hljs-string">&#x27;space&#x27;</span> =&gt; <span class="hljs-string">&#x27;single&#x27;</span>],    <span class="hljs-string">&#x27;concat_space&#x27;</span> =&gt; [<span class="hljs-string">&#x27;spacing&#x27;</span> =&gt; <span class="hljs-string">&#x27;one&#x27;</span>],    <span class="hljs-string">&#x27;ternary_to_null_coalescing&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;multiline_whitespace_before_semicolons&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;array_indentation&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;blank_line_before_statement&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;method_chaining_indentation&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-string">&#x27;phpdoc_to_comment&#x27;</span> =&gt; <span class="hljs-literal">false</span>,    <span class="hljs-string">&#x27;phpdoc_var_annotation_correct_order&#x27;</span> =&gt; <span class="hljs-literal">true</span>,    <span class="hljs-comment">// &#x27;phpdoc_add_missing_param_annotation&#x27; =&gt; true,</span>    <span class="hljs-comment">// &#x27;class_definition&#x27; =&gt; true,</span>];<span class="hljs-variable">$finder</span> = <span class="hljs-title class_">PhpCsFixer\Finder</span>::<span class="hljs-title function_ invoke__">create</span>();<span class="hljs-comment">// ignore laravel blade file</span><span class="hljs-variable">$finder</span>-&gt;<span class="hljs-title function_ invoke__">exclude</span>([<span class="hljs-string">&#x27;vendor&#x27;</span>])    -&gt;<span class="hljs-title function_ invoke__">notName</span>(<span class="hljs-string">&#x27;*.blade.php&#x27;</span>);<span class="hljs-keyword">return</span> (<span class="hljs-keyword">new</span> <span class="hljs-title class_">PhpCsFixer\Config</span>())    -&gt;<span class="hljs-title function_ invoke__">setRules</span>(<span class="hljs-variable">$rules</span>)    -&gt;<span class="hljs-title function_ invoke__">setIndent</span>(<span class="hljs-string">&#x27;    &#x27;</span>)    -&gt;<span class="hljs-title function_ invoke__">setLineEnding</span>(<span class="hljs-string">&quot;\n&quot;</span>)    -&gt;<span class="hljs-title function_ invoke__">setFinder</span>(<span class="hljs-variable">$finder</span>);</code></pre></div><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>Elementary OS 7 (Ubuntu 22.04)</li><li>PHP 7.4</li></ul><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul><li><a href="https://github.com/PHP-CS-Fixer/PHP-CS-Fixer/blob/master/doc/">https://github.com/PHP-CS-Fixer/PHP-CS-Fixer/blob/master/doc/</a></li><li><a href="https://github.com/PHP-CS-Fixer/PHP-CS-Fixer">https://github.com/PHP-CS-Fixer/PHP-CS-Fixer</a></li><li><a href="https://github.com/junstyle/vscode-php-cs-fixer">https://github.com/junstyle/vscode-php-cs-fixer</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>PHP</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PHP</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[PHP] åœ¨Linuxä¸­å®‰è£Composer</title>
    <link href="/posts/20231206-composer-install-on-ubuntu/"/>
    <url>/posts/20231206-composer-install-on-ubuntu/</url>
    
    <content type="html"><![CDATA[<h2 id="ç°¡ä»‹"><a href="#ç°¡ä»‹" class="headerlink" title="ç°¡ä»‹"></a>ç°¡ä»‹</h2><p>Composeræ˜¯ä¸€å€‹ç”¨æ–¼ç®¡ç†PHPå°ˆæ¡ˆä¸­ç›¸ä¾å¥—ä»¶çš„å·¥å…·ã€‚å®ƒå…è¨±ä½ åœ¨PHPå°ˆæ¡ˆä¸­å®šç¾©æ‰€éœ€çš„å¥—ä»¶åŠå…¶ç‰ˆæœ¬ï¼Œä¸¦å°‡å®ƒå€‘è‡ªå‹•ä¸‹è¼‰ä¸¦ä¸‹è¼‰åˆ°ä½ çš„å°ˆæ¡ˆä¸­ã€‚<br>é€™è®“é–‹ç™¼äººå“¡èƒ½å¤ æ›´å®¹æ˜“åœ°ç®¡ç†å°ˆæ¡ˆæ‰€éœ€çš„å¥—ä»¶ï¼Œä¸¦ç¢ºä¿é€™äº›å¥—ä»¶çš„ç‰ˆæœ¬èƒ½å¤ æ­£ç¢ºåœ°æ»¿è¶³ä½ çš„å°ˆæ¡ˆéœ€æ±‚ã€‚</p><h2 id="ä¸€ã€å®‰è£"><a href="#ä¸€ã€å®‰è£" class="headerlink" title="ä¸€ã€å®‰è£"></a>ä¸€ã€å®‰è£</h2><ol><li><p>å»ºç«‹æš«å­˜è³‡æ–™å¤¾ä¸¦é€²å…¥è©²è³‡æ–™å¤¾</p> <div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> tmp &amp;&amp; <span class="hljs-built_in">cd</span> tmp</code></pre></div></li><li><p>å¾å®˜ç¶²ä¸‹è¼‰å®‰è£æª”</p> <div class="code-wrapper"><pre><code class="hljs bash">php -r <span class="hljs-string">&quot;copy(&#x27;https://getcomposer.org/installer&#x27;, &#x27;composer-setup.php&#x27;);&quot;</span></code></pre></div></li><li><p>é©—è­‰æª”æ¡ˆæ˜¯å¦æ­£ç¢º<br> åŸ·è¡Œå¾Œé¡¯ç¤º<code>Installer verified</code>ä»£è¡¨æ­£ç¢ºï¼Œé¡¯ç¤º<code>Installer corrupt</code>ä»£è¡¨æª”æ¡ˆæœ‰éŒ¯èª¤ï¼Œéœ€è¦é‡æ–°ä¸‹è¼‰</p><blockquote><p>æ³¨æ„: é€™å€‹æŒ‡ä»¤ä¸­çš„sha384å€¼ï¼Œå¯èƒ½æœƒéš¨è‘—composerç‰ˆæœ¬çš„ä¸åŒè€Œæ”¹è®Šï¼Œè©²æŒ‡ä»¤è«‹ä»¥<a href="https://getcomposer.org/download/">å®˜æ–¹æ–‡ä»¶</a>ä¸­çš„æŒ‡ä»¤ç‚ºæº–</p></blockquote> <div class="code-wrapper"><pre><code class="hljs bash">php -r <span class="hljs-string">&quot;if (hash_file(&#x27;sha384&#x27;, &#x27;composer-setup.php&#x27;) === &#x27;e21205b207c3ff031906575712edab6f13eb0b361f2085f1f1237b7126d785e826a450292b6cfd1d64d92e6563bbde02&#x27;) &#123; echo &#x27;Installer verified&#x27;; &#125; else &#123; echo &#x27;Installer corrupt&#x27;; unlink(&#x27;composer-setup.php&#x27;); &#125; echo PHP_EOL;&quot;</span></code></pre></div></li><li><p>å®‰è£composeråˆ°<code>/usr/bin/composer</code>(å¯ä¾ç…§ç³»çµ±ç’°å¢ƒä¸åŒä¿®æ”¹)</p> <div class="code-wrapper"><pre><code class="hljs bash">php composer-setup.php --install-dir=/usr/bin --filename=composer</code></pre></div></li><li><p>åˆªé™¤ä¸‹è¼‰çš„å®‰è£æª”</p> <div class="code-wrapper"><pre><code class="hljs bash">php -r <span class="hljs-string">&quot;unlink(&#x27;composer-setup.php&#x27;);&quot;</span></code></pre></div></li></ol><h2 id="äºŒã€æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ"><a href="#äºŒã€æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ" class="headerlink" title="äºŒã€æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ"></a>äºŒã€æª¢æŸ¥æ˜¯å¦å®‰è£æˆåŠŸ</h2><p>åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">composer -V</code></pre></div><p>å‡ºç¾composerç‰ˆæœ¬è™Ÿå‰‡ä»£è¡¨å®‰è£æˆåŠŸ</p><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>Elementary OS 7 (Ubuntu 22.04)</li><li>PHP 7.4</li></ul><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul><li><a href="https://getcomposer.org/download/">https://getcomposer.org/download/</a></li><li><a href="https://getcomposer.org/doc/00-intro.md">https://getcomposer.org/doc/00-intro.md</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Composer</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PHP</tag>
      
      <tag>Linux</tag>
      
      <tag>Composer</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[MySQL] ä½¿ç”¨RPMåœ¨Linuxä¸­é›¢ç·šå®‰è£MySQL</title>
    <link href="/posts/20231127-mysql-offline-install-rhel/"/>
    <url>/posts/20231127-mysql-offline-install-rhel/</url>
    
    <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æœ¬ç¯‡æ–‡ç« å°‡æœƒèªªæ˜å¦‚ä½•åœ¨Linuxä¸­ä½¿ç”¨RPMå®‰è£MySQLï¼Œä¸¦ä¸”é€™ç¨®å®‰è£æ–¹å¼æ”¯æ´é›¢ç·šå®‰è£ï¼Œå¯ä»¥åœ¨èˆ‡å¤–ç•Œéš”é›¢çš„ç’°å¢ƒä¸‹ä¸ä¾è³´å¥—ä»¶ç®¡ç†å·¥å…·é€²è¡Œå®‰è£ã€‚</p><h2 id="å®‰è£æµç¨‹"><a href="#å®‰è£æµç¨‹" class="headerlink" title="å®‰è£æµç¨‹"></a>å®‰è£æµç¨‹</h2><h3 id="ä¸€ã€ä¸‹è¼‰å®‰è£åŒ…-RPM"><a href="#ä¸€ã€ä¸‹è¼‰å®‰è£åŒ…-RPM" class="headerlink" title="ä¸€ã€ä¸‹è¼‰å®‰è£åŒ…(RPM)"></a>ä¸€ã€ä¸‹è¼‰å®‰è£åŒ…(RPM)</h3><ol><li>ä¸‹è¼‰å®‰è£åŒ…<br>æŒ‰ç…§éœ€æ±‚åˆ°<a href="https://downloads.mysql.com/archives/community/">é€™è£¡</a>ä¸‹è¼‰ç›¸å°æ‡‰ç‰ˆæœ¬çš„RPMåŒ…<br><img src="https://i.imgur.com/SCp9IMi.png"></li></ol><h3 id="äºŒã€å®‰è£MySQL"><a href="#äºŒã€å®‰è£MySQL" class="headerlink" title="äºŒã€å®‰è£MySQL"></a>äºŒã€å®‰è£MySQL</h3><ol><li><p>å°‡taræª”ä¸Šå‚³åˆ°serverä¸Š</p></li><li><p>è§£å£“ç¸®taræª”</p><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> mysqltar xvf mysql-5.7.35-1.el7.x86_64.rpm-bundle.tar -C ./mysql<span class="hljs-built_in">cd</span> mysql<span class="hljs-built_in">ls</span> -alh</code></pre></div><p><img src="https://i.imgur.com/yZjlwjk.png"></p></li><li><p>å®‰è£rpmåŒ…</p><div class="code-wrapper"><pre><code class="hljs bash">rpm -ivh mysql-community-client* --nodeps --forcerpm -ivh mysql-community-common* --nodeps --forcerpm -ivh mysql-community-libs* --nodeps --forcerpm -ivh mysql-community-server* --nodeps --force</code></pre></div></li><li><p>ç¢ºèªå®‰è£åŒ…</p><div class="code-wrapper"><pre><code class="hljs bash">rpm -qa | grep mysql</code></pre></div><p><img src="https://i.imgur.com/owJN2i2.png"></p></li><li><p>å•Ÿå‹•MySQLï¼Œä¸¦ç¢ºèªå•Ÿå‹•æˆåŠŸ</p><div class="code-wrapper"><pre><code class="hljs bash">systemctl start mysqldsystemctl status mysqld</code></pre></div></li><li><p>æŸ¥çœ‹rootå¯†ç¢¼<br>é è¨­çš„rootå¯†ç¢¼æœƒåœ¨&#x2F;var&#x2F;log&#x2F;mysqld.logè£¡</p><div class="code-wrapper"><pre><code class="hljs bash">grep <span class="hljs-string">&quot;A temporary password&quot;</span> /var/log/mysqld.log</code></pre></div><p><img src="https://i.imgur.com/HcbVgie.png"></p></li><li><p>åˆå§‹åŒ–è³‡æ–™åº«</p><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># mysql_secure_installation</span>New password: NEW_PASSWORDRe-enter new password: NEW_PASSWORDChange the password <span class="hljs-keyword">for</span> root ? NDo you wish to <span class="hljs-built_in">continue</span> with the password provided? YRemove anonymous <span class="hljs-built_in">users</span>? (Press y|Y <span class="hljs-keyword">for</span> Yes, any other key <span class="hljs-keyword">for</span> No) : YDisallow root login remotely? (Press y|Y <span class="hljs-keyword">for</span> Yes, any other key <span class="hljs-keyword">for</span> No) : YRemove <span class="hljs-built_in">test</span> database and access to it? (Press y|Y <span class="hljs-keyword">for</span> Yes, any other key <span class="hljs-keyword">for</span> No) : YReload privilege tables now? (Press y|Y <span class="hljs-keyword">for</span> Yes, any other key <span class="hljs-keyword">for</span> No) : Y</code></pre></div><p><img src="https://i.imgur.com/WnkqqqH.png"></p></li><li><p>ä¿®æ”¹rootå¯†ç¢¼</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;NEW_PASSWORD&#x27;</span>;FLUSH PRIVILEGES;</code></pre></div></li></ol><h3 id="ä¸‰ã€è¨­å®šé˜²ç«ç‰†"><a href="#ä¸‰ã€è¨­å®šé˜²ç«ç‰†" class="headerlink" title="ä¸‰ã€è¨­å®šé˜²ç«ç‰†"></a>ä¸‰ã€è¨­å®šé˜²ç«ç‰†</h3><ol><li><p>æŸ¥çœ‹é˜²ç«ç‰†ç‹€æ…‹</p><div class="code-wrapper"><pre><code class="hljs bash">systemctl status firewalld</code></pre></div></li><li><p>æŸ¥è©¢æ˜¯å¦æœ‰mysqlæœå‹™åç¨±</p><div class="code-wrapper"><pre><code class="hljs bash">firewall-cmd --get-services | grep mysql</code></pre></div><p><img src="https://i.imgur.com/qKgTwa1.png"></p></li><li><p>å°‡mysqlæœå‹™æ°¸ä¹…è¨­å®šåˆ°publicä¸­</p></li></ol><ul><li><p>æœ‰æœå‹™åç¨±ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">firewall-cmd --zone=public --permanent --add-service=mysql</code></pre></div><p><img src="https://i.imgur.com/eMYEAYb.png"></p></li><li><p>æ²’æœ‰æœå‹™åç¨±ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash">firewall-cmd --zone=public --permanent --add-port=3306/tcp</code></pre></div></li></ul><ol start="5"><li>æŸ¥çœ‹publicçš„æ°¸ä¹…è¨­å®šå€¼<div class="code-wrapper"><pre><code class="hljs bash">firewall-cmd --zone=public --permanent --list-services</code></pre></div><img src="https://i.imgur.com/chQVHzO.png"></li></ol><h2 id="è³‡æ–™åº«æ“ä½œ"><a href="#è³‡æ–™åº«æ“ä½œ" class="headerlink" title="è³‡æ–™åº«æ“ä½œ"></a>è³‡æ–™åº«æ“ä½œ</h2><h3 id="ä¸€ã€å»ºç«‹ä½¿ç”¨è€…"><a href="#ä¸€ã€å»ºç«‹ä½¿ç”¨è€…" class="headerlink" title="ä¸€ã€å»ºç«‹ä½¿ç”¨è€…"></a>ä¸€ã€å»ºç«‹ä½¿ç”¨è€…</h3><ol><li><p>å¾å¤–éƒ¨sqlæª”åŸ·è¡Œèªæ³•</p><div class="code-wrapper"><pre><code class="hljs bash">mysql -uroot -p --default-character-set=utf8 &lt;SQL_FILE</code></pre></div></li><li><p>å»ºç«‹ä½¿ç”¨è€…</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">&#x27;user&#x27;</span>@<span class="hljs-string">&#x27;CLIENT_IP&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;NEW_PASSWORD&#x27;</span>;FLUSH PRIVILEGES;</code></pre></div></li><li><p>è¨­å®šå¯†ç¢¼ä¸éæœŸ</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">&#x27;root&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> PASSWORD EXPIRE NEVER;FLUSH PRIVILEGES;</code></pre></div></li><li><p>çµ¦äºˆå…¨éƒ¨æ¬Šé™</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">ALL</span> PRIVILEGES <span class="hljs-keyword">ON</span> `DB_NAME`.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;user&#x27;</span>@<span class="hljs-string">&#x27;CLIENT_IP&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;NEW_PASSWORD&#x27;</span>;FLUSH PRIVILEGES;</code></pre></div></li><li><p>æŸ¥çœ‹ä½¿ç”¨è€…æ¸…å–®</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">user</span>, host <span class="hljs-keyword">FROM</span> mysql.user;</code></pre></div></li><li><p>æŸ¥çœ‹æˆæ¬Š</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">SHOW</span> GRANTS <span class="hljs-keyword">FOR</span> <span class="hljs-string">&#x27;user&#x27;</span>@<span class="hljs-string">&#x27;CLIENT_IP&#x27;</span>;</code></pre></div></li><li><p>é™ç¸®æ¬Šé™<br>å…ˆç§»é™¤æ‰€æœ‰æ¬Šé™ï¼Œå†é‡æ–°è³¦äºˆ</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">revoke</span> <span class="hljs-keyword">all</span> privileges <span class="hljs-keyword">on</span> <span class="hljs-operator">*</span>.<span class="hljs-operator">*</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;user&#x27;</span>@<span class="hljs-string">&#x27;CLIENT_IP&#x27;</span>;<span class="hljs-keyword">GRANT</span> <span class="hljs-keyword">SELECT</span>,<span class="hljs-keyword">UPDATE</span>,<span class="hljs-keyword">INSERT</span>,<span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">ON</span> `DB_NAME`.<span class="hljs-operator">*</span> <span class="hljs-keyword">TO</span> <span class="hljs-string">&#x27;usernamep&#x27;</span>@<span class="hljs-string">&#x27;localhost&#x27;</span> IDENTIFIED <span class="hljs-keyword">BY</span> PASSWORD <span class="hljs-string">&#x27;password&#x27;</span>;FLUSH PRIVILEGES;</code></pre></div></li><li><p>åˆªé™¤ä½¿ç”¨è€…</p><div class="code-wrapper"><pre><code class="hljs sql"><span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">FROM</span> mysql.user <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span><span class="hljs-operator">=</span><span class="hljs-string">&#x27;USERNAME&#x27;</span> <span class="hljs-keyword">AND</span> host<span class="hljs-operator">=</span><span class="hljs-string">&#x27;HOST&#x27;</span>;FLUSH PRIVILEGES;</code></pre></div></li></ol><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>Red Hat Enterprise Linux 7</li><li>MySQL 5.7.35</li></ul><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul><li><a href="https://blog.gtwang.org/linux/centos-7-firewalld-command-setup-tutorial/2/">https://blog.gtwang.org/linux/centos-7-firewalld-command-setup-tutorial/2/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
      <tag>Linux</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[è³‡è¨Šå®‰å…¨] é›œæ¹Šã€ç·¨ç¢¼èˆ‡åŠ å¯†çš„å€åˆ¥</title>
    <link href="/posts/20231117-security-hash-encoding-and-encryption/"/>
    <url>/posts/20231117-security-hash-encoding-and-encryption/</url>
    
    <content type="html"><![CDATA[<h3 id="é›œæ¹Šä¸ç­‰æ–¼ç·¨ç¢¼ï¼Œç·¨ç¢¼ä¸ç­‰æ–¼åŠ å¯†ï¼ŒåŠ å¯†ä¹Ÿä¸æ˜¯é›œæ¹Š"><a href="#é›œæ¹Šä¸ç­‰æ–¼ç·¨ç¢¼ï¼Œç·¨ç¢¼ä¸ç­‰æ–¼åŠ å¯†ï¼ŒåŠ å¯†ä¹Ÿä¸æ˜¯é›œæ¹Š" class="headerlink" title="é›œæ¹Šä¸ç­‰æ–¼ç·¨ç¢¼ï¼Œç·¨ç¢¼ä¸ç­‰æ–¼åŠ å¯†ï¼ŒåŠ å¯†ä¹Ÿä¸æ˜¯é›œæ¹Š!!!"></a>é›œæ¹Šä¸ç­‰æ–¼ç·¨ç¢¼ï¼Œç·¨ç¢¼ä¸ç­‰æ–¼åŠ å¯†ï¼ŒåŠ å¯†ä¹Ÿä¸æ˜¯é›œæ¹Š!!!</h3><p>ç‚ºç”šéº¼è¦æé€™ä»¶äº‹å‘¢?<br>è«‹å…ˆçœ‹é€™ç¯‡æ–°èï¼š</p><blockquote><p>åœ‹æ°‘é»¨å°ä¸­å¸‚è­°å“¡æä¸­æ˜¨åœ¨è­°æœƒè³ªè©¢ï¼Œç§€å‡ºã€Œè¿‘12å€‹æœˆäº¤é€šé•è¦æª¢èˆ‰é‡å‰20åã€çš„åå–®ã€‚ä¸éæª¢èˆ‰äººçš„èº«åˆ†è­‰å­—è™Ÿç«Ÿåªç”¨Base64ç·¨ç¢¼è½‰æ›ï¼Œé•·æœŸå”åŠ©ä¼æ¥­è³‡å®‰ä¿è­·çš„è³‡å®‰äººå“¡é€éœ²ï¼Œå–å¾—èº«åˆ†è­‰å­—è™Ÿå†æ­é…å…ˆå‰å¤–æ´©çš„æˆ¶æ”¿è³‡æ–™ï¼Œæª¢èˆ‰äººçš„äººèº«å®‰å…¨å ªæ†‚ã€‚â€¦</p><p>è³‡æ–™ä¾†æºï¼š<a href="https://udn.com/news/story/7314/7490929">è¯åˆæ–°èç¶²</a></p></blockquote><p>é€™ä»¶äº‹ç°¡å–®ä¾†èªªï¼Œå°±æ˜¯å·¥ç¨‹å¸«æƒ³æŠŠè³‡æ–™ä¿è­·èµ·ä¾†ï¼Œä½†éŒ¯æŠŠBase64ç•¶ä½œåŠ å¯†æ–¹æ³•ä½¿ç”¨ï¼ŒæŠŠä¸€å€‹åªèƒ½ã€Œè½‰æ›é¡¯ç¤ºæ ¼å¼ã€çš„æ–¹æ³•ï¼Œç”¨åœ¨èº«åˆ†è­‰ä¸Šã€‚<br>çµæœçœ‹åˆ°é€™äº›æ–‡å­—çš„äººï¼Œå®Œå…¨ä¸éœ€è¦key(å¯†é‘°)ä¾†è§£å¯†ï¼Œåªè¦ç¶“éäººäººéƒ½å¯ä»¥çš„é‚„åŸ(è§£ç¢¼)å‹•ä½œï¼ŒåŸæœ¬çš„èº«åˆ†è­‰å°±é¡¯éœ²å‡ºä¾†äº†ã€‚<br>å…¶å¯¦é€™ä¹Ÿä¸æ˜¯ç¬¬ä¸€æ¬¡ç™¼ç”Ÿçš„äº‹æƒ…äº†ï¼Œå¾ˆå¤šå°è³‡è¨Šé ˜åŸŸä¸ç”šäº†è§£çš„äººï¼Œç”šè‡³æœ‰ã€Œéƒ¨åˆ†ã€çš„è³‡è¨Šé ˜åŸŸå·¥ç¨‹å¸«ä»ç„¶ä¸å…·å‚™ç›¸é—œçš„çŸ¥è­˜ç´ é¤Šã€‚<br>æ‰€ä»¥æœ¬ç¯‡æ–‡ç« å°±å¥½å¥½èªªæ˜é›œæ¹Šã€ç·¨ç¢¼èˆ‡åŠ å¯†çš„å€åˆ¥ã€‚</p><h3 id="ä¸€ã€é›œæ¹Š-Hash"><a href="#ä¸€ã€é›œæ¹Š-Hash" class="headerlink" title="ä¸€ã€é›œæ¹Š(Hash)"></a>ä¸€ã€é›œæ¹Š(Hash)</h3><p>é€éé›œæ¹Šæ¼”ç®—æ³•å°‡è³‡æ–™æ‰“äº‚ä¸¦æ··åˆå–å¾—ä¸€å€‹å›ºå®šé•·åº¦çš„é›œæ¹Šå€¼(Hash Values)<br>å…·æœ‰ä¸å¯é€†çš„ç‰¹æ€§<br>ä¸”ä¾†æºè³‡æ–™åªè¦æœ‰ä»»ä½•è®Šå‹•<br>ç”Ÿæˆçš„é›œæ¹Šå€¼ä¹Ÿæœƒä¸åŒ<br>é€šå¸¸ç”¨ä¾†é©—è­‰è³‡æ–™çš„ä¾†æºæ˜¯å¦ç›¸åŒ</p><p>ä¾‹å¦‚æ¯”å°æª”æ¡ˆæ˜¯å¦æœ‰è¢«ä¿®æ”¹é<br>æˆ–æ˜¯åˆ©ç”¨ä¸å¯é€†çš„ç‰¹æ€§<br>ä¾†å­˜æ”¾è³‡æ–™åº«ä¸­çš„å¯†ç¢¼<br>è—‰æ­¤ä¿è­·ä½¿ç”¨è€…çš„è³‡æ–™</p><p>å¸¸è¦‹çš„é›œæ¹Šæ–¹å¼æœ‰ï¼šMD5(<a href="https://zh.wikipedia.org/zh-tw/MD5#%E7%BC%BA%E9%99%B7">ä¸å®‰å…¨ä¸”æœ‰è¡çªå•é¡Œ</a>)ã€SHA-1(<a href="https://zh.wikipedia.org/zh-tw/SHA-1#SHA-1%E7%9A%84%E7%A0%B4%E8%A7%A3">ä¸å»ºè­°ä½¿ç”¨</a>)ã€SHA-256ç­‰</p><h3 id="äºŒã€ç·¨ç¢¼-Encoding"><a href="#äºŒã€ç·¨ç¢¼-Encoding" class="headerlink" title="äºŒã€ç·¨ç¢¼(Encoding)"></a>äºŒã€ç·¨ç¢¼(Encoding)</h3><p>å®šç¾©ç›¸ç•¶å»£æ³›<br>åªè¦æ˜¯å°‡è³‡æ–™å¾ä¸€ç¨®å‹æ…‹è½‰è®Šæˆå¦å¤–ä¸€ç¨®å½¢å¼<br>ä¸”éç¨‹å¯é€†å°±å¯ä»¥ç®—ç·¨ç¢¼<br>åœ¨è³‡è¨Šçš„é ˜åŸŸä¸­æ¯”è¼ƒå¸¸ç”¨åˆ°çš„<br>æ˜¯å°‡å„ç¨®å­—å…ƒè½‰è­¯æˆä¸€å€‹å›ºå®šçš„æ ¼å¼ç”¨ä¾†æ–¹ä¾¿å„²å­˜ã€å‚³è¼¸</p><p>ä¾‹å¦‚è³‡æ–™åº«ç·¨ç¢¼ç„¡æ³•å„²å­˜ç‰¹æ®Šå­—å…ƒæ™‚<br>é€éBase64è½‰æ›æˆåªæœ‰è‹±æ•¸å­—çš„æ ¼å¼å°±èƒ½å¤ å„²å­˜äº†<br>æˆ–æ˜¯ç¶²å€ç„¡æ³•æ¥å—ç©ºç™½æˆ–æ˜¯ä¸€äº›ç‰¹æ®Šå­—å…ƒ<br>ä¹Ÿå¯ä»¥é€éURL Encodeè®Šæˆç¶²å€æ”¯æ´çš„ç·¨ç¢¼<br>ä¾†è®“ç¶²é å¯ä»¥é †åˆ©é€égetæ–¹å¼å‚³éè³‡æ–™</p><p>å¸¸è¦‹çš„ç·¨ç¢¼æ–¹å¼æœ‰ï¼š<a href="https://zh.wikipedia.org/zh-tw/Base64">Base64</a></p><h3 id="ä¸‰ã€åŠ å¯†-Encryption"><a href="#ä¸‰ã€åŠ å¯†-Encryption" class="headerlink" title="ä¸‰ã€åŠ å¯†(Encryption)"></a>ä¸‰ã€åŠ å¯†(Encryption)</h3><p>åŠ å¯†æ˜¯ç·¨ç¢¼çš„ä¸€ç¨®é¡å‹<br>å®ƒéœ€è¦ä½¿ç”¨å¯†é‘°(Key)å°‡åŸå§‹è³‡æ–™è½‰æ›ç‚ºå¯†æ–‡<br>ä¸¦ä¸”é€™å€‹éç¨‹ä¹Ÿæ˜¯å¯é€†çš„<br>åªè¦æ“æœ‰æ­£ç¢ºçš„å¯†é‘°(Key)<br>å°±èƒ½å¤ å°‡å¯†æ–‡è½‰æ›ç‚ºåŸå§‹è³‡æ–™<br>åŠ å¯†å¸¸è¢«ç”¨æ–¼ä¿è­·æ•æ„Ÿè³‡æ–™<br>ä¾‹å¦‚ä¿¡ç”¨å¡è³‡è¨Šã€å€‹äººè³‡æ–™ç­‰</p><p>å¸¸è¦‹çš„åŠ å¯†æ–¹å¼æœ‰ï¼š<a href="https://zh.wikipedia.org/wiki/%E9%AB%98%E7%BA%A7%E5%8A%A0%E5%AF%86%E6%A0%87%E5%87%86">AES</a></p><h3 id="å››ã€æ¯”è¼ƒ"><a href="#å››ã€æ¯”è¼ƒ" class="headerlink" title="å››ã€æ¯”è¼ƒ"></a>å››ã€æ¯”è¼ƒ</h3><table><thead><tr><th align="center"></th><th align="center">é›œæ¹Š</th><th align="center">ç·¨ç¢¼</th><th align="center">åŠ å¯†</th></tr></thead><tbody><tr><td align="center">æ˜¯å¦å¯é€†</td><td align="center">å¦</td><td align="center">æ˜¯</td><td align="center">æ˜¯</td></tr><tr><td align="center">æ˜¯å¦å¯ä»¥ä¿è­·åŸå§‹è³‡æ–™</td><td align="center">å¦ï¼Œåƒ…èƒ½æ¯”å°æ˜¯å¦ç›¸åŒ</td><td align="center">å¦</td><td align="center">æ˜¯</td></tr><tr><td align="center">é•·åº¦æ˜¯å¦å›ºå®š</td><td align="center">æ˜¯</td><td align="center">å¦</td><td align="center">å¦</td></tr><tr><td align="center">ä¸»è¦ç”¨é€”</td><td align="center">å¿«é€Ÿæ¯”å°è³‡æ–™æ˜¯å¦ç›¸åŒ</td><td align="center">ä½¿è³‡æ–™ä¾¿æ–¼å‚³è¼¸èˆ‡å„²å­˜</td><td align="center">ä¿è­·æ©Ÿæ•è³‡æ–™</td></tr><tr><td align="center">å…·é«”ç”¨é€”</td><td align="center">1. ä¿å­˜å¯†ç¢¼ <br>2.æ¯”å°æª”æ¡ˆæ˜¯å¦ä¸€è‡´</td><td align="center">Http Getå‚³è¼¸è³‡æ–™</td><td align="center">ä¿è­·è³‡æ–™åº«è³‡æ–™</td></tr></tbody></table><h3 id="äº”ã€çµèª"><a href="#äº”ã€çµèª" class="headerlink" title="äº”ã€çµèª"></a>äº”ã€çµèª</h3><p>ç¸½çµä¾†èªª<br>é›œæ¹Šã€ç·¨ç¢¼å’ŒåŠ å¯†é›–ç„¶åœ¨è³‡è¨Šå®‰å…¨ä¸­æ‰®æ¼”ä¸åŒçš„è§’è‰²<br>ä½†å¾ˆå¤šäººå¾€å¾€å®¹æ˜“ææ··å®ƒå€‘çš„ç”¨é€”<br>ä¾‹å¦‚ç”¨ç·¨ç¢¼æˆ–åŠ å¯†çš„æ–¹å¼å„²å­˜ä½¿ç”¨è€…å¯†ç¢¼<br>é€™ç¨®åœ¨è³‡æ–™åº«å¤–æ´©çš„æ™‚å€™<br>å°±æœ‰å¯èƒ½é€ æˆä½¿ç”¨è€…çš„å¯†ç¢¼è¢«é§­å®¢å–å¾—<br>é€™ç¨®äº‹æƒ…å·²ç¶“ç™¼ç”Ÿéå¾ˆå¤šéäº†<br>æˆ‘å€‘éƒ½æ‡‰è©²è¦å¼•ä»¥ç‚ºæˆ’æ‰æ˜¯</p>]]></content>
    
    
    <categories>
      
      <category>è³‡è¨Šå®‰å…¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>è³‡è¨Šå®‰å…¨</tag>
      
      <tag>Hash</tag>
      
      <tag>Encoding</tag>
      
      <tag>Encryption</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Vue] è§£æ±ºä½¿ç”¨Vue.Draggableæ’åºè¡¨æ ¼ç„¡æ•ˆå•é¡Œ</title>
    <link href="/posts/20231113-vue-draggable-table-useless/"/>
    <url>/posts/20231113-vue-draggable-table-useless/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€å•é¡Œ"><a href="#ä¸€ã€å•é¡Œ" class="headerlink" title="ä¸€ã€å•é¡Œ"></a>ä¸€ã€å•é¡Œ</h3><p>åœ¨ä½¿ç”¨<a href="https://github.com/RubaXa/Sortable">Sortable.js</a>çš„Vue.jsç‰ˆæœ¬å¥—ä»¶<a href="https://github.com/SortableJS/Vue.Draggable">Vue.Draggable</a>æ™‚<br>é‡åˆ°æ’åºdivå€å¡Šæ²’å•é¡Œï¼Œä½†æ˜¯æ’åºtableå°±æ²’è¾¦æ³•æ‹–æ›³æ’åºçš„å•é¡Œ<br>ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span></span><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">draggable</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;products&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">tag</span>=<span class="hljs-string">&quot;tbody&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">element</span>=<span class="hljs-string">&quot;tbody&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">handle</span>=<span class="hljs-string">&quot;.handle&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;product in products&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;product.id&quot;</span>&gt;</span></span><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;move-icon&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 1.5rem&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">                </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">product.name</span> &#125;&#125;</span><span class="language-xml"></span><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">draggable</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span></code></pre></div><h3 id="äºŒã€åŸå› "><a href="#äºŒã€åŸå› " class="headerlink" title="äºŒã€åŸå› "></a>äºŒã€åŸå› </h3><p>å› ç‚ºé€™æ®µç¨‹å¼ç¢¼å¯«åœ¨htmlæ¨¡æ¿çš„æª”æ¡ˆä¸­ï¼Œè€Œä¸æ˜¯.vueæª”<br>å¯ä»¥æ ¹æ“šå®˜æ–¹ç¶²ç«™çš„<a href="https://v2.vuejs.org/v2/guide/components.html#DOM-Template-Parsing-Caveats">èªªæ˜</a>ä¿®æ”¹<br>ä½¿ç”¨isç‰¹æ®Šå±¬æ€§ï¼š</p><div class="code-wrapper"><pre><code class="hljs routeros">&lt;tbody <span class="hljs-attribute">is</span>=<span class="hljs-string">&quot;draggable&quot;</span>&gt;</code></pre></div><p>å¯ä»¥é”åˆ°èˆ‡ä¸‹åˆ—ç›¸åŒçš„æ•ˆæœ</p><div class="code-wrapper"><pre><code class="hljs routeros">&lt;draggable <span class="hljs-attribute">tag</span>=<span class="hljs-string">&quot;tbody&quot;</span>&gt;</code></pre></div><h3 id="ä¸‰ã€ä¿®æ­£å¾Œçš„ç¨‹å¼ç¢¼"><a href="#ä¸‰ã€ä¿®æ­£å¾Œçš„ç¨‹å¼ç¢¼" class="headerlink" title="ä¸‰ã€ä¿®æ­£å¾Œçš„ç¨‹å¼ç¢¼"></a>ä¸‰ã€ä¿®æ­£å¾Œçš„ç¨‹å¼ç¢¼</h3><p>ä¿®æ­£å¾Œçš„ç¨‹å¼ç¢¼å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre><code class="hljs handlebars"><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span></span><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">is</span>=<span class="hljs-string">&quot;draggable&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;products&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">element</span>=<span class="hljs-string">&quot;tbody&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">        <span class="hljs-attr">handle</span>=<span class="hljs-string">&quot;.handle&quot;</span></span></span><span class="hljs-tag"><span class="language-xml">    &gt;</span></span><span class="language-xml">        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;product in products&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;product.id&quot;</span>&gt;</span></span><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">                <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;move-icon&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-size: 1.5rem&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span></span><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">                </span><span class="hljs-template-variable">&#123;&#123; <span class="hljs-name">product.name</span> &#125;&#125;</span><span class="language-xml"></span><span class="language-xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span></span><span class="language-xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span></span><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span></span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span></code></pre></div>]]></content>
    
    
    <categories>
      
      <category>Vue</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Batch] batæª”æ¡ˆé€²è¡Œè³‡æ–™å‚™ä»½</title>
    <link href="/posts/20231107-batch-backup-folder/"/>
    <url>/posts/20231107-batch-backup-folder/</url>
    
    <content type="html"><![CDATA[<p>å°æ–¼åœ¨Windowsç³»çµ±ä¸­å‚™ä»½è³‡æ–™çš„éœ€æ±‚<br>å¦‚æœå¯ä»¥å¯«å¥½ä¸€å€‹æ‰¹æ¬¡æª”ï¼Œä¸¦ä½¿ç”¨å·¥ä½œæ’ç¨‹å®šæœŸè¤‡è£½æª”æ¡ˆåˆ°æŒ‡å®šç›®éŒ„é‚£å°±å¤ªæ–¹ä¾¿äº†<br>ä»¥ä¸‹æ˜¯ä½¿ç”¨<code>xcopy</code>æŒ‡ä»¤å¯¦ç¾çš„ä¸€å€‹ç°¡æ˜“çš„batæª”æ•™å­¸</p><h2 id="æ•™å­¸"><a href="#æ•™å­¸" class="headerlink" title="æ•™å­¸"></a>æ•™å­¸</h2><h3 id="ä¸€ã€batæª”æ¡ˆ"><a href="#ä¸€ã€batæª”æ¡ˆ" class="headerlink" title="ä¸€ã€batæª”æ¡ˆ"></a>ä¸€ã€batæª”æ¡ˆ</h3><ol><li>backup.bat <div class="code-wrapper"><pre><code class="hljs dos">@<span class="hljs-built_in">ECHO</span> OFF<span class="hljs-comment"></span><span class="hljs-comment">@REM æŒ‡å®šèªç³»ç‚ºUTF-8</span><span class="hljs-built_in">chcp</span> <span class="hljs-number">65001</span><span class="hljs-keyword">IF</span> &quot;%<span class="hljs-number">1</span>&quot; == &quot;&quot; (<span class="hljs-built_in">SET</span> /P source=&quot;è«‹è¼¸å…¥è¦å‚™ä»½çš„è³‡æ–™å¤¾çµ•å°è·¯å¾‘ï¼š&quot;) <span class="hljs-keyword">ELSE</span> (<span class="hljs-built_in">SET</span> source=%~<span class="hljs-number">1</span>)<span class="hljs-keyword">IF</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXIST</span> &quot;<span class="hljs-variable">%source%</span>\&quot; (<span class="hljs-built_in">ECHO</span> è·¯å¾‘ä¸å­˜åœ¨<span class="hljs-built_in">PAUSE</span><span class="hljs-keyword">EXIT</span>)<span class="hljs-keyword">IF</span> &quot;%<span class="hljs-number">2</span>&quot; == &quot;&quot; (<span class="hljs-built_in">SET</span> /P target=&quot;è«‹è¼¸å…¥å­˜æ”¾å‚™ä»½è³‡æ–™çš„çµ•å°è·¯å¾‘ï¼š&quot;) <span class="hljs-keyword">ELSE</span> (<span class="hljs-built_in">SET</span> target=%~<span class="hljs-number">2</span>)<span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXIST</span> &quot;<span class="hljs-variable">%target%</span>\&quot; (choice /c Yn /m &quot;ç›®æ¨™è·¯å¾‘å·²ç¶“å­˜åœ¨æª”æ¡ˆï¼Œæ˜¯å¦è¦†è“‹?&quot;<span class="hljs-comment"></span><span class="hljs-comment">@REM éŒ¯èª¤çš„æ¢ä»¶</span><span class="hljs-keyword">IF</span> <span class="hljs-keyword">ERRORLEVEL</span> <span class="hljs-number">255</span> <span class="hljs-keyword">GOTO</span> CLOSE<span class="hljs-comment">@REM é¸æ“‡ä¸è¦†è“‹</span><span class="hljs-keyword">IF</span> <span class="hljs-keyword">ERRORLEVEL</span> <span class="hljs-number">2</span> <span class="hljs-keyword">GOTO</span> CLOSE<span class="hljs-comment">@REM é¸æ“‡ç¹¼çºŒå‚™ä»½</span><span class="hljs-keyword">IF</span> <span class="hljs-keyword">ERRORLEVEL</span> <span class="hljs-number">1</span> <span class="hljs-keyword">GOTO</span> CONTINUE<span class="hljs-comment"></span><span class="hljs-comment">@REM å–æ¶ˆæŒ‡ä»¤</span><span class="hljs-keyword">IF</span> <span class="hljs-keyword">ERRORLEVEL</span> <span class="hljs-number">0</span> <span class="hljs-keyword">GOTO</span> CLOSE:CLOSE<span class="hljs-built_in">ECHO</span> å–æ¶ˆå‚™ä»½<span class="hljs-built_in">PAUSE</span><span class="hljs-keyword">EXIT</span>:CONTINUE<span class="hljs-built_in">ECHO</span> å°‡è¦†è“‹ç›®æ¨™è·¯å¾‘æª”æ¡ˆ<span class="hljs-built_in">PAUSE</span>)<span class="hljs-built_in">xcopy</span> &quot;<span class="hljs-variable">%source%</span>&quot; &quot;<span class="hljs-variable">%target%</span>&quot; /s /e /h /i /c /y<span class="hljs-built_in">ECHO</span> æª”æ¡ˆå‚™ä»½å®Œæˆ<span class="hljs-built_in">PAUSE</span></code></pre></div> è«‹æ³¨æ„é€™å€‹batæª”æ¡ˆçš„ç·¨ç¢¼æ ¼å¼<span style="color:#df5000">è¦å­˜æˆUTF-8</span><br> æˆ–æ˜¯å­˜æˆå…¶ä»–ç·¨ç¢¼å¾Œä¿®æ”¹<code>chcp</code>çš„è¨­å®š<br> æ‰ä¸æœƒç™¼ç”Ÿä¸­æ–‡äº‚ç¢¼çš„å•é¡Œ</li></ol><h3 id="äºŒã€ä½¿ç”¨æ–¹å¼"><a href="#äºŒã€ä½¿ç”¨æ–¹å¼" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹å¼"></a>äºŒã€ä½¿ç”¨æ–¹å¼</h3><ol><li><p>ç›´æ¥åœ¨æŒ‡ä»¤ä¸­è¼¸å…¥å‚™ä»½è³‡æ–™å¤¾èˆ‡ç›®æ¨™è³‡æ–™å¤¾</p> <div class="code-wrapper"><pre><code class="hljs lsl">backup.bat <span class="hljs-string">&quot;C:<span class="hljs-subst">\t</span>est\source&quot;</span> <span class="hljs-string">&quot;C:<span class="hljs-subst">\t</span>est<span class="hljs-subst">\t</span>arget&quot;</span></code></pre></div></li><li><p>ç›´æ¥å·¦éµé»æ“Šå…©ä¸‹æª”æ¡ˆï¼Œä½¿ç”¨äº¤äº’å¼å‘½ä»¤åˆ—è¼¸å…¥ç›®æ¨™è³‡æ–™å¤¾<br><img src="https://hackmd.io/_uploads/H1jSZ3876.png" alt="image.png"></p></li></ol><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>Windows 10</li></ul><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul><li><a href="https://learn.microsoft.com/zh-tw/windows-server/administration/windows-commands/xcopy">https://learn.microsoft.com/zh-tw/windows-server/administration/windows-commands/xcopy</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Batch</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Batch</tag>
      
      <tag>bat</tag>
      
      <tag>Windows</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Laravel] ä½¿ç”¨SupervisoråŸ·è¡ŒLaravelçš„Queue Worker</title>
    <link href="/posts/20231105-laravel-queue-with-supervisor/"/>
    <url>/posts/20231105-laravel-queue-with-supervisor/</url>
    
    <content type="html"><![CDATA[<p>åœ¨ä½¿ç”¨laravelä¸­çš„Queue jobçš„æ™‚å€™ï¼Œé™¤äº†ç¨‹å¼æœ¬èº«å¯«å¥½ä¹‹å¤–<br>ä¼ºæœå™¨ç’°å¢ƒé‚„æœƒéœ€è¦ç¢ºä¿Laravelçš„<code>queue:work</code>æŒ‡ä»¤å¯ä»¥æŒçºŒé€²è¡Œ<br>å¦‚æœä¸­æ–·é‚„å¯ä»¥é‡æ–°å•Ÿå‹•<br>é€™å€‹æ™‚å€™å°±æœƒéœ€è¦ç”¨åˆ°Supervisoré€™å€‹å·¥å…·äº†</p><h2 id="ä¸€ã€å®‰è£Supervisor"><a href="#ä¸€ã€å®‰è£Supervisor" class="headerlink" title="ä¸€ã€å®‰è£Supervisor"></a>ä¸€ã€å®‰è£Supervisor</h2><div class="code-wrapper"><pre><code class="hljs bash">apt updateapt install supervisor</code></pre></div><h2 id="äºŒã€å•Ÿå‹•Supervisor"><a href="#äºŒã€å•Ÿå‹•Supervisor" class="headerlink" title="äºŒã€å•Ÿå‹•Supervisor"></a>äºŒã€å•Ÿå‹•Supervisor</h2><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># supervisord -c &lt;è¨­å®šæª”è·¯å¾‘&gt; (é è¨­/etc/supervisor/supervisord.conf)</span>supervisord -c /etc/supervisor/supervisord.conf</code></pre></div><h2 id="ä¸‰ã€å»ºç«‹queue-workerè¨­å®šæª”"><a href="#ä¸‰ã€å»ºç«‹queue-workerè¨­å®šæª”" class="headerlink" title="ä¸‰ã€å»ºç«‹queue workerè¨­å®šæª”"></a>ä¸‰ã€å»ºç«‹queue workerè¨­å®šæª”</h2><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">cd</span> /etc/supervisor/conf.dvim laravel-worker.conf</code></pre></div><p>è¨­å®šæª”å…§å®¹(è¨»è§£è¦åˆªé™¤)</p><div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-section">[program:laravel-worker-my-project]</span><span class="hljs-attr">process_name</span>=%(program_name)s_%(process_num)<span class="hljs-number">02</span>d<span class="hljs-comment"># command=php &lt;å°ˆæ¡ˆè³‡æ–™å¤¾è·¯å¾‘&gt;/artisan queue:work --sleep=&lt;æ¯æ¬¡å˜—è©¦é–“éš”&gt; --tries=&lt;æœ€å¤šå˜—è©¦æ¬¡æ•¸&gt;</span><span class="hljs-attr">command</span>=php /var/www/my-project/artisan queue:work --sleep=<span class="hljs-number">3</span> --tries=<span class="hljs-number">3</span><span class="hljs-attr">autostart</span>=<span class="hljs-literal">true</span><span class="hljs-attr">autorestart</span>=<span class="hljs-literal">true</span><span class="hljs-attr">user</span>=root<span class="hljs-attr">numprocs</span>=<span class="hljs-number">2</span><span class="hljs-attr">startsecs</span>=<span class="hljs-number">0</span><span class="hljs-attr">redirect_stderr</span>=<span class="hljs-literal">true</span><span class="hljs-comment"># stdout_logfile=&lt;logæª”æ¡ˆè·¯å¾‘&gt;</span><span class="hljs-attr">stdout_logfile</span>=/var/log/supervisor/laravel-worker-my-project.log<span class="hljs-comment"># logfile_maxbytes=&lt;LOGæª”æ¡ˆä¸Šé™&gt;</span><span class="hljs-attr">logfile_maxbytes</span>=<span class="hljs-number">104857600</span><span class="hljs-attr">stopwaitsecs</span>=<span class="hljs-number">3600</span></code></pre></div><h2 id="å››ã€è¼‰å…¥è¨­å®šæª”ä¸¦å•Ÿç”¨"><a href="#å››ã€è¼‰å…¥è¨­å®šæª”ä¸¦å•Ÿç”¨" class="headerlink" title="å››ã€è¼‰å…¥è¨­å®šæª”ä¸¦å•Ÿç”¨"></a>å››ã€è¼‰å…¥è¨­å®šæª”ä¸¦å•Ÿç”¨</h2><div class="code-wrapper"><pre><code class="hljs bash">supervisorctl rereadsupervisorctl updatesupervisorctl restart laravel-worker-my-project:*</code></pre></div><h2 id="äº”ã€æŸ¥çœ‹æœå‹™æ˜¯å¦å•Ÿç”¨"><a href="#äº”ã€æŸ¥çœ‹æœå‹™æ˜¯å¦å•Ÿç”¨" class="headerlink" title="äº”ã€æŸ¥çœ‹æœå‹™æ˜¯å¦å•Ÿç”¨"></a>äº”ã€æŸ¥çœ‹æœå‹™æ˜¯å¦å•Ÿç”¨</h2><div class="code-wrapper"><pre><code class="hljs bash">supervisorctl status</code></pre></div><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>OS: Ubuntu 18.04</li></ul>]]></content>
    
    
    <categories>
      
      <category>Laravel</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Laravel</tag>
      
      <tag>Queue</tag>
      
      <tag>job</tag>
      
      <tag>Supervisor</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Laravel] è¨­å®šä¸¦ä¸Šå‚³æª”æ¡ˆåˆ°AWS S3</title>
    <link href="/posts/20231104-laravel-s3-setting/"/>
    <url>/posts/20231104-laravel-s3-setting/</url>
    
    <content type="html"><![CDATA[<h2 id="ç°¡ä»‹"><a href="#ç°¡ä»‹" class="headerlink" title="ç°¡ä»‹"></a>ç°¡ä»‹</h2><p>Simple Storage Service (S3) æ˜¯ AWS æœ€å¸¸æ‡‰ç”¨åˆ°çš„æœå‹™ï¼Œåªè¦æ˜¯éœ€è¦å°‡æª”æ¡ˆä¸Šå‚³åˆ°é›²ç«¯çš„ç‹€æ³éƒ½å¯ä»¥ä½¿ç”¨S3ï¼Œæœ¬ç¯‡æ–‡ç« å°‡ä»‹ç´¹å¦‚ä½•è¨­å®šèˆ‡é€éLaravelä½¿ç”¨AWS S3ã€‚</p><h2 id="è¨­å®šAWS-S3-Simple-Storage-Service"><a href="#è¨­å®šAWS-S3-Simple-Storage-Service" class="headerlink" title="è¨­å®šAWS S3(Simple Storage Service)"></a>è¨­å®šAWS S3(Simple Storage Service)</h2><h4 id="å®˜æ–¹èªªæ˜æ–‡ä»¶"><a href="#å®˜æ–¹èªªæ˜æ–‡ä»¶" class="headerlink" title="å®˜æ–¹èªªæ˜æ–‡ä»¶"></a>å®˜æ–¹èªªæ˜æ–‡ä»¶</h4><p><a href="https://laravel-news.com/using-s3-with-laravel">https://laravel-news.com/using-s3-with-laravel</a><br><a href="https://youtu.be/FLIp6BLtwjk">https://youtu.be/FLIp6BLtwjk</a></p><h3 id="ä¸€ã€å»ºç«‹å„²å­˜é«”"><a href="#ä¸€ã€å»ºç«‹å„²å­˜é«”" class="headerlink" title="ä¸€ã€å»ºç«‹å„²å­˜é«”"></a>ä¸€ã€å»ºç«‹å„²å­˜é«”</h3><ol><li><p>é–‹å•ŸS3è¨­å®šé é¢<br><a href="https://s3.console.aws.amazon.com/s3">https://s3.console.aws.amazon.com/s3</a></p></li><li><p>å»ºç«‹å„²å­˜æ§½<br><img src="https://i.imgur.com/Vj420lX.png"></p></li><li><p>è¨­å®šå„²å­˜é«”<br><img src="https://i.imgur.com/0to4DZ9.png"><br><img src="https://i.imgur.com/PYBZnws.png"><br><img src="https://i.imgur.com/VEuwMS5.png"></p></li></ol><h3 id="äºŒã€æ–°å¢IAMç”¨æˆ¶"><a href="#äºŒã€æ–°å¢IAMç”¨æˆ¶" class="headerlink" title="äºŒã€æ–°å¢IAMç”¨æˆ¶"></a>äºŒã€æ–°å¢IAMç”¨æˆ¶</h3><ol><li><p>é–‹å•ŸIAMå„€è¡¨æ¿<br><img src="https://i.imgur.com/IppklGs.png"></p></li><li><p>æ–°å¢ä½¿ç”¨è€…<br><img src="https://i.imgur.com/mFrqx65.png"><br><img src="https://i.imgur.com/ZbFTNpo.png"></p></li><li><p>è¨­å®šä½¿ç”¨è€…åç¨±ä¸¦é¸å–é¡å‹ç‚ºã€Œå­˜å–é‡‘é‘°ã€<br><img src="https://i.imgur.com/9w0V1oi.png"></p></li><li><p>ä¸€è·¯é»é¸ä¸‹ä¸€æ­¥ï¼Œä¸è¦ä¿®æ”¹ä»»ä½•æ±è¥¿ç›´åˆ°å»ºç«‹å®Œæˆï¼Œä¸¦<strong>è¨˜éŒ„ä¸‹æ­¤è™•é¡¯ç¤ºçš„é‡‘é‘°</strong><br><img src="https://i.imgur.com/3IsVswI.png"></p></li><li><p>æ·»åŠ å…§åµŒæ”¿ç­–<br><img src="https://i.imgur.com/BouaCWR.png"><br><img src="https://i.imgur.com/9bGaczG.png"></p></li><li><p>é¸æ“‡jsonç·¨è¼¯å™¨è²¼å…¥ä»¥ä¸‹å…§å®¹(From <a href="https://flysystem.thephpleague.com/v1/docs/adapter/aws-s3-v3/">Flysystem docs</a>)</p><div class="code-wrapper"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span>    <span class="hljs-attr">&quot;Version&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2012-10-17&quot;</span><span class="hljs-punctuation">,</span>    <span class="hljs-attr">&quot;Statement&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>        <span class="hljs-punctuation">&#123;</span>            <span class="hljs-attr">&quot;Sid&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Stmt1420044805001&quot;</span><span class="hljs-punctuation">,</span>            <span class="hljs-attr">&quot;Effect&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;Allow&quot;</span><span class="hljs-punctuation">,</span>            <span class="hljs-attr">&quot;Action&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>                <span class="hljs-string">&quot;s3:ListBucket&quot;</span><span class="hljs-punctuation">,</span>                <span class="hljs-string">&quot;s3:GetObject&quot;</span><span class="hljs-punctuation">,</span>                <span class="hljs-string">&quot;s3:GetObjectAcl&quot;</span><span class="hljs-punctuation">,</span>                <span class="hljs-string">&quot;s3:PutObject&quot;</span><span class="hljs-punctuation">,</span>                <span class="hljs-string">&quot;s3:PutObjectAcl&quot;</span><span class="hljs-punctuation">,</span>                <span class="hljs-string">&quot;s3:ReplicateObject&quot;</span><span class="hljs-punctuation">,</span>                <span class="hljs-string">&quot;s3:DeleteObject&quot;</span>            <span class="hljs-punctuation">]</span><span class="hljs-punctuation">,</span>            <span class="hljs-attr">&quot;Resource&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-punctuation">[</span>                <span class="hljs-string">&quot;arn:aws:s3:::your-bucket-name&quot;</span><span class="hljs-punctuation">,</span>                <span class="hljs-string">&quot;arn:aws:s3:::your-bucket-name/*&quot;</span>            <span class="hljs-punctuation">]</span>        <span class="hljs-punctuation">&#125;</span>    <span class="hljs-punctuation">]</span><span class="hljs-punctuation">&#125;</span></code></pre></div></li><li><p>ä¿®æ”¹<code>Statement.Resource</code>çš„å…§å®¹ï¼Œå°‡åç¨±æ”¹ç‚ºå‰›å‰›å»ºç«‹çš„å„²å­˜é«”åç¨±å¾Œé»é¸ã€Œæª¢é–±æ”¿ç­–ã€<br><img src="https://i.imgur.com/csd7fvt.png"></p></li><li><p>å¡«å¯«åç¨±å¾ŒæŒ‰ä¸‹ã€Œå»ºç«‹æ”¿ç­–ã€<br><img src="https://i.imgur.com/lzanZvw.png"></p></li></ol><h2 id="Larvelä½¿ç”¨MediaLibraryä¸²æ¥AWS-S3"><a href="#Larvelä½¿ç”¨MediaLibraryä¸²æ¥AWS-S3" class="headerlink" title="Larvelä½¿ç”¨MediaLibraryä¸²æ¥AWS S3"></a>Larvelä½¿ç”¨MediaLibraryä¸²æ¥AWS S3</h2><h3 id="ä¸€ã€è¨­å®šLaravel-å¯åƒè€ƒå®˜æ–¹æ–‡ä»¶"><a href="#ä¸€ã€è¨­å®šLaravel-å¯åƒè€ƒå®˜æ–¹æ–‡ä»¶" class="headerlink" title="ä¸€ã€è¨­å®šLaravel(å¯åƒè€ƒå®˜æ–¹æ–‡ä»¶)"></a>ä¸€ã€è¨­å®šLaravel(å¯åƒè€ƒ<a href="https://spatie.be/docs/laravel-medialibrary/v10/introduction">å®˜æ–¹æ–‡ä»¶</a>)</h3><ol><li><p>æ–°å¢migrationä¸¦åŸ·è¡Œ</p><div class="code-wrapper"><pre><code class="hljs bash">php artisan vendor:publish --provider=<span class="hljs-string">&quot;Spatie\MediaLibrary\MediaLibraryServiceProvider&quot;</span> --tag=<span class="hljs-string">&quot;migrations&quot;</span>php artisan migration</code></pre></div></li><li><p>åŸ·è¡Œseeder</p><div class="code-wrapper"><pre><code class="hljs bash">php artisan db:seed --class=MediaTempSeeder</code></pre></div></li><li><p>æ–°å¢è¨­å®šæª”æ¡ˆ</p><div class="code-wrapper"><pre><code class="hljs bash">php artisan vendor:publish --provider=<span class="hljs-string">&quot;Spatie\MediaLibrary\MediaLibraryServiceProvider&quot;</span> --tag=<span class="hljs-string">&quot;config&quot;</span></code></pre></div></li><li><p>è¨­å®š.env</p><div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-attr">AWS_ACCESS_KEY_ID</span>=&lt;public key&gt;<span class="hljs-attr">AWS_SECRET_ACCESS_KEY</span>=&lt;private key&gt;<span class="hljs-attr">AWS_DEFAULT_REGION</span>=&lt;å„²å­˜é«”ä¼ºæœå™¨&gt;<span class="hljs-attr">AWS_BUCKET</span>=&lt;å„²å­˜é«”åç¨±&gt;<span class="hljs-attr">AWS_USE_PATH_STYLE_ENDPOINT</span>=<span class="hljs-literal">true</span><span class="hljs-attr">MEDIA_DISK</span>=medialibrary<span class="hljs-attr">MEDIA_LIBRARY_ROOT</span>=media_development</code></pre></div></li></ol><h3 id="äºŒã€ä¸Šå‚³åˆ°æœ¬åœ°"><a href="#äºŒã€ä¸Šå‚³åˆ°æœ¬åœ°" class="headerlink" title="äºŒã€ä¸Šå‚³åˆ°æœ¬åœ°"></a>äºŒã€ä¸Šå‚³åˆ°æœ¬åœ°</h3><ol><li><p>è¨­å®š.env</p><div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-attr">MEDIA_DISK</span>=public</code></pre></div></li><li><p>åŸ·è¡ŒæŒ‡ä»¤</p><div class="code-wrapper"><pre><code class="hljs bash">php artisan storage:<span class="hljs-built_in">link</span></code></pre></div></li></ol>]]></content>
    
    
    <categories>
      
      <category>Laravel</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PHP</tag>
      
      <tag>Laravel</tag>
      
      <tag>AWS</tag>
      
      <tag>S3</tag>
      
      <tag>MediaLibrary</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[PHP] PHP é€£æ¥SQL Server(MsSQL) on Windows</title>
    <link href="/posts/20231102-php-mssql-windows/"/>
    <url>/posts/20231102-php-mssql-windows/</url>
    
    <content type="html"><![CDATA[<p>è¨»ï¼šé€™è£¡ä¹Ÿæœ‰<a href="/posts/20231102-php-oracle-windows/" title="[PHP] é€£ç·šOracle DB on Windows">Oracleçš„é€£æ¥æ–¹å¼</a></p><h2 id="ç’°å¢ƒå»ºç½®"><a href="#ç’°å¢ƒå»ºç½®" class="headerlink" title="ç’°å¢ƒå»ºç½®"></a>ç’°å¢ƒå»ºç½®</h2><h3 id="ä¸€ã€-å®‰è£-ODBC-Driver-for-SQL-Server"><a href="#ä¸€ã€-å®‰è£-ODBC-Driver-for-SQL-Server" class="headerlink" title="ä¸€ã€ å®‰è£ ODBC Driver for SQL Server"></a>ä¸€ã€ å®‰è£ ODBC Driver for SQL Server</h3><ol><li>åˆ°<a href="https://docs.microsoft.com/zh-tw/sql/connect/odbc/download-odbc-driver-for-sql-server?view=sql-server-ver15">https://docs.microsoft.com/zh-tw/sql/connect/odbc/download-odbc-driver-for-sql-server?view=sql-server-ver15</a>ä¸‹è¼‰é©…å‹•</li><li>é–‹å•Ÿä¸‹è¼‰ä¸‹ä¾†çš„<code>msodbcsql.msi</code>ï¼Œä¸¦ä¸€è·¯å®‰è£å®Œæˆ<br><img src="https://i.imgur.com/3p4QS0H.png"></li></ol><h3 id="äºŒã€-å¼•ç”¨dllæª”æ¡ˆ"><a href="#äºŒã€-å¼•ç”¨dllæª”æ¡ˆ" class="headerlink" title="äºŒã€ å¼•ç”¨dllæª”æ¡ˆ"></a>äºŒã€ å¼•ç”¨dllæª”æ¡ˆ</h3><ol><li>å°‡ä»¥ä¸‹æª”æ¡ˆæ”¾åˆ°&#x2F;php&#x2F;ext&#x2F;åº•ä¸‹<ul><li>php_pdo_sqlsrv_74_nts_x64.dll</li><li>php_pdo_sqlsrv_74_ts_x64.dll</li><li>php_sqlsrv_74_nts_x64.dll</li><li>php_sqlsrv_74_ts_x64.dll</li></ul></li><li>ç·¨è¼¯php.iniï¼ŒåŠ å…¥ä»¥ä¸‹å…§å®¹<div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-attr">extension</span>=sqlsrv_74_ts_x64<span class="hljs-attr">extension</span>=sqlsrv_74_nts_x64<span class="hljs-attr">extension</span>=pdo_sqlsrv_74_ts_x64<span class="hljs-attr">extension</span>=pdo_sqlsrv_74_nts_x64</code></pre></div></li><li>å„²å­˜php.iniå¾Œï¼Œé‡æ–°å•Ÿå‹•Apache</li></ol><h2 id="PHPä¸²æ¥"><a href="#PHPä¸²æ¥" class="headerlink" title="PHPä¸²æ¥"></a>PHPä¸²æ¥</h2><h3 id="ä¸€ã€é€£ç·šè¨­å®š-CodeIgniter-3-1-16"><a href="#ä¸€ã€é€£ç·šè¨­å®š-CodeIgniter-3-1-16" class="headerlink" title="ä¸€ã€é€£ç·šè¨­å®š(CodeIgniter 3.1.16)"></a>ä¸€ã€é€£ç·šè¨­å®š(CodeIgniter 3.1.16)</h3><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$config</span> = <span class="hljs-keyword">array</span>(    <span class="hljs-string">&#x27;hostname&#x27;</span> =&gt; <span class="hljs-variable">$host</span> . <span class="hljs-string">&#x27;,&#x27;</span> . <span class="hljs-variable">$port</span>,    <span class="hljs-string">&#x27;username&#x27;</span> =&gt; <span class="hljs-variable">$user</span>,    <span class="hljs-string">&#x27;password&#x27;</span> =&gt; <span class="hljs-variable">$password</span>,    <span class="hljs-string">&#x27;database&#x27;</span> =&gt; <span class="hljs-variable">$dbname</span>,    <span class="hljs-string">&#x27;dbdriver&#x27;</span> =&gt; <span class="hljs-string">&#x27;sqlsrv&#x27;</span>,    <span class="hljs-string">&#x27;dbprefix&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,    <span class="hljs-string">&#x27;pconnect&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;db_debug&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;cache_on&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;cachedir&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,    <span class="hljs-string">&#x27;char_set&#x27;</span> =&gt; <span class="hljs-variable language_">$this</span>-&gt;char_set,    <span class="hljs-string">&#x27;dbcollat&#x27;</span> =&gt; <span class="hljs-variable language_">$this</span>-&gt;dbcollat,    <span class="hljs-string">&#x27;swap_pre&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,    <span class="hljs-string">&#x27;encrypt&#x27;</span>  =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;compress&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;stricton&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;failover&#x27;</span> =&gt; <span class="hljs-keyword">array</span>(),    <span class="hljs-string">&#x27;save_queries&#x27;</span> =&gt; <span class="hljs-variable language_">$this</span>-&gt;save_queries);<span class="hljs-keyword">try</span> &#123;    <span class="hljs-variable">$db</span> = @<span class="hljs-variable language_">$this</span>-&gt;load-&gt;<span class="hljs-title function_ invoke__">database</span>(<span class="hljs-variable">$config</span>, <span class="hljs-literal">true</span>);    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$db</span>-&gt;conn_id)) &#123;        <span class="hljs-comment">// é€£ç·šå¤±æ•—</span>        <span class="hljs-keyword">echo</span> <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">error</span>()[<span class="hljs-string">&#x27;message&#x27;</span>];    &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-comment">// é€£ç·šæˆåŠŸ</span>    &#125;&#125; <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> <span class="hljs-variable">$e</span>) &#123;    <span class="hljs-comment">// å‡ºç¾ä¾‹å¤–</span>    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$e</span>-&gt;<span class="hljs-title function_ invoke__">getMessage</span>();&#125;</code></pre></div><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>Windows 10</li><li>PHP 7.4.9</li><li>CodeIgniter 3.1.16</li><li>Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production</li></ul>]]></content>
    
    
    <categories>
      
      <category>PHP</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CodeIgniter</tag>
      
      <tag>PHP</tag>
      
      <tag>Windows</tag>
      
      <tag>MsSQL</tag>
      
      <tag>SQL Server</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[PHP] é€£ç·šOracle DB on Windows</title>
    <link href="/posts/20231102-php-oracle-windows/"/>
    <url>/posts/20231102-php-oracle-windows/</url>
    
    <content type="html"><![CDATA[<p>è¨»ï¼šé€™è£¡ä¹Ÿæœ‰<a href="/posts/20231102-php-mssql-windows/" title="[PHP] PHP é€£æ¥SQL Server(MsSQL) on Windows">SQL Server(MsSQL)çš„é€£æ¥æ–¹å¼</a></p><h2 id="ç’°å¢ƒå»ºç½®"><a href="#ç’°å¢ƒå»ºç½®" class="headerlink" title="ç’°å¢ƒå»ºç½®"></a>ç’°å¢ƒå»ºç½®</h2><h3 id="ä¸€ã€å®‰è£Oracle-Instant-Client-x64-Windows"><a href="#ä¸€ã€å®‰è£Oracle-Instant-Client-x64-Windows" class="headerlink" title="ä¸€ã€å®‰è£Oracle Instant Client(x64 Windows)"></a>ä¸€ã€å®‰è£Oracle Instant Client(x64 Windows)</h3><ol><li><p>åˆ°<a href="https://www.oracle.com/uk/database/technologies/instant-client/winx64-64-downloads.html">æ­¤ç¶²é </a>ä¸‹è¼‰ã€ŒBasic Packgeã€<br><img src="https://i.imgur.com/HZYKSB0.png"></p></li><li><p>è§£å£“ç¸®åˆ°è³‡æ–™å¤¾<br><img src="https://i.imgur.com/2m41miQ.png"></p></li><li><p>æ–°å¢ç’°å¢ƒè®Šæ•¸<br><code>C:\instantclient_21_3</code><br><img src="https://i.imgur.com/oEvZ9tf.png"></p></li></ol><h3 id="äºŒã€å®‰è£PHPæ“´å±•"><a href="#äºŒã€å®‰è£PHPæ“´å±•" class="headerlink" title="äºŒã€å®‰è£PHPæ“´å±•"></a>äºŒã€å®‰è£PHPæ“´å±•</h3><ol><li><p>å°‡ã€Œphp_oci8_12c.dllã€æ”¾å…¥<code>/php/ext/</code><br><code>12c</code>ä»£è¡¨Oracleç‰ˆæœ¬<br><img src="https://i.imgur.com/hhftZ3O.png"></p></li><li><p>å°‡php.iniä¸­çš„ã€Œ;extension&#x3D;oci8_12cã€è¨»è§£å–æ¶ˆ<br><img src="https://i.imgur.com/2f0sQ3z.png"></p></li><li><p>é‡æ–°å•Ÿå‹•Apacheæˆ–å…¶ä»–Web Serverä»¥é‡æ–°è¼‰å…¥php.iniçš„è¨­å®š</p></li></ol><h2 id="PHPä¸²æ¥"><a href="#PHPä¸²æ¥" class="headerlink" title="PHPä¸²æ¥"></a>PHPä¸²æ¥</h2><h3 id="ä¸€ã€-é€£ç·šè¨­å®š-CodeIgniter-3-1-10"><a href="#ä¸€ã€-é€£ç·šè¨­å®š-CodeIgniter-3-1-10" class="headerlink" title="ä¸€ã€ é€£ç·šè¨­å®š(CodeIgniter 3.1.10)"></a>ä¸€ã€ é€£ç·šè¨­å®š(CodeIgniter 3.1.10)</h3><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$host</span> = <span class="hljs-string">&#x27;[SERVER_HOST]&#x27;</span>;<span class="hljs-variable">$port</span> = <span class="hljs-string">&#x27;[SERVER_PORT]&#x27;</span>;<span class="hljs-variable">$service_name</span> = <span class="hljs-string">&#x27;[SERVICE_NAME]&#x27;</span>;<span class="hljs-variable">$username</span> = <span class="hljs-string">&#x27;[ACCOUNT]&#x27;</span>;<span class="hljs-variable">$password</span> = <span class="hljs-string">&#x27;[PASSWORD]&#x27;</span>;<span class="hljs-variable">$config</span> = <span class="hljs-keyword">array</span>(    <span class="hljs-string">&#x27;hostname&#x27;</span> =&gt; <span class="hljs-string">&quot;<span class="hljs-subst">$host</span>:<span class="hljs-subst">$port</span>/<span class="hljs-subst">$service_name</span>&quot;</span>,    <span class="hljs-string">&#x27;username&#x27;</span> =&gt; <span class="hljs-variable">$user</span>,    <span class="hljs-string">&#x27;password&#x27;</span> =&gt; <span class="hljs-variable">$password</span>,    <span class="hljs-string">&#x27;database&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,    <span class="hljs-string">&#x27;dbdriver&#x27;</span> =&gt; <span class="hljs-string">&#x27;oci8&#x27;</span>,    <span class="hljs-string">&#x27;dbprefix&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,    <span class="hljs-string">&#x27;pconnect&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;db_debug&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;cache_on&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;cachedir&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,    <span class="hljs-string">&#x27;char_set&#x27;</span> =&gt; <span class="hljs-variable language_">$this</span>-&gt;char_set,    <span class="hljs-string">&#x27;dbcollat&#x27;</span> =&gt; <span class="hljs-variable language_">$this</span>-&gt;dbcollat,    <span class="hljs-string">&#x27;swap_pre&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,    <span class="hljs-string">&#x27;encrypt&#x27;</span>  =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;compress&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;stricton&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,    <span class="hljs-string">&#x27;failover&#x27;</span> =&gt; <span class="hljs-keyword">array</span>(),    <span class="hljs-string">&#x27;save_queries&#x27;</span> =&gt; <span class="hljs-variable language_">$this</span>-&gt;save_queries);<span class="hljs-keyword">try</span> &#123;    <span class="hljs-variable">$db</span> = @<span class="hljs-variable language_">$this</span>-&gt;load-&gt;<span class="hljs-title function_ invoke__">database</span>(<span class="hljs-variable">$config</span>, <span class="hljs-literal">true</span>);    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$db</span>-&gt;conn_id)) &#123;        <span class="hljs-comment">// é€£æ¥å¤±æ•—</span>        <span class="hljs-comment">// éŒ¯èª¤è¨Šæ¯</span>        <span class="hljs-keyword">echo</span> <span class="hljs-variable">$db</span>-&gt;<span class="hljs-title function_ invoke__">error</span>()[<span class="hljs-string">&#x27;message&#x27;</span>];    &#125; <span class="hljs-keyword">else</span> &#123;        <span class="hljs-comment">// é€£æ¥æˆåŠŸ</span>    &#125;&#125; <span class="hljs-keyword">catch</span> (<span class="hljs-built_in">Exception</span> <span class="hljs-variable">$e</span>) &#123;    <span class="hljs-comment">// é€£æ¥æ™‚å‡ºç¾ä¾‹å¤–</span>    <span class="hljs-comment">// ä¾‹å¤–è¨Šæ¯</span>    <span class="hljs-keyword">echo</span> <span class="hljs-variable">$e</span>-&gt;<span class="hljs-title function_ invoke__">getMessage</span>();&#125;</code></pre></div><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><ul><li>Windows 10</li><li>Wamp Server 3.2.3</li><li>PHP 7.4.9</li><li>CodeIgniter 3.1.16</li><li>Oracle Database 12c Enterprise Edition Release 12.2.0.1.0 - 64bit Production</li><li>instantclient_21_3</li></ul>]]></content>
    
    
    <categories>
      
      <category>PHP</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CodeIgniter</tag>
      
      <tag>PHP</tag>
      
      <tag>Windows</tag>
      
      <tag>Oracle</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Batch] ä½¿ç”¨Windowsæ‰¹æ¬¡æª”(bat)å¿«é€Ÿä¿®æ”¹PHPç‰ˆæœ¬</title>
    <link href="/posts/20231101-batch-change-env-path/"/>
    <url>/posts/20231101-batch-change-env-path/</url>
    
    <content type="html"><![CDATA[<p>ç”±æ–¼é–‹ç™¼å¤šå€‹å°ˆæ¡ˆçš„æ™‚å€™ï¼Œé »ç¹åˆ‡æ›æœ¬åœ°ç’°å¢ƒçš„PHPç‰ˆæœ¬å¯¦åœ¨å¤ªéº»ç…©ï¼Œæ–¼æ˜¯æƒ³è¦å¯ä»¥ç›´æ¥ä½¿ç”¨æŒ‡ä»¤å°±å®Œæˆåˆ‡æ›çš„åŠŸèƒ½ï¼Œæ–¼æ˜¯æœ‰äº†é€™ç¯‡æ–‡ç« ã€‚</p><h3 id="ä¸€ã€å®‰è£pathman"><a href="#ä¸€ã€å®‰è£pathman" class="headerlink" title="ä¸€ã€å®‰è£pathman"></a>ä¸€ã€å®‰è£pathman</h3><p>æŒ‰ç…§å®˜æ–¹æ–‡ä»¶å®‰è£<a href="https://github.com/therootcompany/pathman">pathman</a><br>æœ‰npm:</p><div class="code-wrapper"><pre><code class="hljs bash">npm install -g pathman</code></pre></div><p>ç„¡npm:<br><a href="https://github.com/therootcompany/pathman#downloads">ä¸‹è¼‰</a>å¾ŒåŸ·è¡ŒæŒ‡ä»¤ï¼š</p><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-built_in">mkdir</span> %userprofile%\binmove pathman.exe %userprofile%\bin\pathman.exe%userprofile%\bin\pathman.exe add ~/bin</code></pre></div><h3 id="äºŒã€ä½¿ç”¨æ–¹æ³•"><a href="#äºŒã€ä½¿ç”¨æ–¹æ³•" class="headerlink" title="äºŒã€ä½¿ç”¨æ–¹æ³•"></a>äºŒã€ä½¿ç”¨æ–¹æ³•</h3><div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># åˆ—å‡ºç¾æœ‰çš„PATHç’°å¢ƒè®Šæ•¸</span>pathman list<span class="hljs-comment"># åŠ å…¥æ–°çš„PATHç’°å¢ƒè®Šæ•¸</span>pathman add path/to/target<span class="hljs-comment"># ç§»é™¤æ—¢æœ‰çš„PATHç’°å¢ƒè®Šæ•¸</span>pathman remove path/to/target</code></pre></div><p>å®‰è£å®Œæˆå¾Œè¨˜å¾—é‡æ–°é–‹å•Ÿcommand line</p><h3 id="ä¸‰ã€æ’°å¯«æ‰¹æ¬¡æª”"><a href="#ä¸‰ã€æ’°å¯«æ‰¹æ¬¡æª”" class="headerlink" title="ä¸‰ã€æ’°å¯«æ‰¹æ¬¡æª”"></a>ä¸‰ã€æ’°å¯«æ‰¹æ¬¡æª”</h3><ol><li>phpv.bat <div class="code-wrapper"><pre><code class="hljs dos">@<span class="hljs-built_in">echo</span> off<span class="hljs-built_in">setlocal</span> enabledelayedexpansion<span class="hljs-comment"></span><span class="hljs-comment">@REM åˆ—èˆ‰æœ¬åœ°å®‰è£çš„æ‰€æœ‰PHPç‰ˆæœ¬èˆ‡åŸ·è¡Œè·¯å¾‘</span><span class="hljs-built_in">set</span> php5.<span class="hljs-number">6</span>=C:\php\php5.<span class="hljs-number">6</span>.<span class="hljs-number">40</span><span class="hljs-built_in">set</span> php7.<span class="hljs-number">0</span>=C:\php\php7.<span class="hljs-number">0</span>.<span class="hljs-number">33</span><span class="hljs-built_in">set</span> php7.<span class="hljs-number">1</span>=C:\php\php7.<span class="hljs-number">1</span>.<span class="hljs-number">33</span><span class="hljs-built_in">set</span> php7.<span class="hljs-number">2</span>=C:\php\php7.<span class="hljs-number">2</span>.<span class="hljs-number">34</span><span class="hljs-built_in">set</span> php7.<span class="hljs-number">3</span>=C:\php\php7.<span class="hljs-number">3</span>.<span class="hljs-number">33</span><span class="hljs-built_in">set</span> php7.<span class="hljs-number">4</span>=C:\php\php7.<span class="hljs-number">4</span>.<span class="hljs-number">26</span><span class="hljs-built_in">set</span> php8.<span class="hljs-number">0</span>=C:\php\php8.<span class="hljs-number">0</span>.<span class="hljs-number">13</span><span class="hljs-built_in">set</span> php8.<span class="hljs-number">1</span>=C:\php\php8.<span class="hljs-number">1</span>.<span class="hljs-number">0</span><span class="hljs-comment"></span><span class="hljs-comment">@REM å–å¾—è¼¸å…¥ç‰ˆæœ¬</span><span class="hljs-built_in">set</span> version=php%<span class="hljs-number">1</span><span class="hljs-comment"></span><span class="hljs-comment">@REM æª¢æŸ¥ç‰ˆæœ¬æ˜¯å¦å­˜åœ¨</span><span class="hljs-keyword">if</span> (<span class="hljs-variable">!%version%!</span>)==() (    <span class="hljs-built_in">echo</span> unknow version: %<span class="hljs-number">1</span>    <span class="hljs-keyword">exit</span>)<span class="hljs-comment"></span><span class="hljs-comment">@REM ç§»é™¤ç¾æœ‰ç‰ˆæœ¬</span>pathman remove <span class="hljs-variable">%php5.6%</span>pathman remove <span class="hljs-variable">%php7.0%</span>pathman remove <span class="hljs-variable">%php7.1%</span>pathman remove <span class="hljs-variable">%php7.2%</span>pathman remove <span class="hljs-variable">%php7.3%</span>pathman remove <span class="hljs-variable">%php7.4%</span>pathman remove <span class="hljs-variable">%php8.0%</span>pathman remove <span class="hljs-variable">%php8.1%</span><span class="hljs-comment"></span><span class="hljs-comment">@REM è¨­å®šæŒ‡å®šçš„ç‰ˆæœ¬</span>pathman add <span class="hljs-variable">!%version%!</span><span class="hljs-built_in">echo</span> change php version to: <span class="hljs-variable">!%version%!</span></code></pre></div></li></ol><h3 id="å››ã€è¨­å®šç’°å¢ƒè®Šæ•¸"><a href="#å››ã€è¨­å®šç’°å¢ƒè®Šæ•¸" class="headerlink" title="å››ã€è¨­å®šç’°å¢ƒè®Šæ•¸"></a>å››ã€è¨­å®šç’°å¢ƒè®Šæ•¸</h3><p>å°‡å­˜æ”¾è©²batæª”æ¡ˆçš„è·¯å¾‘åŠ å…¥ç’°å¢ƒè®Šæ•¸ï¼Œä¾‹å¦‚æˆ‘çš„batå®Œæ•´è·¯å¾‘ç‚ºï¼š</p><div class="code-wrapper"><pre><code class="hljs avrasm"><span class="hljs-symbol">C:</span>\php\phpv.bat</code></pre></div><p>é‚£å°±å°‡<code>C:\php</code>åŠ å…¥PATHä¸­<br>é™¤äº†åˆ©ç”¨GUIå®Œæˆå¤–ï¼Œä¹Ÿå¯ä»¥åˆ©ç”¨å‰›å‰›å®‰è£çš„pathmanå·¥å…·</p><div class="code-wrapper"><pre><code class="hljs routeros">pathman <span class="hljs-built_in">add</span> C:\php</code></pre></div><p>è¨­å®šå®Œæˆå¾Œé‡æ–°é–‹å•Ÿcommand lineï¼Œå°±å¯ä»¥è¼•é¬†ä½¿ç”¨<code>phpv</code>æŒ‡ä»¤åˆ‡æ›PHPç‰ˆæœ¬äº†ï¼Œä¾‹å¦‚ï¼š</p><div class="code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">phpv</span> <span class="hljs-number">8</span>.<span class="hljs-number">1</span></code></pre></div><hr><h3 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h3><ul><li>Windows 10</li></ul>]]></content>
    
    
    <categories>
      
      <category>Batch</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Batch</tag>
      
      <tag>bat</tag>
      
      <tag>Windows</tag>
      
      <tag>ç’°å¢ƒè®Šæ•¸</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[PHP] ç‚ºPHPä¸­çš„cURLå®‰è£OpenSSLæ†‘è­‰</title>
    <link href="/posts/20231101-php-openssl/"/>
    <url>/posts/20231101-php-openssl/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€ä¸‹è¼‰æ†‘è­‰"><a href="#ä¸€ã€ä¸‹è¼‰æ†‘è­‰" class="headerlink" title="ä¸€ã€ä¸‹è¼‰æ†‘è­‰"></a>ä¸€ã€ä¸‹è¼‰æ†‘è­‰</h3><ol><li><p>é»é¸<code>cacert.pem</code>ä¸‹è¼‰<a href="https://curl.se/docs/caextract.html">CA certificates extracted from Mozilla</a><br><img src="https://hackmd.io/_uploads/rk-_7uyma.png" alt="image.png"></p></li><li><p>å°‡æ†‘è­‰æ”¾ç½®åˆ°ä¼ºæœå™¨çš„ä¸»æ©Ÿä¸Šï¼Œä¾‹å¦‚<code>/etc/ssl/certs/cacert.pem</code></p></li></ol><h3 id="äºŒã€è¨­å®šphp-ini"><a href="#äºŒã€è¨­å®šphp-ini" class="headerlink" title="äºŒã€è¨­å®šphp.ini"></a>äºŒã€è¨­å®šphp.ini</h3><ol><li><p>é–‹å•Ÿphp.iniï¼Œä¸¦æ‰¾åˆ°ä»¥ä¸‹å…©è¡Œ</p> <div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-comment">;openssl.cafile=</span><span class="hljs-comment">;openssl.capath=</span></code></pre></div></li><li><p>åˆªé™¤æœ€å‰é¢çš„åˆ†è™Ÿå–æ¶ˆè¨»è§£ï¼Œä¸¦å°‡ä¸‹è¼‰çš„æ†‘è­‰è·¯å¾‘è¨­å®šåˆ°é€™å…©è¡Œä¸Šå¾Œå„²å­˜</p> <div class="code-wrapper"><pre><code class="hljs ini"><span class="hljs-attr">openssl.cafile</span>=/etc/ssl/certs/cacert.pem<span class="hljs-attr">openssl.capath</span>=/etc/ssl/certs/cacert.pem</code></pre></div></li></ol><h3 id="ä¸‰ã€é‡æ–°å•Ÿå‹•Web-Server"><a href="#ä¸‰ã€é‡æ–°å•Ÿå‹•Web-Server" class="headerlink" title="ä¸‰ã€é‡æ–°å•Ÿå‹•Web Server"></a>ä¸‰ã€é‡æ–°å•Ÿå‹•Web Server</h3><ol><li><p>é‡æ–°å•Ÿå‹•web server</p> <div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># Apache</span>systemctl httpd restart<span class="hljs-comment"># Nginx</span>systemctl nginx restart</code></pre></div><p> å°æ–¼æ²’æœ‰systemdçš„Linuxç³»çµ±</p> <div class="code-wrapper"><pre><code class="hljs bash"><span class="hljs-comment"># Apache</span>service stop httpdservice start httpd<span class="hljs-comment"># Nginx</span>service stop nginxservice start nginx</code></pre></div></li><li><p>å¦‚æœæ˜¯ä½¿ç”¨php-fpmä¹Ÿè¦é‡æ–°å•Ÿå‹•</p> <div class="code-wrapper"><pre><code class="hljs crmsh">service <span class="hljs-literal">stop</span> php7-fpmservice <span class="hljs-literal">start</span> php7-fpm</code></pre></div></li></ol>]]></content>
    
    
    <categories>
      
      <category>PHP</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PHP</tag>
      
      <tag>OpenSSL</tag>
      
      <tag>æ†‘è­‰</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[å…¶ä»–] è»Ÿé«”é–‹ç™¼å¸¸ç”¨å‘½åè¦å‰‡</title>
    <link href="/posts/20231101-other-codding-name/"/>
    <url>/posts/20231101-other-codding-name/</url>
    
    <content type="html"><![CDATA[<p>è»Ÿé«”é–‹ç™¼æ™‚æ‡‰è©²è¦æœ‰å›ºå®šçš„å‘½åè¦å‰‡ï¼Œä»¥æé«˜ç¨‹å¼çš„å¯è®€æ€§ï¼Œä»¥JAVAå‘½åæ…£ä¾‹ç‚ºä¾‹ï¼š</p><ul><li>å¤§é§å³°å¼ï¼šé¡åˆ¥(Class)ã€ç•Œé¢(Interface)</li><li>å°é§å³°å¼ï¼šæ–¹æ³•(Method)ã€è®Šæ•¸(Variable)</li><li>å¤§è›‡å½¢ï¼šå¸¸æ•¸(Constant)</li></ul><h2 id="é§å³°å¼"><a href="#é§å³°å¼" class="headerlink" title="é§å³°å¼"></a>é§å³°å¼</h2><h3 id="å¤§é§å³°å¼-Upper-Camel-Case"><a href="#å¤§é§å³°å¼-Upper-Camel-Case" class="headerlink" title="å¤§é§å³°å¼(Upper Camel Case)"></a>å¤§é§å³°å¼(Upper Camel Case)</h3><p>æ¯å€‹å–®å­—å­—é¦–å¤§å¯«ï¼Œå–®å­—ç›´æ¥ç›¸é€£<br>ç¯„ä¾‹ï¼š<code>UpperCamelCase</code></p><h3 id="å°é§å³°å¼-Lower-Camel-Case"><a href="#å°é§å³°å¼-Lower-Camel-Case" class="headerlink" title="å°é§å³°å¼(Lower Camel Case)"></a>å°é§å³°å¼(Lower Camel Case)</h3><p>ç¬¬ä¸€å€‹å–®å­—å­—é¦–å°å¯«ï¼Œä¹‹å¾Œçš„å–®å­—å­—é¦–å¤§å¯«ï¼Œå–®å­—ç›´æ¥ç›¸é€£<br>ç¯„ä¾‹ï¼š<code>lowerCamelCase</code></p><h2 id="è›‡å½¢å¼"><a href="#è›‡å½¢å¼" class="headerlink" title="è›‡å½¢å¼"></a>è›‡å½¢å¼</h2><h3 id="å¤§è›‡å½¢å¼-Upper-Snake-Case"><a href="#å¤§è›‡å½¢å¼-Upper-Snake-Case" class="headerlink" title="å¤§è›‡å½¢å¼(Upper Snake Case)"></a>å¤§è›‡å½¢å¼(Upper Snake Case)</h3><p>å…¨éƒ¨å–®å­—å¤§å¯«ï¼Œå–®å­—ä¹‹é–“ä»¥åº•ç·š(<code>_</code>)å€éš”<br>ç¯„ä¾‹ï¼š<code>UPPER_SNAKE_CASE</code></p><h3 id="å°è›‡å½¢å¼-Lower-Snake-Case"><a href="#å°è›‡å½¢å¼-Lower-Snake-Case" class="headerlink" title="å°è›‡å½¢å¼(Lower Snake Case)"></a>å°è›‡å½¢å¼(Lower Snake Case)</h3><p>å…¨éƒ¨å–®å­—å°å¯«ï¼Œå–®å­—ä¹‹é–“ä»¥åº•ç·š(<code>_</code>)å€éš”<br>ç¯„ä¾‹ï¼š<code>lower_snake_case</code></p><h2 id="çƒ¤è‚‰ä¸²å¼"><a href="#çƒ¤è‚‰ä¸²å¼" class="headerlink" title="çƒ¤è‚‰ä¸²å¼"></a>çƒ¤è‚‰ä¸²å¼</h2><h3 id="çƒ¤è‚‰ä¸²å¼-Kebab-Case"><a href="#çƒ¤è‚‰ä¸²å¼-Kebab-Case" class="headerlink" title="çƒ¤è‚‰ä¸²å¼(Kebab Case)"></a>çƒ¤è‚‰ä¸²å¼(Kebab Case)</h3><p>å…¨éƒ¨å–®å­—å°å¯«ï¼Œå–®å­—ä¹‹é–“ä»¥dashç¬¦è™Ÿ(<code>-</code>)å€éš”<br>ç¯„ä¾‹ï¼š<code>kebab-case</code></p><hr><h2 id="ç¾ä»£ä¸æ¨è–¦çš„å‘½åæ³•"><a href="#ç¾ä»£ä¸æ¨è–¦çš„å‘½åæ³•" class="headerlink" title="ç¾ä»£ä¸æ¨è–¦çš„å‘½åæ³•"></a>ç¾ä»£ä¸æ¨è–¦çš„å‘½åæ³•</h2><h3 id="åŒˆç‰™åˆ©å‘½åæ³•-Hungarian-Notation"><a href="#åŒˆç‰™åˆ©å‘½åæ³•-Hungarian-Notation" class="headerlink" title="åŒˆç‰™åˆ©å‘½åæ³•(Hungarian Notation)"></a>åŒˆç‰™åˆ©å‘½åæ³•(Hungarian Notation)</h3><p>åœ¨å‘½åå‰é¢åŠ å…¥å‹åˆ¥ï¼Œä¾‹å¦‚sä»£è¡¨å­—ä¸²ï¼Œiä»£è¡¨æ•´æ•¸<br>ä¸æ¨è–¦åŸå› å¯ä»¥åƒè€ƒ<a href="https://zh.wikipedia.org/wiki/%E5%8C%88%E7%89%99%E5%88%A9%E5%91%BD%E5%90%8D%E6%B3%95">ç¶­åŸºç™¾ç§‘</a>çš„èªªæ˜<br>ç¯„ä¾‹ï¼š<code>sHungarianNotation</code></p>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
  </entry>
  
  
  
  <entry>
    <title>[MySQL] MySQLé‡ç½®å¯†ç¢¼åŠä¿®æ”¹å¯†ç¢¼</title>
    <link href="/posts/20231030-mysql-reset-password/"/>
    <url>/posts/20231030-mysql-reset-password/</url>
    
    <content type="html"><![CDATA[<p>æ­¤æ–‡ç« è¨˜éŒ„åœ¨Linuxä¸Š MySQLé‡ç½®å¯†ç¢¼åŠä¿®æ”¹å¯†ç¢¼æ–¹å¼</p><h2 id="é‡ç½®å¯†ç¢¼"><a href="#é‡ç½®å¯†ç¢¼" class="headerlink" title="é‡ç½®å¯†ç¢¼"></a>é‡ç½®å¯†ç¢¼</h2><ol><li><p>ä½¿ç”¨æŒ‡ä»¤æ‰¾åˆ°MySQLè®€å–çš„my.cnfæª”æ¡ˆè·¯å¾‘ï¼š</p> <div class="code-wrapper"><pre><code class="hljs bash">mysql --<span class="hljs-built_in">help</span> | grep <span class="hljs-string">&#x27;Default options&#x27;</span> -A 1</code></pre></div><p> <img src="https://ithelp.ithome.com.tw/upload/images/20210917/20139878tdWoM4F0RF.png" alt="https://ithelp.ithome.com.tw/upload/images/20210917/20139878tdWoM4F0RF.png"></p></li><li><p>ç·¨è¼¯my.cnf</p> <div class="code-wrapper"><pre><code class="hljs bash">vim [æª”æ¡ˆè·¯å¾‘]</code></pre></div><p> åœ¨[mysqld]æ¨™ç±¤åº•ä¸‹åŠ å…¥ <code>skip-grant-tables</code><br> <img src="https://ithelp.ithome.com.tw/upload/images/20210917/201398784j19xSm9Pj.png" alt="https://ithelp.ithome.com.tw/upload/images/20210917/201398784j19xSm9Pj.png"></p></li><li><p>ä½¿ç”¨æŒ‡ä»¤é‡å•Ÿè³‡æ–™åº«</p> <div class="code-wrapper"><pre><code class="hljs bash">service mysql restart</code></pre></div></li><li><p>ç™»å…¥MySQL(ç›´æ¥è¼¸å…¥Enterä¸éœ€è¦æ‰“å¯†ç¢¼)ï¼Œä¸¦ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤</p> <div class="code-wrapper"><pre><code class="hljs sql">use mysql;<span class="hljs-keyword">update</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">set</span> authentication_string <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">user</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;root&#x27;</span>;FLUSH PRIVILEGES;EXIT</code></pre></div></li><li><p>é‡æ–°ç·¨è¼¯my.cnfï¼Œä¸¦å°‡å‰›å‰›åŠ å…¥çš„<code>skip-grant-tables</code> ç§»é™¤</p></li><li><p>å†æ¬¡é‡å•Ÿè³‡æ–™åº«</p></li><li><p>å³å¯ä½¿ç”¨ç©ºå­—ä¸²ä½œç‚ºå¯†ç¢¼é€²è¡Œç™»å…¥</p></li></ol><h2 id="ä¿®æ”¹å¯†ç¢¼"><a href="#ä¿®æ”¹å¯†ç¢¼" class="headerlink" title="ä¿®æ”¹å¯†ç¢¼"></a>ä¿®æ”¹å¯†ç¢¼</h2><p>ä¿®æ”¹å¯†ç¢¼ç›¸ç•¶ç°¡å–®ï¼Œä½¿ç”¨æœ‰æ¬Šé™çš„å¸³è™Ÿç™»å…¥MySQLå¾Œï¼Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ï¼š</p><div class="code-wrapper"><pre><code class="hljs sql">use mysql;<span class="hljs-keyword">SELECT</span> <span class="hljs-operator">*</span> <span class="hljs-keyword">FROM</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">user</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">&#x27;root%&#x27;</span> \G;<span class="hljs-keyword">ALTER</span> <span class="hljs-keyword">USER</span> root<span class="hljs-variable">@localhost</span> IDENTIFIED <span class="hljs-keyword">WITH</span> mysql_native_password <span class="hljs-keyword">BY</span> <span class="hljs-string">&#x27;newPassword&#x27;</span>;FLUSH PRIVILEGES;EXIT</code></pre></div><h2 id="ç’°å¢ƒï¼š"><a href="#ç’°å¢ƒï¼š" class="headerlink" title="ç’°å¢ƒï¼š"></a>ç’°å¢ƒï¼š</h2><ul><li>Ubuntu 16.04.6 LTS</li><li>MySQL 5.7.33</li></ul>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[CodeIgniter] è¨˜æ†¶é«”çš„éš±å½¢æ®ºæ‰‹ï¼šLog all queries</title>
    <link href="/posts/20231030-ci-query-log-and-memary/"/>
    <url>/posts/20231030-ci-query-log-and-memary/</url>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€å‰è¨€"><a href="#ä¸€ã€å‰è¨€" class="headerlink" title="ä¸€ã€å‰è¨€"></a>ä¸€ã€å‰è¨€</h3><p>åœ¨å¯«CIçš„æ™‚å€™æ˜¯å¦æ›¾ç¶“é‡éout of memoryçš„éŒ¯èª¤å‘¢<br>CodeIgniterä½œç‚ºè¼•é‡åŒ–çš„PHPæ¡†æ¶<br>dbç‰©ä»¶ä¸€ç›´æ˜¯æ“ä½œè³‡æ–™åº«çš„å¥½å¹«æ‰‹<br>ç°¡åŒ–äº†ä¸‹é”sqlæŒ‡ä»¤æ™‚çš„æ“ä½œ<br>åŠ å¿«äº†é–‹ç™¼çš„é€Ÿåº¦<br>ä½†å…¶å¯¦çœ‹ä¼¼å¥½ç”¨çš„å·¥å…·è£¡èªªä¸å®šæœ‰è‘—éš±è—çš„å•é¡Œ</p><h3 id="äºŒã€æ­£æ–‡"><a href="#äºŒã€æ­£æ–‡" class="headerlink" title="äºŒã€æ­£æ–‡"></a>äºŒã€æ­£æ–‡</h3><p><code>$this-&gt;db</code>ä½œç‚ºä¸€å€‹æ“ä½œè³‡æ–™åº«çš„ç‰©ä»¶<br>æœ‰å…©å€‹å®˜æ–¹æ–‡æª”ä¸­<a href="https://codeigniter.com/userguide3/general/profiling.html">å¹¾ä¹æ²’æœ‰æåˆ°</a>çš„åƒæ•¸ï¼š<br><code>$this-&gt;db-&gt;queries</code> èˆ‡ <code>$this-&gt;db-&gt;query_times</code></p><p>é€™å€‹åŠŸèƒ½å…¶å¯¦æ˜¯CodeIgniteræä¾›çµ¦é–‹ç™¼è€…æŸ¥è©¢sqlæŒ‡ä»¤ç´€éŒ„èˆ‡åŸ·è¡Œæ™‚é–“çš„åŠŸèƒ½<br>å¯ä»¥çœ‹åˆ°æ¯å€‹sqlèªæ³•èŠ±è²»çš„å¯¦éš›æ™‚é–“<br><strong>ç›´æ¥çœ‹Codeï¼š</strong></p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$times</span> = <span class="hljs-variable language_">$this</span>-&gt;db-&gt;query_times;<span class="hljs-keyword">foreach</span> (<span class="hljs-variable language_">$this</span>-&gt;db-&gt;queries <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span> =&gt; <span class="hljs-variable">$query</span>)&#123;    <span class="hljs-variable">$microsec</span> = <span class="hljs-title function_ invoke__">round</span>(<span class="hljs-variable">$times</span>[<span class="hljs-variable">$key</span>] * <span class="hljs-number">1000</span>, <span class="hljs-number">4</span>);    <span class="hljs-keyword">echo</span> <span class="hljs-string">&#x27;[&#x27;</span> . <span class="hljs-variable">$microsec</span> . <span class="hljs-string">&#x27; microseconds] &#x27;</span> . <span class="hljs-variable">$query</span> . <span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span>;&#125;</code></pre></div><p><strong>åŸ·è¡Œçµæœï¼š</strong><br><img src="https://ithelp.ithome.com.tw/upload/images/20210917/20139878LzO8sMXawj.png" alt="https://ithelp.ithome.com.tw/upload/images/20210917/20139878LzO8sMXawj.png"></p><p>å¾åŸ·è¡Œçµæœå¯ä»¥æ¸…æ¥šçš„äº†è§£æ¯å€‹sqlèªæ³•èŠ±è²»äº†å¤šä¹…çš„æ™‚é–“é€²è¡ŒæŸ¥è©¢<br>å¹«åŠ©é–‹ç™¼äººå“¡é€²è¡Œæ•ˆèƒ½å„ªåŒ–<br>åŸ·è¡Œçš„<strong>æ‰€æœ‰</strong>èªæ³•éƒ½å­˜åœ¨é€™å€‹è®Šæ•¸è£¡é¢ï¼ŒçœŸæ˜¯å¤ªæ–¹ä¾¿äº†å°å§~</p><p><font size=5 >ä½†æ˜¯</font></p><p>é€™å€‹åŠŸèƒ½åœ¨CodeIgniterè£¡æ˜¯é è¨­é–‹å•Ÿçš„<br>æ‰€ä»¥ç•¶ä»Šå¤©éœ€è¦é€²è¡Œå¤§é‡çš„sqlæŸ¥è©¢æ™‚<br>é€™å€‹åŠŸèƒ½å°±æœƒé»˜é»˜åœ°åƒæ‰è¨˜æ†¶é«”<br>ç”šè‡³å°è‡´out of memoryéŒ¯èª¤</p><p>å¦‚æœæ²’æœ‰ç‰¹åˆ¥éœ€è¦çš„è©±<br>å¯ä»¥åœ¨è³‡æ–™åº«è¨­å®šåŠ ä¸Š <code>&#39;save_queries&#39; =&gt; FALSE</code><br>å¦‚ä¸‹ï¼š</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$db</span>[<span class="hljs-string">&#x27;default&#x27;</span>] = <span class="hljs-keyword">array</span>(<span class="hljs-string">&#x27;dsn&#x27;</span>=&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;hostname&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;username&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;password&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;database&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;dbdriver&#x27;</span> =&gt; <span class="hljs-string">&#x27;mysqli&#x27;</span>,<span class="hljs-string">&#x27;dbprefix&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;pconnect&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,<span class="hljs-string">&#x27;db_debug&#x27;</span> =&gt; (ENVIRONMENT !== <span class="hljs-string">&#x27;production&#x27;</span>),<span class="hljs-string">&#x27;cache_on&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,<span class="hljs-string">&#x27;cachedir&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;char_set&#x27;</span> =&gt; <span class="hljs-string">&#x27;utf8&#x27;</span>,<span class="hljs-string">&#x27;dbcollat&#x27;</span> =&gt; <span class="hljs-string">&#x27;utf8_general_ci&#x27;</span>,<span class="hljs-string">&#x27;swap_pre&#x27;</span> =&gt; <span class="hljs-string">&#x27;&#x27;</span>,<span class="hljs-string">&#x27;encrypt&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,<span class="hljs-string">&#x27;compress&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,<span class="hljs-string">&#x27;stricton&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,<span class="hljs-string">&#x27;failover&#x27;</span> =&gt; <span class="hljs-keyword">array</span>(),<span class="hljs-string">&#x27;save_queries&#x27;</span> =&gt; <span class="hljs-literal">FALSE</span>,<span class="hljs-string">&#x27;port&#x27;</span> =&gt; <span class="hljs-number">3306</span>,);</code></pre></div><p>æˆ–æ˜¯åœ¨åŸ·è¡Œå¤§é‡æŸ¥è©¢å‰<br>å…ˆä½¿ç”¨ï¼š</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable language_">$this</span>-&gt;db-&gt;save_queries = <span class="hljs-literal">FALSE</span>;</code></pre></div><p>ä¾†é¿å…logç´€éŒ„åƒæ‰å¤§é‡è¨˜æ†¶é«”å°è‡´è¨˜æ†¶é«”æº¢å‡ºçš„ç‹€æ³</p><h3 id="ä¸‰ã€çµèª"><a href="#ä¸‰ã€çµèª" class="headerlink" title="ä¸‰ã€çµèª"></a>ä¸‰ã€çµèª</h3><p>æˆ‘å€‘éƒ½çŸ¥é“ä½¿ç”¨æ¡†æ¶éå¸¸æ–¹ä¾¿<br>å¯ä»¥çœå»å¾ˆå¤šé‡è¤‡çš„å‹•ä½œ<br>ä»¥CodeIgniterä¸­çš„dbç‰©ä»¶ä¾†èªª<br>æœ€å¤§çš„å¹«åŠ©å°±æ˜¯æ¸›å°‘äº†æ¯æ¬¡éƒ½è¦é˜²ç¯„SQL injectionåŠŸå¤«<br>é‚„æœ‰ä¸²æ¥SQLèªæ³•çš„éº»ç…©<br>ä½†æ˜¯æ¡†æ¶æœ€å¤§çš„éš±æ‚£å°±æ˜¯<br>ä½¿ç”¨å®ƒæä¾›çš„ã€Œ<strong>æ–¹ä¾¿</strong>ã€<br>ä½†å»ä¸çŸ¥é“æ¡†æ¶åˆ°åº•åœ¨èƒŒå¾Œåšäº†ä»€éº¼äº‹æƒ…</p><p>æˆ‘å€‘éœ€è¦æ€è€ƒä¸€å€‹å•é¡Œï¼š<br>ä½ åœ¨ä½¿ç”¨é€™äº›æ–¹ä¾¿çš„å·¥å…·ç”ŸæˆSQLèªæ³•æ™‚<br>çœŸçš„çŸ¥é“å®ƒå¯¦éš›ä¸ŠåŸ·è¡Œçš„SQLèªå¥é•·ç”šéº¼æ¨£å­å—?<br>æœƒä¸æœƒç¨‹å¼æ•ˆç‡å¾ˆå·®çš„åŸå› å°±å‡ºåœ¨æ¡†æ¶?</p><p>é€™ç¯‡ä¸¦ä¸æ˜¯é¼“å‹µä¸è¦ä½¿ç”¨æ¡†æ¶<br>è€Œæ˜¯æƒ³åˆ†äº«ä¸€å€‹è§€å¿µï¼š<strong>ä¸è¦éåº¦ä¾è³´ä»»ä½•å·¥å…·</strong><br>çœŸçš„æ¸…æ¥šè‡ªå·±åšäº†ç”šéº¼äº‹æƒ…<br>æ‰ä¸æœƒå“ªä¸€å¤©è¢«è‡ªå·±çµ¦å‘äº†</p><h3 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h3><ul><li>CodeIgniter 3</li></ul>]]></content>
    
    
    <categories>
      
      <category>CodeIgniter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CodeIgniter</tag>
      
      <tag>PHP</tag>
      
      <tag>è¨˜æ†¶é«”</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[CodeIgniter] éš±è—ç¶²å€ä¸­çš„index.php</title>
    <link href="/posts/20231029-ci-rm-index/"/>
    <url>/posts/20231029-ci-rm-index/</url>
    
    <content type="html"><![CDATA[<p>Codeigniterå¦‚æœä¸èª¿æ•´è¨­å®šï¼Œç¶²å€ä¸­æœƒè‡ªå¸¶index.php<br>ç‚ºäº†ç¬¦åˆMVCæ¶æ§‹ï¼Œé€šå¸¸æœƒå°‡å®ƒå»é™¤ï¼Œä»¥ä¸‹æ˜¯è™•ç†æ­¥é©Ÿï¼š</p><h3 id="ä¸€ã€é–‹å•Ÿä¼ºæœå™¨çš„mod-rewrite"><a href="#ä¸€ã€é–‹å•Ÿä¼ºæœå™¨çš„mod-rewrite" class="headerlink" title="ä¸€ã€é–‹å•Ÿä¼ºæœå™¨çš„mod_rewrite"></a>ä¸€ã€é–‹å•Ÿä¼ºæœå™¨çš„mod_rewrite</h3><p>é€™é‚Šæˆ‘ä»¥Apacheä½œç‚ºç¯„ä¾‹<br>é–‹å•Ÿhttpd.confï¼Œæ‰¾åˆ°é€™è¡Œï¼š<code>#LoadModule rewrite_module modules/mod_rewrite.so</code><br><img src="https://ithelp.ithome.com.tw/upload/images/20210726/20139878y1uX4Whiiu.png" alt="https://ithelp.ithome.com.tw/upload/images/20210726/20139878y1uX4Whiiu.png"><br>æˆ‘å€‘è¦å–æ¶ˆè¨»è§£ï¼Œæ‰€ä»¥å°‡é€™è¡Œå‰é¢çš„#å»é™¤<br>ä¸¦<strong>é‡æ–°å•Ÿå‹•Apache</strong></p><h3 id="äºŒã€-ç¢ºèªmod-rewriteæ˜¯å¦å•Ÿç”¨"><a href="#äºŒã€-ç¢ºèªmod-rewriteæ˜¯å¦å•Ÿç”¨" class="headerlink" title="äºŒã€ ç¢ºèªmod_rewriteæ˜¯å¦å•Ÿç”¨"></a>äºŒã€ ç¢ºèªmod_rewriteæ˜¯å¦å•Ÿç”¨</h3><p>é‹è¡Œphpå‡½å¼phpinfo()ï¼Œä¸¦é–‹å•Ÿè©²ç•«é¢å¾Œ<br>æœå°‹<code>mod_rewrite</code><br><img src="https://ithelp.ithome.com.tw/upload/images/20210726/20139878RW82EbATwl.png" alt="https://ithelp.ithome.com.tw/upload/images/20210726/20139878RW82EbATwl.png"><br>åªè¦åœ¨loaded modulesæ¬„ä½å…§æœ‰æ‰¾åˆ°mod_rewriteå°±ä»£è¡¨å•Ÿç”¨æˆåŠŸ</p><h3 id="ä¸‰ã€-ç·¨è¼¯-htaccessæª”æ¡ˆ"><a href="#ä¸‰ã€-ç·¨è¼¯-htaccessæª”æ¡ˆ" class="headerlink" title="ä¸‰ã€ ç·¨è¼¯.htaccessæª”æ¡ˆ"></a>ä¸‰ã€ ç·¨è¼¯.htaccessæª”æ¡ˆ</h3><p>æ‰¾åˆ°codeigniteræ ¹ç›®éŒ„å…§çš„.htaccessæª”æ¡ˆ(è‹¥æ²’æœ‰è©²æª”æ¡ˆå‰‡å»ºç«‹ä¸€å€‹)ï¼Œä¸¦åœ¨æª”æ¡ˆå…§åŠ å…¥ä»¥ä¸‹å…§å®¹ï¼š</p><div class="code-wrapper"><pre><code class="hljs apache"><span class="hljs-attribute">RewriteEngine</span> <span class="hljs-literal">on</span><span class="hljs-attribute">RewriteCond</span> $<span class="hljs-number">1</span> !^(index\.php)<span class="hljs-attribute">RewriteCond</span> <span class="hljs-variable">%&#123;REQUEST_FILENAME&#125;</span> !-f<span class="hljs-attribute">RewriteCond</span> <span class="hljs-variable">%&#123;REQUEST_FILENAME&#125;</span> !-d<span class="hljs-attribute">RewriteCond</span> $<span class="hljs-number">1</span> !^(index\.php|img|css|js|fonts|robots\.txt)<span class="hljs-attribute">RewriteRule</span> ^(.*)$ index.php/$<span class="hljs-number">1</span><span class="hljs-meta"> [L,QSA]</span></code></pre></div><h3 id="å››ã€-ä¿®æ”¹config-phpæª”æ¡ˆ"><a href="#å››ã€-ä¿®æ”¹config-phpæª”æ¡ˆ" class="headerlink" title="å››ã€ ä¿®æ”¹config.phpæª”æ¡ˆ"></a>å››ã€ ä¿®æ”¹config.phpæª”æ¡ˆ</h3><p>æ‰¾åˆ°application\config\config.phpï¼Œä¸¦æ‰¾åˆ°<br><code>$config[&#39;index_page&#39;] = &#39;index.php&#39;;</code><br>ä¸¦æ”¹æˆï¼š<br><code>$config[&#39;index_page&#39;] = &#39;&#39;;</code></p><p>æ¥ä¸‹ä¾†ä½ çš„ç¶²å€å°±å¯ä»¥çœç•¥è¼¸å…¥index.phpäº†</p><h3 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h3><ul><li>Windows 10</li><li>php 7.3.5</li><li>Apache 2.4.39</li><li>Codeigniter 3.1.6</li></ul>]]></content>
    
    
    <categories>
      
      <category>CodeIgniter</category>
      
    </categories>
    
    
    <tags>
      
      <tag>CodeIgniter</tag>
      
      <tag>PHP</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[Laravel] å®¢è£½åŒ–ä½ çš„Laravel: macro</title>
    <link href="/posts/20220825-laravel-macro/"/>
    <url>/posts/20220825-laravel-macro/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ­¤æ–‡ç« åŒæ­¥åˆŠç™»æ–¼<a href="https://blog.twjoin.com/%E5%AE%A2%E8%A3%BD%E5%8C%96%E4%BD%A0%E7%9A%84laravel-macro-a50cb917d82">å“²ç…œç§‘æŠ€çš„Medium</a></p></blockquote><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>æœ‰çš„æ™‚å€™ï¼Œæœƒå¸Œæœ›åœ¨LaravelåŸç”Ÿçš„classæ–°å¢åŠŸèƒ½çš„æ™‚å€™ï¼Œå¤§å¤šæˆ‘å€‘éƒ½æœƒå¯«ä¸€å€‹æ–°çš„classä¸¦ç¹¼æ‰¿ï¼Œä½†æ˜¯å…¶å¯¦Laravelæä¾›äº†ä¸€å€‹ä¸åŒçš„æ–¹å¼ï¼Œè®“æˆ‘å€‘å¯ä»¥åœ¨å¸¸ç”¨çš„classä¸Šï¼Œç›´æ¥æ–°å¢æƒ³è¦çš„functionï¼Œé‚£å°±æ˜¯macroã€‚</p><h3 id="ä¸€ã€ä½¿ç”¨"><a href="#ä¸€ã€ä½¿ç”¨" class="headerlink" title="ä¸€ã€ä½¿ç”¨"></a>ä¸€ã€ä½¿ç”¨</h3><p>æˆ‘å€‘å¯ä»¥åœ¨Providerçš„boot()è£¡é¢ä½¿ç”¨macroä¾†æ·»åŠ è‡ªè¨‚çš„functionï¼Œé€™é‚Šä»¥Collectionç‚ºä¾‹å­:</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-title class_">Collection</span>::<span class="hljs-title function_ invoke__">macro</span>(<span class="hljs-string">&#x27;remove&#x27;</span>, function (<span class="hljs-keyword">string</span> <span class="hljs-variable">$filterValue</span>, ?<span class="hljs-keyword">string</span> <span class="hljs-variable">$filterKey</span> = <span class="hljs-literal">null</span>) &#123;    <span class="hljs-keyword">foreach</span> (<span class="hljs-variable language_">$this</span> <span class="hljs-keyword">as</span> <span class="hljs-variable">$key</span> =&gt; <span class="hljs-variable">$item</span>) &#123;        <span class="hljs-comment">// æ ¹æ“šæ˜¯å¦æœ‰$filterKeyæ±ºå®šå¦‚ä½•å–å€¼</span>        <span class="hljs-variable">$value</span> = <span class="hljs-title function_ invoke__">is_null</span>(<span class="hljs-variable">$filterKey</span>) ? <span class="hljs-variable">$item</span> : <span class="hljs-title function_ invoke__">data_get</span>(<span class="hljs-variable">$item</span>, <span class="hljs-variable">$filterKey</span>);        <span class="hljs-comment">// å¦‚æœå€¼èˆ‡$filterValueç›¸åŒå°±ç§»é™¤è©²item</span>        <span class="hljs-keyword">if</span> (<span class="hljs-variable">$value</span> == <span class="hljs-variable">$filterValue</span>) &#123;            <span class="hljs-variable language_">$this</span>-&gt;<span class="hljs-title function_ invoke__">forget</span>(<span class="hljs-variable">$key</span>);        &#125;    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">$this</span>;&#125;);</code></pre></div><p>ç¾åœ¨Collectionå°±è¢«è¨»å†Šäº†ä¸€å€‹åç‚ºremoveçš„functionäº†ï¼Œå¯ä»¥ç›´æ¥é€évalueç§»é™¤æŒ‡å®šçš„å…ƒç´ :</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$collection</span> = <span class="hljs-title function_ invoke__">collect</span>([    <span class="hljs-string">&#x27;æ¨™é¡Œ1&#x27;</span>, <span class="hljs-string">&#x27;æ¨™é¡Œ2&#x27;</span>, <span class="hljs-string">&#x27;æ¨™é¡Œ3&#x27;</span>, <span class="hljs-string">&#x27;æ¨™é¡Œ4&#x27;</span>]);<span class="hljs-variable">$collection</span>-&gt;<span class="hljs-title function_ invoke__">remove</span>(<span class="hljs-string">&#x27;æ¨™é¡Œ3&#x27;</span>);</code></pre></div><p>æˆ–æ˜¯åƒdata_getä¸€æ¨£å–å¾—å·¢ç‹€ç‰©ä»¶æˆ–é™£åˆ—çš„æ–¹å¼ï¼Œç§»é™¤æŒ‡å®šçš„å…ƒç´ ï¼Œä¾‹å¦‚:</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$collection</span> = <span class="hljs-title function_ invoke__">collect</span>([[    <span class="hljs-string">&#x27;title&#x27;</span> =&gt; <span class="hljs-string">&#x27;æ¨™é¡Œ1&#x27;</span>,    <span class="hljs-string">&#x27;content&#x27;</span> =&gt; <span class="hljs-string">&#x27;å…§å®¹1&#x27;</span>,    <span class="hljs-string">&#x27;writer&#x27;</span> =&gt; [        <span class="hljs-string">&#x27;name&#x27;</span> =&gt; <span class="hljs-string">&#x27;ä½œè€…1&#x27;</span>,        <span class="hljs-string">&#x27;gender&#x27;</span> =&gt; <span class="hljs-string">&#x27;man&#x27;</span>,    ],],[    <span class="hljs-string">&#x27;title&#x27;</span> =&gt; <span class="hljs-string">&#x27;æ¨™é¡Œ2&#x27;</span>,    <span class="hljs-string">&#x27;content&#x27;</span> =&gt; <span class="hljs-string">&#x27;å…§å®¹2&#x27;</span>,    <span class="hljs-string">&#x27;writer&#x27;</span> =&gt; [        <span class="hljs-string">&#x27;name&#x27;</span> =&gt; <span class="hljs-string">&#x27;ä½œè€…2&#x27;</span>,        <span class="hljs-string">&#x27;gender&#x27;</span> =&gt; <span class="hljs-string">&#x27;woman&#x27;</span>,    ],],[    <span class="hljs-string">&#x27;title&#x27;</span> =&gt; <span class="hljs-string">&#x27;æ¨™é¡Œ3&#x27;</span>,    <span class="hljs-string">&#x27;content&#x27;</span> =&gt; <span class="hljs-string">&#x27;å…§å®¹3&#x27;</span>,    <span class="hljs-string">&#x27;writer&#x27;</span> =&gt; [        <span class="hljs-string">&#x27;name&#x27;</span> =&gt; <span class="hljs-string">&#x27;ä½œè€…3&#x27;</span>,            <span class="hljs-string">&#x27;gender&#x27;</span> =&gt; <span class="hljs-string">&#x27;man&#x27;</span>,        ],    ],]);<span class="hljs-variable">$collection</span>-&gt;<span class="hljs-title function_ invoke__">remove</span>(<span class="hljs-string">&#x27;ä½œè€…3&#x27;</span>, <span class="hljs-string">&#x27;writer.name&#x27;</span>);</code></pre></div><h3 id="äºŒã€å¯¦ç¾æ–¹å¼"><a href="#äºŒã€å¯¦ç¾æ–¹å¼" class="headerlink" title="äºŒã€å¯¦ç¾æ–¹å¼"></a>äºŒã€å¯¦ç¾æ–¹å¼</h3><p>åœ¨Laravelä¸­åªè¦æ˜¯æœ‰ä½¿ç”¨<code>Illuminate\Support\Traits\Macroable</code>é€™å€‹traitçš„classï¼Œå°±å¯ä»¥ä½¿ç”¨macroï¼Œè€ŒLaravelæ˜¯å¦‚ä½•å¯¦ç¾é€™å€‹åŠŸèƒ½çš„å‘¢?å…¶å¯¦ä¹Ÿå¾ˆç°¡å–®ï¼Œå°±æ˜¯åˆ©ç”¨é­”è¡“æ–¹æ³•ä¸­çš„call functionï¼Œè®“æˆ‘å€‘çœ‹ä¸€ä¸‹åŸå§‹ç¢¼å¯«äº†ä¸€äº›ç”šéº¼å§ã€‚</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">macro</span>(<span class="hljs-params"><span class="hljs-variable">$name</span>, <span class="hljs-variable">$macro</span></span>)</span><span class="hljs-function"></span>&#123;    <span class="hljs-built_in">static</span>::<span class="hljs-variable">$macros</span>[<span class="hljs-variable">$name</span>] = <span class="hljs-variable">$macro</span>;&#125;</code></pre></div><p>macroåšçš„äº‹æƒ…éå¸¸å–®ç´”ï¼Œå°±æ˜¯æŠŠæˆ‘å€‘æ”¾é€²ä¾†çš„function nameè·ŸClosureå„²å­˜ä¸‹ä¾†ï¼Œè€Œç­‰åˆ°æˆ‘å€‘ä½¿ç”¨è‡ªè¨‚functionçš„æ™‚å€™å°±æœƒè§¸ç™¼call functionçš„æ©Ÿåˆ¶:</p><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">__call</span>(<span class="hljs-params"><span class="hljs-variable">$method</span>, <span class="hljs-variable">$parameters</span></span>)</span><span class="hljs-function"></span>&#123;    <span class="hljs-keyword">if</span> (! <span class="hljs-built_in">static</span>::<span class="hljs-title function_ invoke__">hasMacro</span>(<span class="hljs-variable">$method</span>)) &#123;        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">BadMethodCallException</span>(<span class="hljs-title function_ invoke__">sprintf</span>(            <span class="hljs-string">&#x27;Method %s::%s does not exist.&#x27;</span>, <span class="hljs-built_in">static</span>::<span class="hljs-variable language_">class</span>, <span class="hljs-variable">$method</span>        ));    &#125;    <span class="hljs-variable">$macro</span> = <span class="hljs-built_in">static</span>::<span class="hljs-variable">$macros</span>[<span class="hljs-variable">$method</span>];    <span class="hljs-keyword">if</span> (<span class="hljs-variable">$macro</span> <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Closure</span>) &#123;        <span class="hljs-variable">$macro</span> = <span class="hljs-variable">$macro</span>-&gt;<span class="hljs-title function_ invoke__">bindTo</span>(<span class="hljs-variable">$this</span>, <span class="hljs-built_in">static</span>::<span class="hljs-variable language_">class</span>);    &#125;    <span class="hljs-keyword">return</span> <span class="hljs-variable">$macro</span>(...<span class="hljs-variable">$parameters</span>);&#125;</code></pre></div><p>é€™æ¨£æˆ‘å€‘çš„è‡ªè¨‚functinå°±è¨»å†Šçµ¦äº†é€™å€‹classï¼Œä¹Ÿå°±å¯ä»¥åƒå…§å»ºçš„functionä¾†ä½¿ç”¨äº†ã€‚<br>åœ¨Laravelä¸­ï¼Œæœ‰ä½¿ç”¨<code>Macroable</code>çš„classéå¸¸çš„å¤šï¼ŒåŒ…æ‹¬ä½†ä¸é™æ–¼ä»¥ä¸‹:</p><ul><li>Response</li><li>Request</li><li>Collection</li><li>HTML</li><li>Form</li><li>Str</li><li>Arr</li><li>Translator</li><li>File</li><li>Lang</li></ul><p>ä½†å‡¡åªè¦æœ‰å¼•ç”¨<code>Macroable</code>çš„calsséƒ½å¯ä»¥ä½¿ç”¨carceä¾†è¨»å†Šè‡ªå·±çš„functionï¼Œç­†è€…é€™é‚Šåœ¨Laravel 8å…§æœå°‹äº†ä¸€ä¸‹å°±ç™¼ç¾æœ‰51å€‹classæœ‰å¼•ç”¨<code>Macroable</code>ï¼Œé€™é‚„ä¸åŒ…å«é€™äº›classçš„å­classï¼Œå¯ä»¥èªªéå¸¸çš„å»£æ³›ï¼Œå¤§å®¶ä¸å¦¨å¯ä»¥è‡ªå·±è©¦è©¦çœ‹ã€‚</p><p>åƒè€ƒè³‡æ–™:</p><ul><li><a href="https://laravel.com/docs/8.x/collections#extending-collections">https://laravel.com/docs/8.x/collections#extending-collections</a></li><li><a href="https://learnku.com/laravel/t/2915/how-to-use-the-macro-method-to-extend-the-function-of-the-base-class-of-laravel">https://learnku.com/laravel/t/2915/how-to-use-the-macro-method-to-extend-the-function-of-the-base-class-of-laravel</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Laravel</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PHP</tag>
      
      <tag>Laravel</tag>
      
      <tag>macro</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>[å…¶ä»–] ADçš„æ›¿ä»£å“: OpenLDAP å»ºç½®èˆ‡ä»‹æ¥</title>
    <link href="/posts/20220601-other-openldap-introduction/"/>
    <url>/posts/20220601-other-openldap-introduction/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æ­¤æ–‡ç« åŒæ­¥åˆŠç™»æ–¼<a href="https://medium.com/twjoin/%E7%AD%86%E8%A8%98-openldap-%E5%BB%BA%E7%BD%AE%E8%88%87%E4%BB%8B%E6%8E%A5-3e16175b6c3c">å“²ç…œç§‘æŠ€çš„Medium</a></p></blockquote><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¦‚æœæœ¬èº«æ˜¯å¤§å‹çµ„ç¹”çš„ITï¼Œæˆ–æ˜¯ä»»è·æ–¼æœå‹™ä¾›æ‡‰å•†ï¼Œæ›¾ç¶“æä¾›å¤§å‹å®¢æˆ¶å®¢è£½è»Ÿé«”æœå‹™ï¼Œæƒ³å¿…å°æ–¼å¾®è»Ÿçš„Active Directory(AD)ä¸é™Œç”Ÿå§ï¼Œç°¡å–®ä¾†è¬›ï¼Œé€™å€‹ç³»çµ±çš„ä¸»è¦ç›®çš„å¦‚ä¸‹:</p><blockquote><p>ç”¨é€”ç‚ºä»¥æ¨¹ç‹€çµæ§‹ç®¡ç†çµ„ç¹”ä¸­çš„ç¶²è·¯ç‰©ä»¶ï¼Œç‰©ä»¶å¯ä»¥æ˜¯ä½¿ç”¨è€…ã€ç¾¤çµ„ã€é›»è…¦ã€ç¶²åŸŸæ§åˆ¶ç«™ã€éƒµä»¶ã€è¨­å®šæª”ã€çµ„ç¹”å–®å…ƒã€æ¨¹ç³»ç­‰ç­‰ï¼Œåªè¦æ˜¯åœ¨Active Directoryçµæ§‹å®šç¾©æª”ï¼ˆschemaï¼‰ä¸­å®šç¾©çš„ç‰©ä»¶ï¼Œå°±å¯ä»¥å„²å­˜åœ¨Active Directoryè³‡æ–™æª”ä¸­ã€‚</p><p>â€“ çµ±æ•´ä¸¦ç¯€éŒ„æ–¼<a href="https://zh.m.wikipedia.org/zh-tw/Active_Directory">ç¶­åŸºç™¾ç§‘</a></p></blockquote><p>å¦‚ä¸Šæ‰€è¿°ï¼Œé€éADï¼Œå¯ä»¥é‡å°æ•´å€‹ç¶²åŸŸä¸­çš„è¨­å‚™æ´¾é€è»Ÿé«”å®‰è£ã€åŸ·è¡Œç¨‹å¼ï¼Œä¹Ÿå¯ä»¥é›†ä¸­ç®¡ç†å“¡å·¥å¸³è™Ÿï¼Œåˆ©ç”¨Single Sign-On(SSO)å°±å¯ä»¥åªç”¨ä¸€çµ„ADçš„å¸³è™Ÿå¯†ç¢¼ï¼Œè®“æ¯å€‹å“¡å·¥ç™»å…¥ä½œæ¥­ç³»çµ±èˆ‡ä½¿ç”¨æ‡‰ç”¨ç¨‹å¼ã€‚</p><p>é›–ç„¶å¾®è»Ÿçš„ADåŠŸèƒ½å®Œå–„ã€åªè¦æœ‰Windows Serverå°±èƒ½å¤ æ¶è¨­ï¼Œä½†æ˜¯è¦éŒ¢å•Šã€‚å› æ­¤ä¸å°‘ä¼æ¥­ä¹Ÿé¸æ“‡äº†å…¶ä»–çš„æ›¿ä»£æ–¹æ¡ˆï¼Œä¾‹å¦‚Novellçš„eDirectoryï¼Œæˆ–æ˜¯é–‹æºä¸¦åŒ…å«åœ¨è¨±å¤šLinuxè£¡çš„OpenLDAPï¼Œè€Œé€™å°±æ˜¯ä»Šå¤©è¦è¬›çš„ä¸»é¡Œã€‚</p><h2 id="OpenLDAPå»ºç½®"><a href="#OpenLDAPå»ºç½®" class="headerlink" title="OpenLDAPå»ºç½®"></a>OpenLDAPå»ºç½®</h2><h3 id="ä¸€ã€-å®‰è£OpenLDAP"><a href="#ä¸€ã€-å®‰è£OpenLDAP" class="headerlink" title="ä¸€ã€ å®‰è£OpenLDAP"></a>ä¸€ã€ å®‰è£OpenLDAP</h3><ol><li><p>æ›´æ–°å®‰è£åŒ…ç›®éŒ„</p><div class="code-wrapper"><pre><code class="hljs bash">sudo apt update</code></pre></div></li><li><p>ä¸‹è¼‰OpenLDAP</p><div class="code-wrapper"><pre><code class="hljs bash">sudo apt install slapd</code></pre></div></li><li><p>è¨­å®šç®¡ç†è€…å¯†ç¢¼</p></li></ol><p><img src="https://i.imgur.com/e0XXBGF.png"></p><p><img src="https://i.imgur.com/hVlkWvr.png"></p><ol start="4"><li>å®‰è£å®Œæˆ</li></ol><p><img src="https://i.imgur.com/6n9vZxa.png"></p><ol start="5"><li>ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤ç¢ºèªæ˜¯å¦æœ‰å®‰è£æˆåŠŸ<div class="code-wrapper"><pre><code class="hljs bash">sudo netstat -tulnp | grep slapd</code></pre></div>ç¢ºèª389 portæ­£åœ¨è¢«ç›£è½ä¸­ï¼š<br><img src="https://i.imgur.com/sWXU9At.png"></li></ol><h3 id="äºŒã€è¨­å®šslapd"><a href="#äºŒã€è¨­å®šslapd" class="headerlink" title="äºŒã€è¨­å®šslapd"></a>äºŒã€è¨­å®šslapd</h3><ol><li>é‡æ–°ç”¢ç”Ÿslapdçš„è¨­å®šæª”<div class="code-wrapper"><pre><code class="hljs bash">sudo dpkg-reconfigure slapd</code></pre></div></li><li>é¸æ“‡ã€ŒNOã€ï¼Œä¸å¿½ç•¥OpenLDAP serveré…ç½®</li></ol><p><img src="https://i.imgur.com/OPUs4Dh.png"></p><ol start="3"><li>è¨­å®šdomain name<br>OpenLDAPæœƒæ ¹æ“šè¨­å®šç”Ÿæˆè©²ADä¹‹å¾Œçš„base dn(Distinguish Name)<br>ä»¥åœ–ä¸­çš„<code>ad.hankz.org.tw</code>ç‚ºä¾‹ï¼Œç”¢ç”Ÿçš„base_dnå°±æœƒæ˜¯<code>dc=ad,dc=hankz,dc=org,dc=tw</code></li></ol><p><img src="https://i.imgur.com/hzEPi9B.png"></p><ol start="4"><li>è¨­å®šçµ„ç¹”åç¨±ï¼Œä¸å½±éŸ¿çµæ§‹</li></ol><p><img src="https://i.imgur.com/VeKu4AA.png"></p><ol start="5"><li>è¨­å®šç®¡ç†å“¡å¯†ç¢¼</li></ol><p><img src="https://i.imgur.com/4Uy1bFt.png"></p><p><img src="https://i.imgur.com/Jw4r5hR.png"></p><ol start="6"><li>è¨­å®šå¾Œç«¯ä½¿ç”¨è³‡æ–™åº«ï¼Œé¸æ“‡MDBå³å¯</li></ol><p><img src="https://i.imgur.com/09AS6pH.png"></p><ol start="7"><li>æ˜¯å¦è¦åœ¨ç§»é™¤slapdæ™‚ï¼Œæ¸…é™¤è³‡æ–™åº«</li></ol><p><img src="https://i.imgur.com/vWnE0m2.png"></p><ol start="8"><li>æ˜¯å¦è¦å‚™ä»½èˆŠè³‡æ–™åº«(é è¨­è·¯å¾‘ï¼š<code>/var/backups/</code>)</li></ol><p><img src="https://i.imgur.com/URvRGic.png"></p><ol start="9"><li>LDAPv2æ˜¯éæ™‚çš„ï¼Œæ˜¯å¦ç¦ç”¨LDAPv2(å»ºè­°ç¦ç”¨)</li></ol><p><img src="https://i.imgur.com/f8rkmLX.png"></p><ol start="10"><li>è¨­å®šå®Œæˆ</li></ol><p><img src="https://i.imgur.com/0daaI6q.png"></p><ol start="11"><li>æŸ¥è©¢ldapå…§å®¹(æ¸…å–®æ¢åˆ—ï¼Œä¸æ–¹ä¾¿é–±è®€ï¼Œå¾Œé¢æœƒä»‹ç´¹GUIå·¥å…·)<div class="code-wrapper"><pre><code class="hljs bash">sudo slapcat</code></pre></div><img src="https://i.imgur.com/HR2yW9p.png"></li></ol><h2 id="ldapå¸¸ç”¨è¨­å®š"><a href="#ldapå¸¸ç”¨è¨­å®š" class="headerlink" title="ldapå¸¸ç”¨è¨­å®š"></a>ldapå¸¸ç”¨è¨­å®š</h2><h3 id="ä¸€ã€ç¦ç”¨åŒ¿åå­˜å–-anonymous-access"><a href="#ä¸€ã€ç¦ç”¨åŒ¿åå­˜å–-anonymous-access" class="headerlink" title="ä¸€ã€ç¦ç”¨åŒ¿åå­˜å–(anonymous access)"></a>ä¸€ã€ç¦ç”¨åŒ¿åå­˜å–(anonymous access)</h3><p>ä¾†æºï¼š<a href="https://serverfault.com/questions/63916/how-to-disable-anonymous-access-on-ldap">https://serverfault.com/questions/63916/how-to-disable-anonymous-access-on-ldap</a></p><ol><li><p>å®‰è£ldap-utils</p><div class="code-wrapper"><pre><code class="hljs bash">sudo apt install ldap-utils</code></pre></div></li><li><p>å»ºç«‹æª”æ¡ˆ</p><div class="code-wrapper"><pre><code class="hljs bash">sudo vim /usr/share/slapd/ldap_disable_bind_anon.ldif</code></pre></div></li><li><p>è¼¸å…¥ä»¥ä¸‹å…§å®¹å¾Œï¼Œå„²å­˜æª”æ¡ˆä¸¦é€€å‡º(é‡é»ï¼š<code>olcDisallows: bind_anon</code>)</p><div class="code-wrapper"><pre><code class="hljs ldif"><span class="hljs-attribute">dn</span>: cn=config<span class="hljs-attribute">changetype</span>: modify<span class="hljs-attribute">add</span>: olcDisallows<span class="hljs-attribute">olcDisallows</span>: bind_anon<span class="hljs-attribute">dn</span>: cn=config<span class="hljs-attribute">changetype</span>: modify<span class="hljs-attribute">add</span>: olcRequires<span class="hljs-attribute">olcRequires</span>: authc<span class="hljs-attribute">dn</span>: olcDatabase=&#123;-1&#125;frontend,cn=config<span class="hljs-attribute">changetype</span>: modify<span class="hljs-attribute">add</span>: olcRequires<span class="hljs-attribute">olcRequires</span>: authc</code></pre></div></li><li><p>æ‡‰ç”¨è¨­å®š</p><div class="code-wrapper"><pre><code class="hljs bash">sudo ldapadd -Y EXTERNAL -H ldapi:/// -f /usr/share/slapd/ldap_disable_bind_anon.ldif</code></pre></div></li></ol><p>çµæœï¼š<br><img src="https://i.imgur.com/ZF7X00f.png"></p><h2 id="ç®¡ç†å·¥å…·"><a href="#ç®¡ç†å·¥å…·" class="headerlink" title="ç®¡ç†å·¥å…·"></a>ç®¡ç†å·¥å…·</h2><h3 id="ä¸€ã€Softerra-LDAP-Administrator"><a href="#ä¸€ã€Softerra-LDAP-Administrator" class="headerlink" title="ä¸€ã€Softerra LDAP Administrator"></a>ä¸€ã€Softerra LDAP Administrator</h3><p>ç•¶ç„¶ä½¿ç”¨é€™ç¨®command lineä»‹é¢ç®¡ç†å¯¦åœ¨æ˜¯ä¸å¤ªç¾å¯¦ï¼Œæ‰€ä»¥æˆ‘ä½¿ç”¨<a href="https://www.ldapadministrator.com/">Softerra LDAP Administrator</a>ä¾†ä½œç‚ºGUIç®¡ç†ä»‹é¢</p><ol><li><p>ä¸‹è¼‰ä¸¦å®‰è£è»Ÿé«”å¾Œï¼Œæ–°å¢é€£ç·š<br><img src="https://i.imgur.com/JEGVAis.png"></p></li><li><p>å¡«å…¥é€£ç·šè³‡è¨Š(Base DNå¯çœç•¥)<br><img src="https://i.imgur.com/9YSdzHU.png"></p></li><li><p>åˆ‡æ›åˆ°Credentialsé ç±¤ï¼Œé¸æ“‡Other credentialsï¼Œè¼¸å…¥ä½¿ç”¨è€…dnèˆ‡å¯†ç¢¼<br><img src="https://i.imgur.com/mvZl3Yj.png"></p></li><li><p>ç™»å…¥å¾Œå°±å¯ä»¥çœ‹åˆ°æ•´å€‹openLDAPçš„çµæ§‹ï¼Œæ–°å¢ã€ä¿®æ”¹ã€åˆªé™¤ç­‰ç­‰éƒ½å¯ä»¥é€éé€™å€‹å·¥å…·å»å®Œæˆï¼Œæœ‰èˆˆè¶£çš„è©±ï¼Œè®€è€…å¯ä»¥å»ç ”ç©¶ä¸€ä¸‹å¦‚ä½•ä½¿ç”¨ï¼Œé€™é‚Šå°±ä¸å¤šåšè´…è¿°<br><img src="https://i.imgur.com/75FGaJp.png"></p></li></ol><h2 id="PHPä»‹æ¥OpenLDAP"><a href="#PHPä»‹æ¥OpenLDAP" class="headerlink" title="PHPä»‹æ¥OpenLDAP"></a>PHPä»‹æ¥OpenLDAP</h2><p>èº«ç‚ºè»Ÿé«”é–‹ç™¼è€…ï¼Œæ¯”è¼ƒå¸¸é‡è¦‹çš„ä½¿ç”¨å ´æ™¯å¤§æ¦‚å°±æ˜¯ä»‹æ¥Single Sign-On(SSO)å’Œæ’ˆå–è³‡æ–™ä¸¦é€²è¡ŒåŒæ­¥äº†å§ï¼Œé€™é‚Šå°±ç”¨PHPç°¡å–®ç¤ºç¯„ä¸€ä¸‹åŸºæœ¬çš„å¸³è™Ÿç™»å…¥èˆ‡æœå°‹è³‡æ–™å§ã€‚</p><h3 id="ä¸€ã€ç™»å…¥"><a href="#ä¸€ã€ç™»å…¥" class="headerlink" title="ä¸€ã€ç™»å…¥"></a>ä¸€ã€ç™»å…¥</h3><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$host</span> = <span class="hljs-string">&#x27;[YOUR_LDAP_SERVE_HOST]&#x27;</span>;<span class="hljs-variable">$port</span> = <span class="hljs-string">&#x27;[YOUR_LDAP_SERVE_PORT]&#x27;</span>;<span class="hljs-variable">$username</span> = <span class="hljs-string">&#x27;[USER_DN]&#x27;</span>; <span class="hljs-comment">// OpenLDAPèˆ‡MS ADä¸åŒï¼Œä¸æ˜¯ä½¿ç”¨å¸³è™Ÿæ¬„ä½é€²è¡Œç™»å…¥</span><span class="hljs-variable">$password</span> = <span class="hljs-string">&#x27;[USER_PASSWORD]&#x27;</span>;<span class="hljs-variable">$ldapconn</span> = @<span class="hljs-title function_ invoke__">ldap_connect</span>(<span class="hljs-variable">$host</span>, <span class="hljs-variable">$port</span>);<span class="hljs-keyword">if</span>(!<span class="hljs-variable">$ldapconn</span>) &#123;    <span class="hljs-comment">// Host æˆ– Port ã€Œæ ¼å¼ã€è¨­å®šéŒ¯èª¤(é€™æ­¥ä¸¦æ²’æœ‰å°OpenLDAPé€²è¡Œé€£ç·š)</span>    <span class="hljs-keyword">die</span>();&#125;<span class="hljs-variable">$ldapbind</span> = @<span class="hljs-title function_ invoke__">ldap_bind</span>(<span class="hljs-variable">$ldapconn</span>, <span class="hljs-variable">$username</span>, <span class="hljs-variable">$password</span>); <span class="hljs-comment">// çœŸæ­£é€£ç·šçš„åœ°æ–¹</span><span class="hljs-keyword">if</span>(<span class="hljs-variable">$ldapbind</span>) &#123;    <span class="hljs-comment">// ç™»å…¥æˆåŠŸ</span>&#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-comment">// ç™»å…¥å¤±æ•—</span>&#125;</code></pre></div><h3 id="äºŒã€æœç´¢è³‡æ–™"><a href="#äºŒã€æœç´¢è³‡æ–™" class="headerlink" title="äºŒã€æœç´¢è³‡æ–™"></a>äºŒã€æœç´¢è³‡æ–™</h3><div class="code-wrapper"><pre><code class="hljs php"><span class="hljs-variable">$host</span> = <span class="hljs-string">&#x27;[YOUR_LDAP_SERVE_HOST]&#x27;</span>;<span class="hljs-variable">$port</span> = <span class="hljs-string">&#x27;[YOUR_LDAP_SERVE_PORT]&#x27;</span>;<span class="hljs-variable">$username</span> = <span class="hljs-string">&#x27;[USER_DN]&#x27;</span>; <span class="hljs-comment">// OpenLDAPèˆ‡MS ADä¸åŒï¼Œä¸æ˜¯ä½¿ç”¨å¸³è™Ÿæ¬„ä½é€²è¡Œç™»å…¥</span><span class="hljs-variable">$password</span> = <span class="hljs-string">&#x27;[USER_PASSWORD]&#x27;</span>;<span class="hljs-variable">$ldapconn</span> = @<span class="hljs-title function_ invoke__">ldap_connect</span>(<span class="hljs-variable">$host</span>, <span class="hljs-variable">$port</span>);<span class="hljs-keyword">if</span>(!<span class="hljs-variable">$ldapconn</span>) &#123;    <span class="hljs-comment">// Host æˆ– Port ã€Œæ ¼å¼ã€è¨­å®šéŒ¯èª¤(è«‹æ³¨æ„é€™æ­¥ä¸¦æ²’æœ‰å°OpenLDAPé€²è¡Œé€£ç·š)</span>    <span class="hljs-keyword">die</span>();&#125;<span class="hljs-comment">// å¦‚æœè¦ä½¿ç”¨åŒ¿åå­˜å–çš„è©±ï¼Œæ‹¿æ‰é€™è¡Œ</span><span class="hljs-variable">$ldapbind</span> = @<span class="hljs-title function_ invoke__">ldap_bind</span>(<span class="hljs-variable">$ldapconn</span>, <span class="hljs-variable">$username</span>, <span class="hljs-variable">$password</span>);<span class="hljs-comment">// ä¾‹å¦‚ï¼šdc=ad,dc=hankz,dc=org,dc=tw</span><span class="hljs-variable">$base_dn</span> = <span class="hljs-string">&#x27;&#x27;</span>;<span class="hljs-comment">// ä¾‹å¦‚ï¼š(objectClass=*)</span><span class="hljs-variable">$filter</span> = <span class="hljs-string">&#x27;[FILTER]&#x27;</span>;<span class="hljs-comment">// é™£åˆ—ï¼Œæƒ³å–å¾—çš„å±¬æ€§åç¨±ï¼Œè‹¥è¦å…¨éƒ¨å–å¾—ï¼Œè¨­å®šç‚ºarray(&#x27;*&#x27;)</span><span class="hljs-variable">$attributes</span> = <span class="hljs-keyword">array</span>();<span class="hljs-comment">// ç¸½å–å›ç­†æ•¸ï¼Œ0ç‚ºç„¡é™åˆ¶</span><span class="hljs-variable">$sizeLimit</span> = <span class="hljs-number">0</span>;<span class="hljs-comment">// æ¯æ¬¡å–å›ç­†æ•¸</span><span class="hljs-variable">$pageSize</span> = <span class="hljs-number">1000</span>;<span class="hljs-comment">// æ˜¯å¦æœ‰é™åˆ¶ç­†æ•¸</span><span class="hljs-variable">$limit</span> = <span class="hljs-variable">$sizelimit</span> &gt; <span class="hljs-number">0</span>;<span class="hljs-variable">$data</span> = <span class="hljs-keyword">array</span>();<span class="hljs-variable">$cookie</span> = <span class="hljs-string">&#x27;&#x27;</span>;<span class="hljs-keyword">do</span> &#123;    @<span class="hljs-title function_ invoke__">ldap_control_paged_result</span>(<span class="hljs-variable">$ldapconn</span>, <span class="hljs-variable">$pageSize</span>, <span class="hljs-literal">true</span>, <span class="hljs-variable">$cookie</span>);    <span class="hljs-variable">$result</span>  = @<span class="hljs-title function_ invoke__">ldap_list</span>(<span class="hljs-variable">$ldapconn</span>, <span class="hljs-variable">$base_dn</span>, <span class="hljs-variable">$filter</span>, <span class="hljs-variable">$attributes</span>, <span class="hljs-number">0</span>, <span class="hljs-variable">$sizelimit</span>);    <span class="hljs-keyword">if</span>(!<span class="hljs-variable">$result</span>) &#123;        <span class="hljs-keyword">return</span> <span class="hljs-keyword">array</span>();    &#125;    <span class="hljs-variable">$entries</span> = <span class="hljs-title function_ invoke__">ldap_get_entries</span>(<span class="hljs-variable">$ldapconn</span>, <span class="hljs-variable">$result</span>);    <span class="hljs-keyword">unset</span>(<span class="hljs-variable">$entries</span>[<span class="hljs-string">&#x27;count&#x27;</span>]);    <span class="hljs-variable">$data</span> = <span class="hljs-title function_ invoke__">array_merge</span>(<span class="hljs-variable">$data</span>, <span class="hljs-variable">$entries</span>);    @<span class="hljs-title function_ invoke__">ldap_control_paged_result_response</span>(<span class="hljs-variable">$ldapconn</span>, <span class="hljs-variable">$result</span>, <span class="hljs-variable">$cookie</span>);    <span class="hljs-comment">// æ‰£æ‰å·²å–å¾—çš„ç­†æ•¸</span>    <span class="hljs-keyword">if</span>(<span class="hljs-variable">$limit</span>) &#123;        <span class="hljs-variable">$sizelimit</span> -= <span class="hljs-variable">$pageSize</span>;    &#125;    <span class="hljs-comment">// $cookieå¿…é ˆè¦æœ‰å€¼ &amp;&amp; (æ²’æœ‰æŒ‡å®šç­†æ•¸ || é‚„æœªå–å®ŒæŒ‡å®šç­†æ•¸)</span>&#125; <span class="hljs-keyword">while</span>(<span class="hljs-variable">$cookie</span> !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-variable">$cookie</span> != <span class="hljs-string">&#x27;&#x27;</span> &amp;&amp; (<span class="hljs-variable">$limit</span> == <span class="hljs-literal">false</span>|| <span class="hljs-variable">$sizelimit</span> &gt; <span class="hljs-number">0</span> ));<span class="hljs-keyword">if</span>(<span class="hljs-keyword">empty</span>(<span class="hljs-variable">$data</span>)) &#123;    <span class="hljs-comment">// å–å¾—å¤±æ•—</span>&#125; <span class="hljs-keyword">else</span> &#123;    <span class="hljs-comment">// å–å¾—æˆåŠŸ</span>&#125;</code></pre></div><h2 id="ç’°å¢ƒ"><a href="#ç’°å¢ƒ" class="headerlink" title="ç’°å¢ƒ"></a>ç’°å¢ƒ</h2><blockquote><p>Ubuntu 16.04.6 LTS slapd  (Ubuntu) (Feb 18 2021 14:23:06)<br>PHP 7.3.5</p></blockquote><h2 id="åƒè€ƒè³‡æ–™"><a href="#åƒè€ƒè³‡æ–™" class="headerlink" title="åƒè€ƒè³‡æ–™"></a>åƒè€ƒè³‡æ–™</h2><ul><li><a href="https://docs.microsoft.com/zh-tw/azure/active-directory/">https://docs.microsoft.com/zh-tw/azure/active-directory/</a></li><li><a href="https://zh.m.wikipedia.org/zh-tw/Active_Directory">https://zh.m.wikipedia.org/zh-tw/Active_Directory</a></li><li><a href="https://stackoverflow.com/questions/50497256/how-to-re-enable-anonymous-login-in-openldap">https://stackoverflow.com/questions/50497256/how-to-re-enable-anonymous-login-in-openldap</a></li><li><a href="https://www.ldapadministrator.com/">https://www.ldapadministrator.com/</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>å…¶ä»–</category>
      
    </categories>
    
    
    <tags>
      
      <tag>OpenLDAP</tag>
      
      <tag>LDAP</tag>
      
    </tags>
    
  </entry>
  
  
  
  
  
  
  <entry>
    <title>é—œæ–¼æˆ‘</title>
    <link href="/"/>
    <url>/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦ä½¿ç”¨PHPé€²è¡Œç¶²é å¾Œç«¯é–‹ç™¼ï¼Œä¹Ÿæœƒä¸€äº›ç°¡å–®çš„JAVAã€‚</p><p>ç†Ÿæ‚‰çš„æ¡†æ¶ç‚ºCodeIgniterèˆ‡Laravelï¼Œä¹Ÿæœƒæ’°å¯«ä¸€äº›ç°¡å–®çš„å‰ç«¯ï¼Œä¾‹å¦‚ï¼šjQueryã€Vueã€‚</p><p>ç›®å‰æœƒåœ¨æœ‰ç©ºæ™‚é€²è¡Œæ–‡ç« å¯«ä½œï¼Œæ­¡è¿äº¤æµã€‚</p>]]></content>
    
  </entry>
  
  
  
</search>
